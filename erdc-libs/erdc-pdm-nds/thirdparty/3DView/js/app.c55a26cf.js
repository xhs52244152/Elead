(function(e){function t(t){for(var n,c,a=t[0],s=t[1],l=t[2],m=0,u=[];m<a.length;m++)c=a[m],Object.prototype.hasOwnProperty.call(i,c)&&i[c]&&u.push(i[c][0]),i[c]=0;for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n]);d&&d(t);while(u.length)u.shift()();return r.push.apply(r,l||[]),o()}function o(){for(var e,t=0;t<r.length;t++){for(var o=r[t],n=!0,a=1;a<o.length;a++){var s=o[a];0!==i[s]&&(n=!1)}n&&(r.splice(t--,1),e=c(c.s=o[0]))}return e}var n={},i={app:0},r=[];function c(t){if(n[t])return n[t].exports;var o=n[t]={i:t,l:!1,exports:{}};return e[t].call(o.exports,o,o.exports,c),o.l=!0,o.exports}c.m=e,c.c=n,c.d=function(e,t,o){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(c.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)c.d(o,n,function(t){return e[t]}.bind(null,n));return o},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],s=a.push.bind(a);a.push=t,a=a.slice();for(var l=0;l<a.length;l++)t(a[l]);var d=s;r.push([0,"chunk-vendors"]),o()})({0:function(e,t,o){e.exports=o("56d7")},"0410":function(e,t,o){e.exports=o.p+"img/ico-voice-message-white.99202057.png"},"043d":function(e,t,o){"use strict";o("8360")},"04b3":function(e,t,o){e.exports=o.p+"img/close.0fb8dc6e.png"},"0864":function(e,t,o){},"0bca4":function(e,t,o){},"0d85":function(e,t,o){e.exports=o.p+"img/pic-default.1390d7c7.png"},"0e31":function(e,t,o){e.exports=o.p+"img/ico-voice-message-play.1c474ffb.gif"},1615:function(e,t,o){"use strict";o("cf7e")},"17b4":function(e,t,o){"use strict";o("ec67")},"1b1a":function(e,t,o){"use strict";o("7547")},"1c56":function(e,t,o){"use strict";o("6c54")},"1d26":function(e,t,o){},"1dd8":function(e,t,o){},"1f56":function(e,t,o){},2024:function(e,t,o){"use strict";o("3436")},2094:function(e,t,o){"use strict";o("22c2")},"22c2":function(e,t,o){},2473:function(e,t,o){"use strict";o("ec93")},2682:function(e,t,o){},2748:function(e,t,o){e.exports=o.p+"img/icon-add.d2680a91.png"},"27f8":function(e,t,o){"use strict";o("c7da")},"293e":function(e,t,o){},"2a77":function(e,t,o){e.exports=o.p+"img/return-icon.1cb36f98.png"},"2d3b":function(e,t,o){},3261:function(e,t,o){e.exports=o.p+"img/warn-icon.b36570cd.png"},3436:function(e,t,o){},3992:function(e,t,o){"use strict";o.r(t),t["default"]=[{groupName:"常用金属材料",materials:[{type:"铁",childs:[{name:"灰口铸铁",density:"6.6~7.4"},{name:"白口铸铁",density:"7.4~7.7"},{name:"可锻铸铁",density:"7.2~7.4"},{name:"工业纯铁",density:"7.87"}]},{type:"钢",childs:[{name:"铸钢",density:"7.80"},{name:"普通碳素钢",density:"7.85"},{name:"优质碳素钢",density:"7.85"},{name:"碳素工具钢",density:"7.85"},{name:"易切钢",density:"7.85"},{name:"锰钢",density:"7.81"},{name:"15CrA铬钢",density:"7.74"},{name:"20Cr铬钢",density:"7.82"},{name:"30Cr铬钢",density:"7.82"},{name:"40Cr铬钢",density:"7.82"},{name:"38CrA铬钢",density:"7.80"},{name:"铬钒钢",density:"7.85"},{name:"铬镍钢",density:"7.85"},{name:"铬镍钼钢",density:"7.85"},{name:"铬锰钢",density:"7.85"},{name:"硅钢",density:"7.85"},{name:"铬锰钢",density:"7.85"},{name:"硅镍钢",density:"7.85"},{name:"硅锰钢",density:"7.85"},{name:"硅铬钢",density:"7.85"},{name:"铬镍钨钢",density:"7.80"},{name:"铬钼铝钢",density:"7.65"},{name:"含钨9高速工具钢",density:"8.30"},{name:"含钨18高速工具钢",density:"8.70"},{name:"高强度合金钢",density:"7.82"},{name:"轴承钢",density:"7.81"}]},{type:"不锈钢",childs:[{name:"0Cr13不锈钢\t",density:"7.75"},{name:"1Cr13不锈钢",density:"7.75"},{name:"2Cr13不锈钢",density:"7.75"},{name:"3Cr13不锈钢",density:"7.75"},{name:"4Cr13不锈钢",density:"7.75"},{name:"Cr17Ni2不锈钢",density:"7.75"},{name:"Cr18不锈钢",density:"7.75"},{name:"9Cr18不锈钢",density:"7.75"},{name:"Cr25不锈钢",density:"7.75"},{name:"Cr28不锈钢",density:"7.75"},{name:"Cr14不锈钢",density:"7.70"},{name:"Cr17不锈钢",density:"7.70"},{name:"0Cr18Ni9不锈钢",density:"7.85"},{name:"1Cr18Ni9不锈钢",density:"7.85"},{name:"Cr18Ni9Ti不锈钢",density:"7.85"},{name:"2Cr18Ni9不锈钢",density:"7.85"},{name:"1Cr18Ni11Si4A1Ti不锈钢",density:"7.52"},{name:"1Crl8NillNb不锈钢",density:"7.90"},{name:"Cr23Ni18不锈钢",density:"7.90"},{name:"2Cr13Ni4Mn9不锈钢",density:"8.50"},{name:"3Cr13Ni7Si2不锈钢",density:"8.00"}]},{type:"纯铜材",childs:[{name:"纯铜材",density:"8.90"}]},{type:"青铜",childs:[{name:"7铝青铜",density:"7.80"},{name:"19-2铝青铜",density:"7.60"},{name:"9-4铝青铜",density:"7.50"},{name:"10-3-1.5铝青铜",density:"7.50"},{name:"10-4-4铝青铜",density:"7.46"},{name:"铍青铜",density:"8.30"},{name:"3-1硅青铜",density:"8.47"},{name:"1-3硅青铜",density:"8.60"},{name:"1铍青铜",density:"8.80"},{name:"0.5镉青铜",density:"8.90"},{name:"0.5铬青铜",density:"8.90"},{name:"1.5锰青铜",density:"8.80"},{name:"5锰青铜\t",density:"8.60"},{name:"5-5-5铸锡青铜",density:"8.80"},{name:"3-12-5铸锡青铜",density:"8.69"},{name:"6-6-3铸锡青铜",density:"8.82"},{name:"7-0.2锡青铜",density:"8.80"},{name:"6.5-0.4锡青铜",density:"8.80"},{name:"6.5-0.1锡青铜",density:"8.80"},{name:"4-3锡青铜",density:"8.80"},{name:"4-0.3锡青铜",density:"8.90"},{name:"4-4-4锡青铜",density:"8.90"},{name:"4-4-2.5锡青铜",density:"8.75"},{name:"5铝青铜",density:"8.20"}]},{type:"白铜",childs:[{name:"B5白铜",density:"8.90"},{name:"B19白铜",density:"8.90"},{name:"B30白铜",density:"8.90"},{name:"BMn40-1.5白铜",density:"8.90"},{name:"BMn3-12白铜",density:"8.40"},{name:"BZN15-20白铜",density:"8.60"},{name:"BA16-1.5白铜",density:"8.70"},{name:"BA113-3白铜",density:"8.50"}]},{type:"黄铜",childs:[{name:"59黄铜",density:"8.50"},{name:"62黄铜",density:"8.50"},{name:"65黄铜",density:"8.50"},{name:"68黄铜",density:"8.50"},{name:"80黄铜",density:"8.70"},{name:"85黄铜",density:"8.70"},{name:"90黄铜",density:"8.70"},{name:"96黄铜",density:"8.80"},{name:"59-1铅黄铜",density:"8.50"},{name:"63-3铅黄铜",density:"8.50"},{name:"74-3铅黄铜",density:"8.70"},{name:"90-1锡黄铜",density:"8.80"},{name:"70-1锡黄铜\t",density:"8.54"},{name:"60-1锡黄铜",density:"8.50"},{name:"62-1锡黄铜",density:"8.50"},{name:"77-2铝黄铜",density:"8.60"},{name:"67-2.5铝黄铜",density:"8.50"},{name:"66-6-3-2铝黄铜",density:"8.50"},{name:"60-1-1铝黄铜",density:"8.50"},{name:"镍黄铜",density:"8.50"},{name:"锰黄铜",density:"8.50"},{name:"硅黄铜",density:"8.50"},{name:"镍黄铜",density:"8.50"},{name:"铁黄铜",density:"8.50"}]},{type:"纯铝",childs:[{name:"纯铝",density:"2.70"}]},{type:"防锈铝",childs:[{name:"LF2防锈铝",density:"2.68"},{name:"LF43防锈铝",density:"2.68"},{name:"LF3防锈铝",density:"2.67"},{name:"LF5防锈铝",density:"2.65"},{name:"LF10防锈铝",density:"2.65"},{name:"LF11防锈铝",density:"2.65"},{name:"LF6防锈铝",density:"2.64"},{name:"LF21防锈铝",density:"2.73"}]},{type:"硬铝",childs:[{name:"LY1硬铝",density:"2.76"},{name:"LY2硬铝",density:"2.76"},{name:"LY4硬铝",density:"2.76"},{name:"LY6硬铝",density:"2.76"},{name:"LY3硬铝",density:"2.73"},{name:"LY7硬铝",density:"2.80"},{name:"LY8硬铝",density:"2.80"},{name:"LY10硬铝",density:"2.80"},{name:"LY11硬铝",density:"2.80"},{name:"LY14硬铝",density:"2.80"},{name:"LY9硬铝",density:"2.78"},{name:"LY12硬铝",density:"2.78"},{name:"LY16硬铝",density:"2.84"},{name:"LY17硬铝",density:"2.84"},{name:"超硬铝",density:"2.85"}]},{type:"锻铝",childs:[{name:"LD2锻铝",density:"2.70"},{name:"LD30锻铝",density:"2.70"},{name:"LD4锻铝",density:"2.65"},{name:"LD5锻铝",density:"2.75"},{name:"LD8锻铝",density:"2.77"},{name:"LD7锻铝",density:"2.80"},{name:"LD9锻铝",density:"2.80"},{name:"LD10锻铝",density:"2.80"}]},{type:"LT1特殊铝",childs:[{name:"LT1特殊铝",density:"2.75"}]},{type:"工业纯镁",childs:[{name:"工业纯镁",density:"1.74"}]},{type:"铸镁",childs:[{name:"铸镁",density:"1.80"}]},{type:"变形镁",childs:[{name:"MB1变形镁",density:"1.76"},{name:"MB2变形镁",density:"1.78"},{name:"MB8变形镁",density:"1.78"},{name:"MB3变形镁",density:"1.79"},{name:"MB5变形镁",density:"1.80"},{name:"MB6变形镁",density:"1.80"},{name:"MB7变形镁",density:"1.80"},{name:"MB15变形镁",density:"1.80"}]},{type:"工业纯钛",childs:[{name:"TA1工业纯钛",density:"4.50"},{name:"TA2工业纯钛",density:"4.50"},{name:"TA3工业纯钛",density:"4.50"}]},{type:"钛合金",childs:[{name:"TA4钛合金",density:"4.45"},{name:"TA5钛合金",density:"4.45"},{name:"TC6钛合金",density:"4.45"},{name:"TA6钛合金",density:"4.40"},{name:"TA7钛合金",density:"4.46"},{name:"TC5钛合金",density:"4.46"},{name:"TA8钛合金",density:"4.56"},{name:"TB1钛合金",density:"4.89"},{name:"TB2钛合金",density:"4.89"},{name:"TC1钛合金",density:"4.55"},{name:"TC2钛合金",density:"4.55"},{name:"TC3钛合金",density:"4.43"},{name:"TC4钛合金",density:"4.43"},{name:"TC7钛合金",density:"4.40"},{name:"TC8钛合金",density:"4.48"},{name:"TC9钛合金",density:"4.52"},{name:"TC10钛合金",density:"4.53"}]},{type:"镍、镍合金",childs:[{name:"纯镍",density:"8.85"},{name:"阳极镍",density:"8.85"},{name:"电真空镍",density:"8.85"},{name:"镍铜合金",density:"8.85"},{name:"镍镁合金",density:"8.85"},{name:"镍硅合金",density:"8.85"},{name:"镍铬合金",density:"8.72"}]},{type:"锌、锌合金",childs:[{name:"Zn0.1锌锭",density:"7.15"},{name:"Zn1锌锭",density:"7.15"},{name:"Zn2锌锭",density:"7.15"},{name:"Zn3锌锭",density:"7.15"},{name:"铸锌",density:"6.86"},{name:"4-1铸造锌铝合金",density:"6.90"},{name:"4-0.5铸造锌铝合金",density:"6.75"}]},{type:"铅、铅合金",childs:[{name:"铅和铅锑合金",density:"11.37"},{name:"铅阳极板",density:"11.33"}]}]},{groupName:"常用非金属材料",materials:[{type:"塑料",childs:[{name:"ABS 丙烯腈-丁二烯-苯乙烯",density:"1.05~1.18"},{name:"PA 尼龙",density:"1.15"},{name:"PE 聚乙烯",density:"0.92~0.95"},{name:"PVC 聚氯乙烯",density:"1.35~1.40"},{name:"PS 聚苯乙烯",density:"1.05~1.07"},{name:"PP 聚丙烯",density:"0.9~0.91"},{name:"POM 聚甲醛",density:"1.41~1.43"},{name:"PPO 聚苯醚",density:"1.06~1.07"},{name:"泡沫塑料",density:"0.2"},{name:"松香",density:"1.07"},{name:"天然树脂",density:"1.0~1.1"},{name:"赛璐珞",density:"1.35~1.4"},{name:"电木(胶木)",density:"1.3~1.4"}]},{type:"木材",childs:[{name:"红松",density:"0.44"},{name:"杉木",density:"0.376~0.417"},{name:"落叶松",density:"0.594~0.625"},{name:"铁杉",density:"0.5"},{name:"柏木",density:"0.45~0.59"},{name:"水曲柳",density:"0.686"},{name:"榆木",density:"0.548"},{name:"桦木",density:"0.615"},{name:"杨木",density:"0.486"},{name:"柞木",density:"0.766"},{name:"楠木",density:"0.61"},{name:"核桃木",density:"0.67"},{name:"黄杨木",density:"0.97"},{name:"软木",density:"0.1~0.4"},{name:"压制木材",density:"1.18"},{name:"胶合板",density:"0.56"},{name:"刨花板",density:"0.4"}]},{type:"石材",childs:[{name:"大理石",density:"2.6~2.7"},{name:"花岗石",density:"2.6~3.0"},{name:"金刚石",density:"3.5~3.6"},{name:"滑石",density:"2.6~2.8"},{name:"天然浮石",density:"0.4~0.9"},{name:"石灰石",density:"2.6~2.8"},{name:"砂岩",density:"2.2~2.5"},{name:"石英",density:"2.5~2.8"},{name:"普通砖",density:"1.7"},{name:"硅耐火砖",density:"1.8~1.9"},{name:"镁耐火砖",density:"2.6"},{name:"镁铬耐火砖",density:"2.8"},{name:"高铬耐火砖",density:"2.2~2.5"}]},{type:"橡胶",childs:[{name:"普通橡胶",density:"1.07~1.3"},{name:"工业橡胶",density:"1.3~1.8"},{name:"平胶板",density:"1.6~1.8"},{name:"电工用硬橡胶",density:"1.25"},{name:"硫化橡胶",density:"1"},{name:"橡胶石棉板",density:"2"},{name:"夹纸胶板",density:"1.3~1.4"}]},{type:"玻璃",childs:[{name:"有机玻璃",density:"1.18"},{name:"玻璃",density:"2.5~2.7"},{name:"石英玻璃",density:"2.2"},{name:"试验器皿玻璃",density:"2.45"},{name:"耐高温玻璃",density:"2.23"}]},{type:"石棉",childs:[{name:"石棉板",density:"1.3~1.4"},{name:"石棉线",density:"0.45~0.55"},{name:"石棉绳",density:"1.11"},{name:"纤维蛇纹石棉",density:"2.2~2.4"},{name:"角闪石石棉",density:"3.2~3.3"}]},{type:"竹材",childs:[{name:"竹材",density:"0.9"}]},{type:"陶瓷",childs:[{name:"陶瓷",density:"2.23~2.45"}]},{type:"其它",childs:[{name:"木炭",density:"0.3~0.5"},{name:"石墨",density:"1.9~2.3"},{name:"石膏",density:"2.3~2.4"},{name:"石灰",density:"1.1~1.2"},{name:"水泥",density:"0.82~1.95"},{name:"粘土",density:"1.6~2.9"},{name:"混凝土",density:"1.8~2.5"},{name:"金刚砂",density:"4"},{name:"普通刚玉",density:"3.85~3.9"},{name:"碳化硅",density:"3.1"},{name:"水晶",density:"2.6"},{name:"云母",density:"2.7~3.1"},{name:"无烟煤",density:"1.4~1.7"},{name:"烟煤",density:"1.2~1.5"},{name:"焦炭",density:"1.25~1.4"},{name:"沥青",density:"0.9~1.5"},{name:"石蜡",density:"0.9"},{name:"地蜡",density:"0.96"},{name:"衬垫纸",density:"0.9"},{name:"纤维纸板",density:"1.1~1.4"},{name:"防水纸",density:"1.0~1.1"},{name:"毛毡",density:"0.24~0.38"},{name:"干皮革",density:"0.86"},{name:"油皮革",density:"1.02"},{name:"尼龙",density:"1.04~1.4"},{name:"亚麻",density:"1.79"},{name:"碳化钙(电石)",density:"2.22"}]}]}]},"3c5d":function(e,t,o){},"3c8f":function(e,t,o){var n={"./nomsg-en.png":"9175","./nomsg-zh.png":"e5e0"};function i(e){var t=r(e);return o(t)}function r(e){if(!o.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}i.keys=function(){return Object.keys(n)},i.resolve=r,e.exports=i,i.id="3c8f"},"403f":function(e,t,o){},"41c8":function(e,t,o){e.exports=o.p+"img/radio-check.818b2d54.png"},"448c":function(e,t,o){},4498:function(e,t,o){"use strict";o("80df")},4521:function(e,t,o){e.exports=o.p+"img/all-screen.c2fae790.png"},4568:function(e,t,o){e.exports=o.p+"img/narrow-icon.c9de7c83.png"},"4aa6":function(e,t,o){"use strict";o("f737")},"4cc0":function(e,t,o){},"4e06":function(e,t,o){},"51cb":function(e,t,o){e.exports=o.p+"img/rotate-cw.c3efdb59.png"},"51e7":function(e,t,o){"use strict";o("3c5d")},"538a":function(e,t,o){"use strict";o.r(t),t["default"]=[{groupName:"Materials",materials:[{type:"Iron",childs:[{name:"Ductile Iron",density:"7.1"},{name:"Ductile Iron (SN)",density:"7.1"},{name:"Grey Cast Iron",density:"7.2"},{name:"Malleable Cast Iron",density:"7.3"}]},{type:"Steel",childs:[{name:"1023 Carbon Steel Sheet (SS)",density:"7.858"},{name:"201 Annealed Stainless Steel (SS)",density:"7.86"},{name:"A286 Iron Base Superalloy",density:"7.92"},{name:"AISI 1010 Steel, hot rolled bar",density:"7.87"},{name:"AISI 1015 Steel, Cold Drawn (SS)",density:"7.87"},{name:"AISI 1020",density:"7.90"},{name:"AISI 1020 Steel, Cold Rolled",density:"7.87"},{name:"AISI 1035 Steel (SS)",density:"7.85"},{name:"AISI 1045 Steel, cold drawn",density:"7.85"},{name:"AISI 304",density:"8.00"},{name:"AISI 316 Stainless Steel Bar (SS)",density:"8.00"},{name:"AISI 321 Annealed Stainless Steel (SS)",density:"8.00"},{name:"AISI 4130 Steel, annealed at 865C",density:"7.85"},{name:" AISI 4340 Steel, annealed",density:"7.85"},{name:" AISI Type 316L stainless steel",density:"8.027"},{name:" AISI Type A2 Tool Steel",density:"7.86"},{name:" Alloyed Steel",density:"7.70"},{name:" ASTM A36 Steel",density:"7.85"},{name:" Cast Alloyed Steel",density:"7.30"},{name:" Cast Carbon  Steel",density:"7.80"},{name:" Cast Stainless Steel",density:"7.70"},{name:" Chrome Stainless Steel",density:"7.80"},{name:" Galvanized Steel ",density:"7.87"},{name:" Plain Carbon Steel",density:"7.80"},{name:" Stainless Steel(ferritic)",density:"7.80"},{name:" Wrought Stainless Steel",density:"8.00"}]},{type:" Aluminium Alloys",childs:[{name:" 1060 Alloy",density:"2.70"},{name:" 1100-H12 Rod (SS)",density:"2.71"},{name:" 1345 Alloy",density:"2.70"},{name:" 1350 Alloy",density:"2.70"},{name:" 2014 Alloy",density:"2.80"},{name:" 2018 Alloy",density:"2.80"},{name:" 2024 Alloy",density:"2.80"},{name:" 2219-O",density:"2.84"},{name:" 2618-T61 (SS)",density:"2.76"},{name:" 3003 Alloy",density:"2.70"},{name:" 3004-H34, Rod (SS)",density:"2.72"},{name:" 4032-T6",density:"2.68"},{name:" 5052-H32",density:"2.68"},{name:" 5086-H32, Rod (SS)",density:"2.66"},{name:" 5154-O, Rod (SS)",density:"2.66"},{name:" 5454-H111",density:"2.69"},{name:" 6061 Alloy",density:"2.70"},{name:" 6063-O",density:"2.70"},{name:" 7050-T73510",density:"2.83"},{name:" 7079 Alloy",density:"2.70"},{name:" Alumina",density:"3.96"}]},{type:" Silicons",childs:[{name:" Silicon",density:"2.33"},{name:" Silicon Dioxide",density:"2.65"}]},{type:"Copper Alloys",childs:[{name:"Aluminum Bronze",density:"7.40"},{name:"Berylium Copper, UNS C17000",density:"8.26"},{name:"Berylium Copper, UNS C17200",density:"8.25"},{name:"Berylium Copper, UNS C17300",density:"8.25"},{name:"Berylium S-200F, Vacuum Hot Pressed",density:"1.85"},{name:"Berylium S-65C, Vacuum Hot Pressed",density:"1.84"},{name:"Chromium Copper, UNS C18200",density:"8.89"},{name:"Commercial Bronze, UNS C22000 (90-10 Bronze)",density:"8.80"},{name:"Copper",density:"8.90"},{name:"Copper-Cobalt-Beryllium alloy, UNS C17500",density:"8.75"},{name:"Free-Cutting Brass, UNS C36000",density:"8.49"},{name:"High-leaded brass, UNS C34200",density:"8.50"},{name:"Leaded Commercial Bronze",density:"8.70"},{name:"Manganese Bronze",density:"8.30"},{name:"Nickel silver 65-12, UNS C75700",density:"8.69"},{name:"Phosphor bronze 10% D, UNS C52400",density:"8.78"},{name:"Tin Bearing Bronze",density:"8.30"},{name:"Wrought Copper",density:"8.40"}]},{type:" Titanium Alloys",childs:[{name:"Commercially Pure CP-Ti UNS R50400 (SS)",density:"4.51"},{name:"Ti-10V-2Fe-3Al Solution Treated Bar(SS)",density:"4.65"},{name:"Ti-3Al-8V-6Cr-4Mo-4Zr (SS)",density:"4.82"},{name:"Ti-5Al-2.55n Annealed (SS)",density:"4.48"},{name:"Ti-6Al-2Sn-2Zr-2Mo-2Cr-0.25Si (SS)",density:"4.65"},{name:"Ti-6Al-4VSolution treated and aged (SS)",density:"4.43"},{name:"Ti-8Al-1Mo-1V annealed sheet (SS)",density:"4.37"},{name:"Titanium Ti-13V-11Cr-3Al Solution Treated",density:"4.82"},{name:"TIMETAL 35A CP Titanuim (ASTM Grade 1) 99.1 Ti",density:"4.51"},{name:"Titanium Ti-5Al-2.5Sn",density:"4.48"},{name:"Titanium Ti-8Al-1Mo-1V",density:"4.37"},{name:"Titanium Ti-8Mn, Annealed",density:"4.73"},{name:"Ti-8Mn annealed sheet (SS)",density:"4.73"}]},{type:" Zinc Alloys",childs:[{name:"Zinc AC41A Alloy, As Cast",density:"6.70"},{name:"Zinc AC43A (Zn-4Al-2.5Cu-0.04Mg; Number 2 Die Casting Alloy; Zamak 2), Die Cast",density:"6.60"},{name:"Zinc AG40A (Zn-4Al-0.4Mg; Zamak 3), Cast",density:"6.60"},{name:"Zinc Alloy 7; AG40B; Zn-4Al-0.015Mg",density:"6.60"}]},{type:" Other Alloys",childs:[{name:" Duranickel(R) 301",density:"8.20"},{name:"Magnesium Alloy",density:"1.70"},{name:"Monel(R) 400",density:"8.80"}]},{type:" Plastics",childs:[{name:"ABS",density:"1.02"},{name:"ABS PC",density:"1.07"},{name:"Acrylic (Medium-high impact)",density:"1.20"},{name:"CA",density:"1.31"},{name:"Epoxy, Unfilled",density:"1.10"},{name:"Delrin 2700 NC010, Low Viscosity Acetal Copolymer (SS)",density:"1.41"},{name:"EPDM",density:"0.90"},{name:"Melamine resin",density:"1.47"},{name:"Nylon 101",density:"1.15"},{name:"Nylon 6/10",density:"1.40"},{name:"PA Type 6",density:"1.12"},{name:"PBT General Purpose",density:"1.30"},{name:"PC High Viscosity",density:"1.19"},{name:"PE High Density",density:"0.95"},{name:"PE Low/Medium Density",density:"0.92"},{name:"Perspex(TM) GS Acrylic Cast Sheet",density:"1.19"},{name:"PF",density:"1.40"},{name:"Polybutadiene (PB)",density:"0.97"},{name:"PBTP",density:"1.31"},{name:"PEI",density:"1.27"},{name:"Polyester Resin",density:"1.16"},{name:"Polyether Polyol",density:"1.02"},{name:"Polytheretherketone (PEEK)",density:"1.31"},{name:"Polyethylene Cross-Linked",density:"0.95"},{name:"PE High Density Film",density:"0.95"},{name:"PE Low Density Film",density:"0.92"},{name:"PET",density:"1.42"},{name:"PMMA",density:"1.19"},{name:"POM Acetal Copolymer",density:"1.39"},{name:"PP Copolymer",density:"0.89"},{name:"PPE",density:"0.89"},{name:"PPS",density:"1.57"},{name:"PP Homopolymer",density:"0.93"},{name:"PP Film",density:"0.91"},{name:"PS Medium/High Flow",density:"1.04"},{name:"PS HI",density:"1.08"},{name:"PTFE (general)",density:"2.32"},{name:"PUR",density:"1.26"},{name:"PVAL",density:"1.19"},{name:"PVB",density:"1.05"},{name:"PVC 0.007 Plasticized",density:"1.29"},{name:"PVC Rigid",density:"1.30"},{name:"Sheet Moulding Compound",density:"1.40"},{name:"SMA",density:"1.07"},{name:"Very Low Density PE (SS)",density:"0.91"}]},{type:" Other Metals",childs:[{name:"Beryllium",density:"1.84"},{name:"Cobalt",density:"8.90"},{name:"Molybdenum",density:"10.00"},{name:"Nickel",density:"8.50"},{name:"Pure Gold",density:"19.00"},{name:"Pure Lead",density:"11.00"},{name:"Pure Silver",density:"11.00"},{name:"Titanium",density:"4.60"},{name:"Tungsten",density:"19.00"},{name:"Vanadium",density:"6.10"},{name:"Zirconium",density:"6.60"}]},{type:" Other Non-metals",childs:[{name:"Air",density:"0.0011"},{name:"Ceramic Porcelain",density:"2.30"},{name:"Corrugated Paper",density:"0.156"},{name:"Glass",density:"2.46"},{name:"C (Graphite)",density:"2.24"},{name:"Polyurethane Foam Flexible",density:"0.016"},{name:"Polyurethane Foam Rigid",density:"0.16"},{name:"Rubber",density:"1.00"},{name:"Water",density:"1.00"}]},{type:"Carbon Fibers",childs:[{name:"Hexcel AS4C (3000 Filaments)",density:"1.78"},{name:"Thrornel Mat VMA",density:"2.00"},{name:"Thrornel VCB-20 Carbon Cloth",density:"1.88"},{name:"Zoltek Panex 33",density:"1.81"}]},{type:" Rubber",childs:[{name:" BUTYL",density:"1.16"},{name:"EPDM 60 Durometer",density:"1.18"},{name:"EPICHLOROHYDRIN",density:"1.50"},{name:"HYPALON",density:"1.32"},{name:"Natural Rubber",density:"0.96"},{name:"NBR",density:"1.15"},{name:"NEOPRENE",density:"1.29"},{name:"POLYURETHANE (11671)",density:"1.225"},{name:"SANTOPRENE",density:"0.98"},{name:"SBR",density:"0.94"},{name:"Silicon Rubber",density:"1.25"},{name:"VITON",density:"1.93"}]},{type:" Woods",childs:[{name:" Balsa",density:"0.16"},{name:"Beech",density:"0.56"},{name:"Cedar",density:"0.47"},{name:"Mahogany",density:"0.60"},{name:"Maple",density:"0.49"},{name:"Oak",density:"0.56"},{name:"Pine",density:"0.34"},{name:"Teak",density:"0.63"}]}]},{groupName:"DIN Material",materials:[{type:"DIN Aluminum Alloys",childs:[{name:"3.0205(EN-AW 1200)",density:"2.70"},{name:"3.0255(EN-AW 1350A)",density:"2.70"},{name:"3.0505(EN-AW 3105)",density:"2.71"},{name:"3.0515(EN-AW 3103)",density:"2.73"},{name:"3.0517(EN-AW 3003)",density:"2.73"},{name:"3.0526(EN-AW 3004)",density:"2.70"},{name:"3.0526(EN-AW 3005)",density:"2.72"},{name:"3.1255(EN-AW 2014)",density:"2.80"},{name:"3.1305(EN-AW 2117)",density:"2.80"},{name:"3.1325(EN-AW 2017A)",density:"2.80"},{name:"3.1355(EN-AW 2024)",density:"2.78"},{name:"3.1645(EN AW-2007)",density:"2.70"},{name:"3.1645(EN-AW 2030)",density:"2.85"}]},{type:" Wood",childs:[{name:" Pinus Koraiensis",density:"0.44"},{name:" Cedarwood",density:"0.376~0.417"},{name:" Larix Gmelinii",density:"0.594~0.625"},{name:" Hemlock",density:"0.5"},{name:" Weeping Cypress",density:"0.45~0.59"},{name:" Manchurian Ash",density:"0.686"},{name:" Elm",density:"0.548"},{name:" Birch",density:"0.615"},{name:" Aspen Wood",density:"0.486"},{name:" Chinese Oak",density:"0.766"},{name:" Nanmu",density:"0.61"},{name:" Hickory",density:"0.67"},{name:" Boxwood",density:"0.97"},{name:" Cork",density:"0.1~0.4"},{name:" Compressed Pattern Lumber",density:"1.18"},{name:" Plywood",density:"0.56"},{name:" Shaving Board",density:"0.4"}]},{type:"DIN Copper Alloys",childs:[{name:" 2.0060（Cu-ETF)",density:"8.90"},{name:" 2.0090(Cu-DHP)",density:"8.90"},{name:"2.0936(CuAl10Fe3Mn2)",density:"7.50"},{name:"2.0966(CuAl10Ni5Fe4)",density:"7.5"},{name:"2.0261(CuZn28)",density:"8.60"},{name:"2.0321(CuZn37)",density:"8.40"},{name:"2.0367(CuZn40)",density:"8.39"},{name:"2.0490(CuZn31Si1)",density:"8.30"},{name:"2.0510(CuZn38Mn1Al)",density:"8.30"},{name:" 2.0572(CuZn40Mn2Fe1)",density:"8.30"},{name:"2.0371(CuZn38Pb2)",density:"8.40"},{name:"2.0375(CuZn36Pb3)",density:"8.50"},{name:"2.0402(CuZn40Pb2)",density:"8.40"},{name:" 2.1016(CuSn4)",density:"8.86"},{name:"2.1020(CuSn6)",density:"8.80"},{name:"2.1030(CuSn8)",density:"8.80"},{name:" 2.1030(CuSn8P)",density:"8.80"}]},{type:"DIN Iron",childs:[{name:"0.6010（EN-GJL-100)",density:"7.25"},{name:"0.6015（EN-GJL-150)",density:"7.25"},{name:"0.6020（EN-GJL-200)",density:"7.25"},{name:"0.6025（EN-GJL-250)",density:"7.25"},{name:"0.6030（EN-GJL-300)",density:"7.25"},{name:"0.7033（EN-GJS-350-22-LT)",density:"7.25"},{name:"0.7040（EN-GJS-400-15)",density:"7.25"},{name:"1.0420(G200)",density:"7.25"},{name:"1.0466(G230)",density:"7.25"},{name:"1.0522(G260)",density:"7.25"},{name:"1.0558(G300)",density:"7.25"}]},{type:" DIN Steel（Alloyed）",childs:[{name:" 1.5714（16NiCr4）",density:"7.80"},{name:" 1.5805（10NiCr5-4）",density:"7.80"},{name:" 1.5918（17CrNi6-6)",density:"7.80"},{name:" 1.6523(20NiCrMoS2-2)",density:"7.85"},{name:" 1.6566(17NiCrMo6-4)",density:"7.80"},{name:" 1.6571(20NiCrMoS6-4)",density:"7.80"},{name:" 1.6587(18CrNiMo7-6)",density:"7.80"},{name:" 1.6657(14NiCrMo13-4)",density:"7.80"},{name:" 1.7014(17CrS3)",density:"7.80"},{name:" 1.7016(17Cr3)",density:"7.80"},{name:" 1.7030(28Cr4)",density:"7.80"},{name:" 1.7036(28CrS4)",density:"7.80"},{name:" 1.7131(16MnCr5)",density:"7.80"}]},{type:" Asbestos",childs:[{name:" Asbestos Board",density:"1.3~1.4"},{name:" Asbestos Wire",density:"0.45~0.55"},{name:" Asbestos Cord",density:"1.11"},{name:" Chrysotile",density:"2.2~2.4"},{name:" Amphibole Asbestos",density:"3.2~3.3"}]},{type:" DIN Steel（Free Cutting）",childs:[{name:" 1.0715（11SMn30）",density:"7.80"},{name:" 1.078（11SMnPb30)",density:"7.80"},{name:" 1.0721(10S20)",density:"7.80"},{name:" 1.0722(10SPb20)",density:"7.80"},{name:"1.0725(15SMn13)",density:"7.80"},{name:"1.0726(35S20)",density:"7.80"},{name:"1.0727(46S20)",density:"7.80"},{name:" 1.0736(11SMn37)",density:"7.80"},{name:" 1.0756(35SPb20)",density:"7.80"},{name:"1.0757(46SPb20)",density:"7.80"},{name:"1.0760(38SMn28)",density:"7.80"},{name:"1.0762(44SMn28)",density:"7.80"},{name:"1.0763(44SMnPb28)",density:"7.80"},{name:" 1.0764(36SMn14)",density:"7.80"}]},{type:" DIN Steel（Hot Work Tool）",childs:[{name:" 1.2343(X38CrMoV5-1)",density:"7.80"},{name:"1.2367(X38CrMoV5-3)",density:"7.80"}]},{type:" DIN Steel（Nitriding Alloy）",childs:[{name:"1.1193(C45G)",density:"7.80"},{name:"1.7005(45Cr2)",density:"7.80"},{name:" 1.7043(38Cr4)",density:"7.80"},{name:"1.7045(42Cr4)",density:"7.80"},{name:"1.7223(41CrMo4)",density:"7.80"},{name:"1.8507(34CrAlMo5-10)",density:"7.80"},{name:"1.8509(41CrAlMo7)",density:"7.80"},{name:"1.8515(31CrMo12)",density:"7.80"},{name:"1.8519(31CrMoV9)",density:"7.80"},{name:"1.8550(34CrAlNi7-10)",density:"7.80"}]},{type:"DIN Steel（Stainless）",childs:[{name:"1.4000（X6Cr13）",density:"7.70"},{name:" 1.4003（X2CrNi12)",density:"7.70"},{name:" 1.4006(X10Cr13)",density:"7.70"},{name:"1.4016(X6Cr17)",density:"7.70"},{name:"1.4021(X20Cr13)",density:"7.70"},{name:"1.4028(X30Cr13)",density:"7.70"},{name:"1.4031(X39Cr13)",density:"7.70"},{name:" 1.4057(X17CrNi16-2)",density:"7.70"},{name:"1.4105(X6CrMoS17)",density:"7.70"},{name:"1.4113(X6CrMoS17-1)",density:"7.70"},{name:"1.4116(X50CrMoV15)",density:"7.70"},{name:"1.4122(X39CrMo17-1)",density:"7.70"},{name:"1.4301(X5CrNi18-10)",density:"7.90"},{name:" 1.4305(X8CrNiS18-9)",density:"7.90"},{name:"1.4306(X2CrNi19-11)",density:"7.90"},{name:"1.4307(X2CrNi18-9)",density:"7.90"},{name:" 1.4310(X10CrNi18-8)",density:"7.90"},{name:"1.4313(X3CrNiMo13-4)",density:"7.70"},{name:"1.4401(X5CrNiMo17-12-2)",density:"8.00"},{name:"1.4404(X2CrNiMo17-12-2)",density:"8.00"},{name:"1.4439(X2CrNiMoN17-13-5)",density:"8.00"},{name:"1.4460(X3CrNiMoN27-5-2)",density:"7.80"},{name:"1.4462(X2CrNiMoN22-5-3)",density:"7.80"},{name:"1.4511(X3CrNb17)",density:"7.70"},{name:"1.4541(X6CrNiTi18-10)",density:"7.90"},{name:"1.4571(X6CrNiMoTi17-12-2)",density:"8.00"}]},{type:"DIN Steel（Structural）",childs:[{name:"1.0035(S185)",density:"7.80"},{name:" 1.0036(S235JRG1)",density:"7.80"},{name:" 1.0037(S235JR)",density:"7.80"},{name:" 1.0038(S235jrg2)",density:"7.8"},{name:"1.0044(S275JR)",density:"7.80"},{name:" 1.0045(S355JR)",density:"7.80"},{name:"1.0050(E295)",density:"7.80"},{name:" 1.0060(E335)",density:"7.80"},{name:" 1.0070(E360)",density:"7.80"},{name:"1.0114(S235J0)",density:"7.80"},{name:"1.0116(S235J2G3)",density:"7.80"},{name:"1.0117(S235J2G4)",density:"7.80"},{name:"1.0143(S275J0)",density:"7.80"},{name:"1.0144(S275J2G3)",density:"7.80"},{name:" 1.0145(S275J2G4)",density:"7.80"},{name:"1.0490(S275N)",density:"7.80"},{name:"1.0491(S275NL)",density:"7.80"},{name:" 1.0546(S355NL)",density:"7.80"},{name:"1.0553(S355J0)",density:"7.80"},{name:"1.0570(S355J2G3)",density:"7.80"},{name:"1.0577(S355J2G4)",density:"7.80"},{name:"1.0595(S355K2G3)",density:"7.80"},{name:"1.0596(S355K2G4)",density:"7.80"},{name:"1.8901(S460N)",density:"7.80"},{name:"1.8902(S420N)",density:"7.80"},{name:"1.8903(S460NL)",density:"7.80"},{name:"1.8912(S420NL)",density:"7.80"}]},{type:"DIN Steel（Toolmaking）",childs:[{name:"1.2083(X40Cr14)",density:"7.74"},{name:"1.2083(X42Cr13)",density:"7.74"},{name:"1.2085(X33CrS16)",density:"7.75"},{name:"1.2210(115CrV3)",density:"7.87"},{name:"1.2311(40CrMnMo7)",density:"7.80"},{name:"1.2312(40CrMnMoS8-6)",density:"7.85"},{name:"1.2316(X36CrMo17)",density:"7.75"},{name:"1.2842(90MnCrV8)",density:"7.61"}]},{type:"DIN Steel（Unalloyed)",childs:[{name:"1.0301(C10)",density:"7.85"},{name:"1.0401(C15)",density:"7.85"},{name:"1.0402(C22)",density:"7.80"},{name:"1.0406(C25)",density:"7.80"},{name:"1.0501(C35)",density:"7.80"},{name:" 1.0503(C45)",density:"7.80"},{name:"1.0601(C60)",density:"7.80"},{name:" 1.1121(C10E)",density:"7.80"},{name:"1.1140(C15R)",density:"7.80"},{name:"1.1141(C15E)",density:"7.80"},{name:"1.1151(C22E)",density:"7.80"},{name:"1.1158(C25E)",density:"7.80"},{name:"1.1170(28Mn6)",density:"7.80"},{name:"1.1181(C35E)",density:"7.85"},{name:" 1.1191(C45E)",density:"7.80"},{name:"1.1207(C10R)",density:"7.80"},{name:"1.1221(C60E)",density:"7.80"},{name:"1.6511(36CrNiMo4)",density:"7.80"},{name:"1.6580(30CrNiMo8)",density:"7.80"},{name:"1.6582(34CrNiMo6)",density:"7.80"},{name:"1.6773(36NiCrMo16)",density:"7.80"},{name:"1.7003(38Cr2)",density:"7.80"},{name:"1.7006(46Cr2)",density:"7.80"},{name:"1.7033(34Cr4)",density:"7.80"},{name:"1.7034(37Cr4)",density:"7.80"},{name:"1.7035(41Cr4)",density:"7.80"},{name:"1.7218(25CrMo4)",density:"7.80"}]}]}]},"56d7":function(e,t,o){"use strict";o.r(t);var n=o("8bbf");const i=e=>(Object(n["pushScopeId"])("data-v-5c5771c6"),e=e(),Object(n["popScopeId"])(),e),r=i(()=>Object(n["createElementVNode"])("div",{class:"ndp3-wrap",id:"viewer"},null,-1)),c=[r],a={class:"nd_sync_cover"};function s(e,t,o,i,r,s){const l=Object(n["resolveComponent"])("tips"),d=Object(n["resolveComponent"])("loading"),m=Object(n["resolveComponent"])("bottom-btn"),u=Object(n["resolveComponent"])("explode"),h=Object(n["resolveComponent"])("config-switch"),p=Object(n["resolveComponent"])("cout-select"),g=Object(n["resolveComponent"])("volume-weigth"),v=Object(n["resolveComponent"])("structure-tree"),b=Object(n["resolveComponent"])("attr-box"),w=Object(n["resolveComponent"])("click-pop"),S=Object(n["resolveComponent"])("tag-com"),C=Object(n["resolveComponent"])("attr-vol-area"),y=Object(n["resolveComponent"])("grith"),O=Object(n["resolveComponent"])("structure-tree-easy"),f=Object(n["resolveComponent"])("unit-change"),j=Object(n["resolveComponent"])("pmi-set"),x=Object(n["resolveComponent"])("color-set"),T=Object(n["resolveComponent"])("settings"),M=Object(n["resolveComponent"])("accuracy");return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",{id:"vueMain",class:Object(n["normalizeClass"])(["ndp3-wrap noselect",{"tag-drawing":i.store.state.tagStore.tagDrawing,showhide:i.store.state.modelStore.showhide}]),onClick:t[1]||(t[1]=(...e)=>i.watchAllClick&&i.watchAllClick(...e)),ondragstart:"return false"},[Object(n["createElementVNode"])("div",{class:Object(n["normalizeClass"])(["ndp3-preview-box",{zh:"en"!=e.language,unshowtag:e.unshowtag}]),onContextmenu:t[0]||(t[0]=Object(n["withModifiers"])((...e)=>i.watchRightClick&&i.watchRightClick(...e),["right"]))},c,34),Object(n["createVNode"])(l),Object(n["createVNode"])(d),Object(n["createVNode"])(m),Object(n["withDirectives"])(Object(n["createVNode"])(u,null,null,512),[[n["vShow"],"explode"==i.store.state.menuStore.menuChoose]]),Object(n["withDirectives"])(Object(n["createVNode"])(h,null,null,512),[[n["vShow"],i.store.state.menuStore.showManyConfig]]),Object(n["withDirectives"])(Object(n["createVNode"])(p,null,null,512),[[n["vShow"],i.store.state.menuStore.coutMenu]]),Object(n["withDirectives"])(Object(n["createVNode"])(g,null,null,512),[[n["vShow"],"volumeWeight"==i.menuStore.menuChoose3||"volumeWeightAll"==i.menuStore.menuChoose3]]),Object(n["withDirectives"])(Object(n["createVNode"])(v,null,null,512),[[n["vShow"],i.store.state.menuStore.structMenu]]),Object(n["withDirectives"])(Object(n["createVNode"])(b,null,null,512),[[n["vShow"],i.store.state.menuStore.attrMenu]]),Object(n["createVNode"])(w),Object(n["createVNode"])(S),Object(n["createVNode"])(C),Object(n["withDirectives"])(Object(n["createVNode"])(y,null,null,512),[[n["vShow"],i.store.state.menuStore.grithMenu]]),i.store.state.menuStore.structEasyMenu?(Object(n["openBlock"])(),Object(n["createBlock"])(O,{key:0})):Object(n["createCommentVNode"])("",!0),Object(n["withDirectives"])(Object(n["createVNode"])(f,null,null,512),[[n["vShow"],i.store.state.menuStore.unitMenu]]),Object(n["withDirectives"])(Object(n["createVNode"])(j,null,null,512),[[n["vShow"],i.store.state.menuStore.pmiMenu]]),Object(n["withDirectives"])(Object(n["createVNode"])(x,null,null,512),[[n["vShow"],i.store.state.menuStore.colorMenu]]),Object(n["withDirectives"])(Object(n["createVNode"])(T,null,null,512),[[n["vShow"],i.store.state.menuStore.settingsMenu]]),i.store.state.isShowAccruacy?(Object(n["openBlock"])(),Object(n["createBlock"])(M,{key:1,onClose:i.setAccruacy},null,8,["onClose"])):Object(n["createCommentVNode"])("",!0),Object(n["withDirectives"])(Object(n["createElementVNode"])("div",a,null,512),[[n["vShow"],i.store.state.rtmNeedCover]])],2)}var l=o("5880"),d=(o("149f"),o("d383"),o("1803"),o("baa4"),o("3d2a"),o("3284"),{namespaced:!0,state:{configs:[],modelPath:"",modelSetInfo:null,nowConfig:-1,nowConfigName:"",shareInfo:void 0,isModelCfg:!1,cfgSrcs:[],hasManyAccuracy:!1,accuracyInfo:{data:[],curLevel:"2"},_geometryload:!1,_pmiload:!1,_allowEditAttr:!1,_isPrivateType:!1,_brepload:!1,_highLightNode:[],allTag:[],nowTag:[],delTagUuid:"",tagRelate:!1,showhide:!1,annotationTagId:"",bombScale:0,isShowPmi:"",hideItem:{userdyAttr:!1,structTree:!1,pmi:!1,measure:!1},treeUpdate:!1,coutShareInfo:{},needOpenImg:"",unit:"",bgSetList:[],autoColorHex:{},partAddColor:{}},mutations:{initModelInfo(e,t){t.opt&&t.opt.configNum<0&&(t.opt.configNum=0),e.configs=t.opt.modelList,e.nowConfig=t.opt.configNum,e.nowConfigName=t.opt.nowConfigName,e.shareInfo=t.opt.shareInfo,e._allowEditAttr=nd_viewCtrl.allowEditAttr,e.allTag=t.opt.allTag,e.nowTag=t.opt.nowTag,e.tagRelate=t.opt.tagRelate},resetTagIndex(e,t){if(e.allTag&&e.allTag.length>0){var o=e.allTag;for(let e=0;e<o.length;e++)o[e].index=String(e+1);e.allTag=o,e.tagRelate&&(e.nowTag=e.allTag.filter(t=>!t.modelName||t.modelName==e.nowConfigName))}},setAccuracyLevel(e,t){e.accuracyInfo.curLevel=t},setModelCfg(e,t){e.isModelCfg=t.isModelCfg,e.isModelCfg&&(e.cfgSrcs=t.cfgSrcs),e.hasManyAccuracy=t.hasManyAccuracy,e.hasManyAccuracy&&(e.accuracyInfo=t.accuracyInfo)},setGeometryload(e,t){e._geometryload=t},setPmiload(e,t){e._pmiload=t},setBrepload(e,t){e._brepload=t},setShowhide(e,t){e.showhide=t},checkPrivateRight(e,t){e._isPrivateType=X(t)},changeMultipleCfg(e,t){if(t!=e.nowConfig){e._geometryload=!1,e._pmiload=!1,e._brepload=!1,e.nowConfig=t;var o=e.configs[e.nowConfig].Name;e.nowConfigName=o,e.tagRelate&&(e.nowTag=e.allTag.filter(e=>!e.modelName||e.modelName==o));var n=e.configs[e.nowConfig],i=n.modejsPath,r=n.isShare?e.shareInfo.camerainfo:null,c=n.isShare?e.shareInfo:{};ke.loadModelView(i,null,t,r,c)}},setModelPath(e,t){e.modelPath=t},setModelSetInfo(e,t){e.modelSetInfo=t},setAllTag(e,t){e.allTag=t},setNowTag(e,t){e.nowTag=t},setAnnotationTagId(e,t){e.annotationTagId=t},addTag(e,t){e.nowTag.push(t),e.allTag.push(t)},updateTagText(e,t){var o=t.uuid;e.nowTag.map((function(e,n){e.state.uuid==o&&(e.text=encodeURIComponent(t.text))})),e.allTag.map((function(e,n){e.state.uuid==o&&(e.text=encodeURIComponent(t.text))}))},delTagByuuid(e,t){var o=-1;e.nowTag.map((function(e,n){e.state.uuid==t&&(o=n)})),o>=0&&e.nowTag.splice(o,1);var n=-1;e.allTag.map((function(e,o){e.state.uuid==t&&(n=o)})),n>=0&&e.allTag.splice(n,1),n>=0&&(e.delTagUuid=t)},setHighLightNode(e,t){e._highLightNode=t},setBombScale(e,t){e.bombScale=t},setIsShowPmi(e,t){e.isShowPmi=t},setHideItem(e,t){e.hideItem={...e.hideItem,...t}},treeSubject(e){e.treeUpdate=!e.treeUpdate},setCoutShareInfo(e,t){e.coutShareInfo=t||{}},setUnitType(e,t){e.unit=t},setNeedOpenImg(e,t){e.needOpenImg=t},setBgSetList(e,t){var o=JSON.parse(JSON.stringify(t));e.bgSetList=o},setAutoColorHex(e,t){var o=Object.assign({},t);e.autoColorHex=o},sertPartAddColor(e,t){var o=Object.assign({},t);e.partAddColor=o},setPartListColor(e,t){const o=e.partAddColor||{},n=e.nowConfig,i=o[n]||{};for(var r=t.uuidList,c=t.color,a=0;a<r.length;a++){var s=r[a];i[s]&&delete i[s],i[s]=c}o[n]=i;var l=Object.assign({},o);e.partAddColor=l},cancelAddColor(e,t){const o=e.nowConfig,n=e.autoColorHex,i=e.partAddColor;n[o]="",i[o]="";var r=Object.assign({},n),c=Object.assign({},i);e.autoColorHex=r,e.partAddColor=c,nd_viewCtrl.shareInfo&&(nd_viewCtrl.shareInfo.autoColorHex=!1),nd_viewCtrl.shareInfo&&(nd_viewCtrl.shareInfo.partAddColor={})}},actions:{}}),m={namespaced:!0,state:{isShowTagEdit:!1,tagDrawing:!1,tagShow:!0},mutations:{startNewTagDraw(e){e.isShowTagEdit=!0},setTagdrawing(e,t){e.tagDrawing=t},setTagshow(e,t){e.tagShow=t}},actions:{}},u={namespaced:!0,state:{isShowBangType:!1,axis:0,level:0,modeIndex:0,showExplode:!1},mutations:{setAxis(e,t){e.axis=t},setLevel(e,t){e.level=t},setMode(e,t){e.modeIndex=t},setShowHide(e,t){e.isShowBangType=t},setShowExplode(e,t){e.showExplode=t}},actions:{}},h={namespaced:!0,state:{showOneMenu:!0,menuChoose:"",menuChoose2:"",menuChoose3:"",showAllMenu:!1,structMenu:!1,attrMenu:!1,coutMenu:!1,structEasyMenu:!1,unitMenu:!1,pmiMenu:!1,colorMenu:!1,settingsMenu:!1,grithMenu:!1,clickPopMenu:!1,preAttrType:"",showManyConfig:!0},mutations:{setShowOneMenu(e,t){e.showOneMenu=t},setMenuChoose(e,t){e.menuChoose=t},setMenuChoose2(e,t){e.menuChoose2=t},setMenuChoose3(e,t){e.menuChoose3=t},setShowAllMenu(e,t){e.showAllMenu=t},setStructMenu(e,t){e.structMenu=t},setAttrMenu(e,t){e.attrMenu=t},setCoutMenu(e,t){e.coutMenu=t},setPreAttrType(e,t){e.preAttrType=t},setShowManyConfig(e,t){e.showManyConfig=t},setGrithMenu(e,t){e.grithMenu=t},setStructEasyMenu(e,t){e.structEasyMenu=t},setUnitMenu(e,t){e.unitMenu=t},setPmiMenu(e,t){e.pmiMenu=t},setColorMenu(e,t){e.colorMenu=t},setSettingsMenu(e,t){e.settingsMenu=t},setClickPopMenu(e,t){e.clickPopMenu=t}},actions:{}},p=Object(l["createStore"])({namespaced:!0,state:{isShowCtrlBtn:!1,isShowBottomBtn:!1,isShowMsg:!1,msgTxt:"",msgFunc:null,showAreaTips:!0,helpShow:!1,showLoading:!0,isShareConfig:!1,treeMode:"normal",isShowAccruacy:!1,opt:{},mpath:"",isInShift:!1,preShiftNode:{},initParams:{nowConfig:0,transparentList:[],unvisibleList:[],unit:"",bgSetList:[],autoColorHex:{},partAddColor:{},bgColor:"0x",bgImg:"",isShowPmi:"",cutInfo:{},explode:{},viewState:"",proMode:""},rtmNeedCover:!1,modelIsLoaded:!1},mutations:{showCtrlBtn(e){e.isShowCtrlBtn=!0},hideCtrlBtn(e){e.isShowCtrlBtn=!1},setAskaccruacyTc(e,t){e.isShowAccruacy=t},showBottomBtn(e){e.isShowBottomBtn=!0},hideBottomBtn(e){e.isShowBottomBtn=!1},showMsgTip(e,t){e.msgTxt=t.txt,e.isShowMsg=!0,e.msgFunc=t.func},hideMsgTip(e){e.isShowMsg=!1},setShowAreaTips(e,t){e.showAreaTips=t},setHelpShow(e,t){e.helpShow=t},setShowLoading(e,t){e.showLoading=t},setTreemode(e,t){e.treeMode=t},setOpt(e,t){e.opt=t},setPath(e,t){e.mpath=t.mpath},setIsInShift(e,t){e.isInShift=t},setPreShiftNode(e,t){e.preShiftNode=t},setInitBgparams(e,t){void 0!=t.bgColor&&(e.initParams.bgColor=t.bgColor),void 0!=t.bgImg&&(e.initParams.bgImg=t.bgImg)},saveInitViewparams(e,t){void 0!=t.viewState&&(e.initParams.viewState=t.viewState),void 0!=t.proMode&&(e.initParams.proMode=t.proMode)},saveInitConfig(e,t){e.initParams.nowConfig=t},saveInitTransparent(e,t){var o=JSON.parse(JSON.stringify(t));e.initParams.transparentList=o},saveInitUnvisible(e,t){var o=JSON.parse(JSON.stringify(t));e.initParams.unvisibleList=o},saveInitUnit(e,t){e.initParams.unit=t},saveInitBgSetList(e,t){var o=JSON.parse(JSON.stringify(t));e.initParams.bgSetList=o},saveInitAutoColorHex(e,t){var o=Object.assign({},t);e.initParams.autoColorHex=o},saveInitPartAddColor(e,t){var o=Object.assign({},t);e.initParams.partAddColor=o},saveInitPMI(e,t){e.initParams.isShowPmi=t},saveInitCut(e,t){var o=Object.assign({},t);e.initParams.cutInfo=o},saveInitExplode(e,t){var o=Object.assign({},t);e.initParams.explode=o},setRtmNeedCover(e,t){e.rtmNeedCover=t},setModelIsLoaded(e,t){e.modelIsLoaded=t}},actions:{},modules:{modelStore:d,tagStore:m,expStore:u,menuStore:h}});function g(){try{return window.navigator.userLanguage="zh","overseas"==nd_viewCtrl.showBtnMode&&(window.navigator.userLanguage="en"),window.navigator.userLanguage}catch(e){return navigator.language}}function v(){return!(!nd_viewCtrl||!nd_viewCtrl.hideEstimateBox)}function b(){var e=p.state.modelStore.isModelCfg,t=nd_viewCtrl&&void 0!=nd_viewCtrl.configNum?nd_viewCtrl.configNum:-1;return e&&-1==t&&(t=0),nd_viewCtrl&&nd_viewCtrl.shareInfo&&void 0!=nd_viewCtrl.shareInfo.configNum&&(t=nd_viewCtrl.shareInfo.configNum,e&&Number(t)<0&&(t=0)),t}function w(){var e=!1;return"overseas"==nd_viewCtrl.showBtnMode||nd_viewCtrl.hideItem&&nd_viewCtrl.hideItem.pmi?(e=!1,!1):(nd_viewCtrl.showBtnCfg&&nd_viewCtrl.showBtnCfg.length>0||nd_viewCtrl.showBtnMode?JSON.stringify(nd_viewCtrl.showBtnCfg).indexOf("ico-pmi")>-1&&(e=!0):nd_viewCtrl.hidebtnCfg&&nd_viewCtrl.hidebtnCfg.length>0?JSON.stringify(nd_viewCtrl.hidebtnCfg).indexOf("ico-pmi")<0&&(e=!0):e=!0,e)}function S(){var e=!0,t=w();return!!t&&(e=1==nd_viewCtrl.pmiVisible,nd_viewCtrl&&nd_viewCtrl.shareInfo&&nd_viewCtrl.shareInfo.pmiVisible&&void 0!=nd_viewCtrl.shareInfo.pmiVisible&&(e=nd_viewCtrl.shareInfo.pmiVisible),e)}function C(){var e={useUnvisibleList:!1,useTransparentList:!1,unvisibleList:[],transparentList:[],camerainfo:null,viewState:"shaded",projectionMode:"Orthographic",configNum:-1,explodeFactor:0,explodeMode:32,explodeLevel:0,explodeAxis:0,explodeObjects:[],clipPlaneInfo:null,clipBoxInfo:null,pmiVisible:!1};e.configNum=b(),e.pmiVisible=S(),nd_viewCtrl&&nd_viewCtrl.shareInfo&&void 0!=nd_viewCtrl.shareInfo.explodeFactor&&(e.explodeFactor=nd_viewCtrl.shareInfo.explodeFactor),0!=e.explodeFactor&&(nd_viewCtrl&&nd_viewCtrl.shareInfo&&void 0!=nd_viewCtrl.shareInfo.explodeMode&&(e.explodeMode=nd_viewCtrl.shareInfo.explodeMode),32!=e.explodeMode&&(e.explodeLevel=nd_viewCtrl.shareInfo.explodeLevel,e.explodeAxis=nd_viewCtrl.shareInfo.explodeAxis),nd_viewCtrl&&nd_viewCtrl.shareInfo&&void 0!=nd_viewCtrl.shareInfo.explodeObjects&&(e.explodeObjects=nd_viewCtrl.shareInfo.explodeObjects)),nd_viewCtrl&&nd_viewCtrl.shareInfo&&void 0!=nd_viewCtrl.shareInfo.useUnvisibleList&&(e.useUnvisibleList=nd_viewCtrl.shareInfo.useUnvisibleList),nd_viewCtrl&&nd_viewCtrl.shareInfo&&void 0!=nd_viewCtrl.shareInfo.useTransparentList&&(e.useTransparentList=nd_viewCtrl.shareInfo.useTransparentList),nd_viewCtrl&&nd_viewCtrl.shareInfo&&nd_viewCtrl.shareInfo.unvisibleList&&(e.unvisibleList=nd_viewCtrl.shareInfo.unvisibleList),nd_viewCtrl&&nd_viewCtrl.shareInfo&&nd_viewCtrl.shareInfo.transparentList&&(e.transparentList=nd_viewCtrl.shareInfo.transparentList),nd_viewCtrl&&nd_viewCtrl.shareInfo&&nd_viewCtrl.shareInfo.camerainfo&&(e.camerainfo=nd_viewCtrl.shareInfo.camerainfo),nd_viewCtrl&&nd_viewCtrl.shareInfo&&nd_viewCtrl.shareInfo.viewState&&(e.viewState=nd_viewCtrl.shareInfo.viewState),nd_viewCtrl&&nd_viewCtrl.shareInfo&&nd_viewCtrl.shareInfo.projectionMode&&(e.projectionMode=nd_viewCtrl.shareInfo.projectionMode),nd_viewCtrl&&nd_viewCtrl.shareInfo&&nd_viewCtrl.shareInfo.clipPlaneInfo&&(e.clipPlaneInfo=nd_viewCtrl.shareInfo.clipPlaneInfo);var t="";return nd_viewCtrl&&nd_viewCtrl.shareInfo&&nd_viewCtrl.shareInfo.unitType&&nd_viewCtrl.shareInfo.unitType.length>0?t=nd_viewCtrl.shareInfo.unitType:nd_viewCtrl&&nd_viewCtrl.unitType&&(t=nd_viewCtrl.unitType),p.commit("modelStore/setUnitType",t),e}function y(){var e=[],t=nd_viewCtrl.allTags?nd_viewCtrl.allTags:[];if(t)for(let r=0;r<t.length;r++)try{var o=t[r];if(o&&o.content){var n=JSON.parse(o.content);o.imgURL&&(n.imgURL=o.imgURL),"ImageAnno"==n.state.type&&(n.state.type="",n.state.origiType="ImageAnno"),e.push(n)}else o.cx&&o.cy&&e.push(o)}catch(i){}return e}function O(){var e=p.state.modelStore.isModelCfg,t=C(e),o=nd_viewCtrl.tagRelateConfig,n=y(),i=f();if(i.isModelCfg=e,i.configNum=b(),i.shareInfo=t,i.allTag=n,i.tagRelate=!!o,i.askAccuracy=0!=nd_viewCtrl.askAccuracy,void 0!=nd_viewCtrl.defaultAccuracy&&p.commit("modelStore/setAccuracyLevel",nd_viewCtrl.defaultAccuracy),void 0!=nd_viewCtrl.viewboxTop){var r=document.createElement("style");r.innerHTML=".ndp3-wrap  .viewbox {top: "+nd_viewCtrl.viewboxTop+"px;}",document.head.appendChild(r)}return i}function f(){var e={bgColor:15921906,showShadow:!1,autoPlay:!1,bgImg:"",inAssemblyContext:!1,pmiVisible:!1,loadbrepDefault:!1,defaultStandardView:null,projectionMode:"Orthographic",viewState:"shaded",testMode:!1,language:"en",Arthur:"",from:"mobile"};return e.bgColor=nd_viewCtrl&&nd_viewCtrl.bgColor||15921906,e.bgColor=P(e.bgColor),e.angles=nd_viewCtrl&&nd_viewCtrl.angles||void 0,e.disratio=nd_viewCtrl&&nd_viewCtrl.disratio||void 0,e.bgImg=nd_viewCtrl&&nd_viewCtrl.bgImg||"",e.bgImg&&(e.bgColor=void 0),e.showShadow=nd_viewCtrl&&nd_viewCtrl.showShadow||!1,e.autoPlay=nd_viewCtrl&&nd_viewCtrl.autoPlay||!1,e.waterString=nd_viewCtrl&&nd_viewCtrl.waterString||"",e.angles||(e.defaultStandardView=nd_viewCtrl&&nd_viewCtrl.defaultStandardView||null),e.pmiVisible=S(),e.testMode=nd_viewCtrl&&nd_viewCtrl.testMode||!1,e.reflected=nd_viewCtrl&&nd_viewCtrl.reflected,e.viewMode=nd_viewCtrl&&nd_viewCtrl.viewMode||"common",e.inAssemblyContext="yzp"==e.viewMode||!1,e.loadbrepDefault=nd_viewCtrl&&nd_viewCtrl.loadbrepDefault||!1,e.askAccuracy=nd_viewCtrl&&nd_viewCtrl.askAccuracy||!1,e.Arthur=nd_viewCtrl&&nd_viewCtrl.waterString||"",e.language=g(),nd_viewCtrl&&nd_viewCtrl.shareInfo&&nd_viewCtrl.shareInfo.viewState&&(e.viewState=nd_viewCtrl.shareInfo.viewState),nd_viewCtrl&&nd_viewCtrl.shareInfo&&nd_viewCtrl.shareInfo.projectionMode&&(e.projectionMode=nd_viewCtrl.shareInfo.projectionMode),nd_viewCtrl&&"pc"==nd_viewCtrl.from&&(e.from="pc"),p.commit("setInitBgparams",{bgColor:e.bgColor,bgImg:e.bgImg}),e}function j(){var e=!1;return nd_viewCtrl&&nd_viewCtrl.shareInfo&&void 0!=nd_viewCtrl.shareInfo.unvisibleList&&nd_viewCtrl.shareInfo.unvisibleList.length>0&&(e=!0),e}function x(){var e=nd_viewCtrl&&(nd_viewCtrl.hideAreaTool||nd_viewCtrl._opt&&nd_viewCtrl._opt.hideAreaTool)||!1,t=nd_viewCtrl&&(nd_viewCtrl.hideAttr||nd_viewCtrl._opt&&nd_viewCtrl._opt.hideAttr)||!1,o=nd_viewCtrl&&(nd_viewCtrl.hideStructure||nd_viewCtrl._opt&&nd_viewCtrl._opt.hideStructure)||!1,n=nd_viewCtrl&&(nd_viewCtrl.hideShowPMI||nd_viewCtrl._opt&&nd_viewCtrl._opt.hideShowPMI)||!1;return{hideAreaTool:e,hideAttr:t,hideStructure:o,hideShowPMI:n}}function T(){var e=x();return nd_viewCtrl&&!nd_viewCtrl.hidebtnCfg&&(nd_viewCtrl.hidebtnCfg=[]),nd_viewCtrl.showBtnCfg&&nd_viewCtrl.showBtnCfg.length>0||nd_viewCtrl.showBtnMode?{type:"show",showbtns:nd_viewCtrl.showBtnCfg}:nd_viewCtrl.hidebtnCfg?(nd_viewCtrl.viewMode&&"sync"==nd_viewCtrl.viewMode&&nd_viewCtrl.hidebtnCfg.push("#ico-Tagging"),e.hideStructure&&nd_viewCtrl.hidebtnCfg.push("#ico-structure"),e.hideAreaTool&&(nd_viewCtrl.hidebtnCfg.push("#ico-measure"),nd_viewCtrl.hidebtnCfg.push("#ico-ruler")),e.hideShowPMI&&nd_viewCtrl.hidebtnCfg.push("#ico-pmi"),{type:"hide",hidebtns:nd_viewCtrl.hidebtnCfg}):{type:"no"}}(function(){try{parent&&parent.nd_viewCtrl?window.nd_viewCtrl=parent.nd_viewCtrl:window.nd_viewCtrl&&(window.nd_viewCtrl=window.nd_viewCtrl)}catch(e){}})();var M={tagNote:"tag_3d",pcMtxtTagTxt:"tag_3d",pcMtxtTagImg:"tag_3d",pcMtxtTagTxtImg:"tag_3d",pmiHide:"oper1_3d",pmiShow:"oper1_3d",coutObj:"cut_3d",bigBang:"oper1_3d",expFree:"oper1_3d",expAdv:"oper1_3d",structureTree:"oper1_3d",showHide:"display_3d",attr:"oper2_3d",drag:"oper3_3d",pcMtxtIplus:"oper2_3d",pcMtxtPers:"oper3_3d",pcMtxtOrth:"oper3_3d",distance:"mea0_3d",length:"mea1_3d",angle:"mea1_3d",radius:"mea1_3d",area:"mea2_3d",volumeWeight:"mea2_3d",meterBox:"mea1_3d",clear:"mea1_3d",pointToPoint:"mea0_3d",pointToLine:"mea0_3d",pointToFace:"mea0_3d",lineToLine:"mea0_3d",lineToFace:"mea0_3d",faceToFace:"mea0_3d",circleDistance:"mea0_3d",dotToPoint:"mea0_3d",dotToFace:"mea0_3d",dotToLine:"mea0_3d",meterLine:"mea1_3d",circleLength:"mea1_3d",lineToAngle:"mea1_3d",faceToAngle:"mea1_3d",lineToFaceAngle:"mea1_3d",selectedFace:"mea2_3d",selectedObj:"mea2_3d",totalArea:"mea2_3d",totalObj:"mea2_3d",totalBox:"mea2_3d",selectToObj:"mea2_3d",pcAllVolWt:"mea2_3d",totalAttr:"oper2_3d",singleAttr:"oper2_3d",coutFaceHide:"cut_3d",coutFaceShow:"cut_3d",reverseCout:"cut_3d",singleDrag:"oper3_3d",singleDragResert:"oper3_3d",allDragResert:"oper3_3d",highLight:"display_3d",displayHide:"display_3d",transparent:"display_3d",displayResert:"display_3d",displayHideOther:"display_3d",showSetting:"view_3d",hideNote:"oper1_3d",showNote:"oper1_3d",resetEye:"oper2_3d",hidelineToHide:"view_3d",hidelineToSee:"view_3d",color:"view_3d",colorLine:"view_3d",pcUnitType1:"unit_3d",pcUnitType2:"unit_3d",pcUnitType3:"unit_3d",distanceSmart:"mea0_3d",lengthSmart:"mea1_3d",angleSmart:"mea1_3d",colorTxt1:"colorall_3d",colorTxt2:"colorall_3d",backgroundSetTxt:"background_3d",colorTxt3:"Selectpart_3d",pcHighLight:"Selectpart_3d",pcTrans:"Selectpart_3d",pcCancelTrans:"Selectpart_3d",pcHidePart:"Selectpart_3d",pcSingleShow:"Selectpart_3d",pcAllShow:"Selectpart_3d",attrPop:"Selectpart_3d"},D={cancel:"取消",save:"保存",sure:"确定",sure2:"确认",search:"搜索",back:"返回",exit:"退出",del:"删除",searchTree:"搜索结构树",searchTree2:"搜索结构部件",gUnit:"个",areaBoxTxt:"面积：",volumnBoxTxt:"体积：",areaAllBoxTxt:"总面积：",volumnAllBoxTxt:"总体积：",premierTxt:"周长",noTxt:"序号",sizeTxt:"尺寸",accuracyInfo:"该模型比较复杂，图形加载可能比较慢，浏览可能会不够流畅，建议您选择低精度模式查看。",lowAccuracy:"低精度模式",highAccuracy:"高精度模式",showSetting:"显示设置",multipleSetting:"多配置",colorLine:"边线上色",color:"上色",hidelineToSee:"隐线可见",hidelineToHide:"隐线消除",resetEye:"重置视角",reset:"重置",hideNote:"隐藏批注",showNote:"显示批注",tagNote:"批注",meter:"测量",pmiHide:"隐藏PMI",pmiShow:"显示PMI",coutObj:"剖切",structureTree:"结构树",attr:"属性",bigBang:"爆炸",drag:"拖动",showHide:"显示隐藏",chooseMeterType:"选择测量形式",chooseMeterDistanceType:"选择距离形式",chooseMeterLengthType:"选择长度形式",chooseMeterAngleType:"选择角度形式",chooseMeterAreaType:"选择面积形式",chooseMeterVolumnWeightType:"选择体积重量形式",chooseTagType:"选择批注形式",distance:"距离",distanceSmart:"智能测量",pointToPoint:"点到点",pointToLine:"点到线",pointToFace:"点到面",lineToLine:"线到线",lineToFace:"线到面",faceToFace:"面到面",circleDistance:"圆心距",dotToPoint:"孔轴到点",dotToLine:"孔轴到线",dotToFace:"孔轴到面",length:"长度",lengthSmart:"智能测量",meterLine:"线测量",circleLength:"周长",angleSmart:"智能测量",angle:"角度",lineToAngle:"线夹角",faceToAngle:"面夹角",lineToFaceAngle:"线面夹角",radius:"半径",area:"面积",selectedFace:"指定面",selectedObj:"指定实体",totalArea:"总面积",volumeWeight:"体积重量",selectToObj:"指定实体",totalObj:"总实体",volumnWeightDetail:"体积重量详情",material:"材料",chooseMaterial:"请选择材料",chooseMateria2:"请选择属性类型",enterSelfMaterial:"请输入材料/密度",enterSelfMaterial2:"请输入材料密度",selectedVolumn:"指定实体体积",selectedWeight:"指定实体重量",usualMaterial:"常用材料",selfMaterial:"自定义材料",meterBox:"包围盒",chooseMeterBoxType:"选择包围盒形式",totalBox:"总包围盒",clear:"清空",chooseStructureTree:"选择结构树",noTreeData:"暂无搜索结果",noTreeData2:"暂无数据",chooseAttrType:"选择属性形式",totalAttr:"总属性",singleAttr:"指定实体",selAttrDetail:"指定实体属性详情",totalattrDetail:"总属性详情",normalAttr:"常规属性",selfAttr:"自定义属性",noAttr:"暂无自定义属性",material:"材料",faceFace:"表面积",volumn:"体积",weight:"重量",boxVolume:"包围盒体积",objNum:"实体数",partNum:"零件数",pmiNum:"PMI数量",sureToDelAttr:"确定删除属性？",chooseCoutType:"选择剖切形式",chooseCoutType2:"选择剖切",coutFaceShow:"切面显示",coutFaceShow2:"开启剖切",coutFaceHide:"切面隐藏",reverseCout:"反向剖切",chooseToBang:"滑动选择爆炸程度",chooseToDrag:"选择拖动形式",singleDrag:"单个拖动",singleDragResert:"单个复位",allDragResert:"全部复位",editAttr:"编辑属性",attrType:"属性分类",attrName:"属性名称",attrValue:"属性值",addAttr:"新增属性",addAttr2:"添加属性",chooseDisplayType:"选择显示隐藏形式",highLight:"突出显示",displayHide:"隐藏显示",transparent:"透明显示",displayResert:"全部还原",displayHideOther:"单独显示",chooseToPart:"单击确定零件",chooseShowType:"选择显示设置形式",serveErrorTips:"提示：服务器异常，请稍候重试",dataIsNeed:"必填信息不能为空",noChildCfg:"缺少当前子菜单配置",choosePoint:"单击确定批注位置",tagTitle:"文本批注",tagholder:"请在此输入批注说明(选填)",tagPoint:"点",tagText:"文本",tagDraw:"绘图",tagArrow:"箭头",tagLine:"线段",tagCircle:"圆形",tagRect:"方形",tagSave:"保存",tagCancle:"取消",tagTip1:"禁止输入非法字符",tagTip2:"图片过大",tagTip3:"图片格式不正确",tagTip4:"请选择图片",tagTip5:"选择图片",loadError:"加载错误",tagDensity1:"请输入密度",tagDensity2:"请输入正确的密度",expMode:"选择爆炸模式",expArea:"局部爆炸-选择结构树",expFree:"自由爆炸",expAdv:"高级爆炸",expDirect:"爆炸方向",expDirectX:"沿X轴爆炸",expDirectY:"沿Y轴爆炸",expDirectZ:"沿Z轴爆炸",expLevel:"结构树级别",expLevel1:"一级",expLevel2:"二级",expLevel3:"三级",expLevel4:"四级",expLevel5:"五级",expSmall:"所选部件小于当前选择级别",expBar:"拖动滚动条查看爆炸效果",pcNowConfig:"当前配置",pcPartName:"零件名称",pcAllVolWt:"总体积重量",pcEdit:"编辑",pcInpAttrName:"请输入属性名称",pcInpAttrType:"请填写属性类型",pcInpAttrName2:"请输入属性名称",pcInpAttrName3:"属性名重复",pcInpAttrValue:"请输入属性值",pcDelAttrTips:"删除后属性数据不再保留",pcBrepNotEnd:"提示：测量数据正在加载，请稍候重试...",pcFileTypeTips:"提示：图片格式不正确！",pcTrans:"透明显示",pcCancelTrans:"取消透明",pcHidePart:"隐藏显示",pcHideOther:"隐藏其它",pcAllShow:"全部还原",pcSingleShow:"单独显示",pcHighLight:"突出显示",pcStructLv:"结构树层级",pcStructCon:"局部爆炸-开启结构树爆炸",pcChooseCommonMt:"选择常用材料",pcChooseMtDe:"请选择材料名称及密度",pcChooseMtType:"请选择材料类型",pcMtType:"材料类型",pcMtName:"材料名称",pcSeePlan:"查看剖面",pcSeePlan2:"查看切面",pcChoosePlan:"选择切割面",pcXcut:"沿X轴切割",pcYcut:"沿Y轴切割",pcZcut:"沿Z轴切割",pcReset:"重置",pcReset2:"恢复默认设置",pcClickSurePart:"单击确定零件",pcMtxtLineShade:"边线上色",pcMtxtShade:"上色",pcMtxtLineSee:"隐线可见",pcMtxtLineMove:"隐线消除",pcMtxtTagHide:"隐藏批注",pcMtxtTagShow:"显示批注",pcMtxtPers:"透视",pcMtxtOrth:"正交",pcMtxtHomeView:"重置视角",pcMtxtTagTxt:"文本批注",pcMtxtTagImg:"图片批注",pcMtxtTagTxtImg:"图文批注",pcMtxtTagImg2:"图片路径",pcMtxtSmartMeter:"智能测量",pcMtxtDistance:"距离",pcMtxtLength:"长度",pcMtxtAngle:"角度",pcMtxtRadius:"半径",pcMtxtArea:"面积",pcMtxtVolWet:"体积重量",pcMtxtBox:"包围盒",pcMtxtP2P:"点到点",pcMtxtP2L:"点到线",pcMtxtP2F:"点到面",pcMtxtL2L:"线到线",pcMtxtL2F:"线到面",pcMtxtF2F:"面到面",pcMtxtCpoint:"圆心距",pcMtxtX2P:"孔轴到点",pcMtxtX2L:"孔轴到线",pcMtxtX2F:"孔轴到面",pcMtxtLmeter:"线测量",pcMtxtPmeter:"周长",pcMtxtAngleL:"线夹角",pcMtxtAngleF:"面夹角",pcMtxtAngleLF:"线面夹角",pcMtxtToF:"指定面",pcMtxtToSingle:"指定实体",pcMtxtToAllPart:"总实体",pcMtxtToAllBox:"总包围盒",pcMtxtToAllAttr:"总属性",pcMtxtTolArea:"总面积",pcMtxtIplus:"框选放大",pcCoutTip1:"顺时针旋转",pcCoutTip2:"逆时针旋转",pcCoutTip3:"最大化",pcCoutTip4:"镜像",pcCoutTip5:"最小化",pcCursorTip:"单击确定指定实体",pcAllVol:"总体积",pcAllWeight:"总重量",pcNoPic:"暂无图片",pcUnitIcon:"单位设置",pcUnitType1:"默认单位",pcUnitType2:"公制单位(mm/kg)",pcUnitType3:"英制单位(in/lb)",tagAudioTips1:"说话时间太短",tagDelConfirm:"确定要删除当前批注吗?",tagSaveConfirm:"是否要保存当前的批注?",tagAudioTimeTip:"",tagAudioCreate:"松开即可形成一条语音",tagAudioPress:"按住说话",tagExitSee:"退出查看批注",tagExit:"退出",tagExit2:"退出批注",tagTips:"请输入文本",tagDelImg:"删除图片",tagNoRoot:"请前往设置开启麦克风权限",tagSaveConfirm2:"是否要保存当前的批注?",tagSeeBigImg:"查看大图",tagSeeSmallImg:"最小化",pmiTxt1:"选择PMI",pmiTxt2:"开启PMI",pmiTxt3:"开启装配体PMI",pmiTxt4:"开启子件PMI",backgroundSetTxt:"背景/场景设置",attrPop:"属性",colorTxt1:"一键上色",colorTxt2:"取消上色",colorTxt3:"设置颜色",settings:"设置",bgColorTxt:"背景色",bgSceneTxt:"场景图",bgSetTxt:"背景设置",openThisPart:"当前标签页打开",bgDelColor:"去除颜色",measureTimesErr:"当前测量数据过多，请清除后再进行添加",modelLoadErr:"模型加载失败",modelLimitErr:"当前使用人数超过限制"};const E={_cEvent:null,_patform:"",_mode:"3D",_userID:"",_jg_appkey:"",init:function(e){var t=this;this._mode=e;try{if(F()){var o=navigator.userAgent;o.indexOf("MicroMessenger")>-1&&nd_viewCtrl&&nd_viewCtrl.wx_miniProgram||t.importJG_sdk()}else t.importJG_sdk()}catch(n){}},importJG_sdk:function(){var e=this;if(!nd_viewCtrl||!nd_viewCtrl.unsupportedJG)try{var t=document.createElement("script");t.setAttribute("type","text/javascript"),t.setAttribute("src","./coreViewer/res/janalytics-web.min.js?ver=4.1"),document.head.appendChild(t),t.onload=function(){e.init_detail()}}catch(o){}},init_detail:function(){if(window.JAnalyticsInterface){var e=this;nd_viewCtrl&&nd_viewCtrl.jg_appkey?this._jg_appkey=nd_viewCtrl.jg_appkey:this._jg_appkey="915297554df1c66f3fbf9e46",window.JAnalyticsInterface.init({appkey:e._jg_appkey,debugMode:!1,channel:"default-channel",loc:!1,singlePage:!1}),this._userID=nd_viewCtrl&&nd_viewCtrl.userID,this._patform=H()}},sendJig:function(e,t){if(window.JAnalyticsInterface){var o=window.JAnalyticsInterface.Event.CountEvent,n=D[t];this._cEvent=new o(e),this._cEvent.addKeyValue("菜单名称",n).addKeyValue("操作终端","mobile").addKeyValue("用户ID",this._userID),window.JAnalyticsInterface.onEvent(this._cEvent),"3D"==this._mode?this._cEvent=new o("3d"):this._cEvent=new o("2d"),this._cEvent.addKeyValue("菜单名称",n).addKeyValue("操作终端","mobile").addKeyValue("用户ID",this._userID),window.JAnalyticsInterface.onEvent(this._cEvent)}},buryClick:function(e,t){t||(t=M[e]),t+="_pc",this.sendJig(t,e)}};var k=E;const B=(e,t)=>{k.buryClick(e,t)};function N(e,t){let o,n,i=t||200;return function(){let t=arguments,r=Date.now();o&&r-o<i?(clearTimeout(n),n=setTimeout((function(){o=r,e.apply(this,t)}),i)):(o=r,e.apply(this,t))}}const A=function(e){var t=e.replace("(","");t=t.replace(")",""),t=t.replace("rgb","").split(",");for(var o="0X",n=0;n<t.length;n++){var i=Number(t[n]).toString(16);i.length<2&&(i="0"+i),o+=i}return 8!==o.length&&(o=e),o};function _(e){var t=e.replace("(","").replace(")","").split(",");if(3!=t.length)return"#ffff";for(var o="#",n=0;n<3;n++){var i=t[n];if(""==i&&(i="0"),parseInt(i)!=i)return"#ffff";if(i>255)return"#ffff";var r="0123456789ABCDEF",c="",a=i%16;c=r.substr(a,1),a=(i-a)/16,o+=r.substr(a,1)+c}return o}function I(e){var t=_(e);return t=t.replace("#","0X"),Number(t)}function V(e){return e=e.replace("#","0X"),Number(e)}function P(e){return"string"==typeof e?e.indexOf("#")>=0?V(e):3==e.split(",").length?I(e):e:e}const L=function(e){try{let t=Object.getOwnPropertyNames(e);return 0==t.length}catch(t){return!0}},R=e=>{try{let t=decodeURIComponent(e||"");return t}catch(t){let o=e;const n=[{code:"%25",encode:"%"},{code:"%3F",encode:"?"},{code:"%23",encode:"#"},{code:"%26",encode:"&"},{code:"%3D",encode:"="}];o=o.replace(/%25|%3F|%23|%26|%3D/g,(e,t,o)=>{for(const i of n)if(i.code===e)return i.encode});const i=[{code:"%",encode:"%25"},{code:"?",encode:"%3F"},{code:"#",encode:"%23"},{code:"&",encode:"%26"},{code:"=",encode:"%3D"}];return o=o.replace(/[%?#&=]/g,(e,t,o)=>{for(const n of i)if(n.code===e)return n.encode}),decodeURIComponent(o||"")}},z=(e,t)=>{let o=e||[],n=o.indexOf(t);return n>-1&&o.splice(n,1),o},F=function(){for(var e=navigator.userAgent,t=["Android","iPhone","SymbianOS","Windows Phone","iPad","iPod"],o=!1,n=0;n<t.length;n++)if(e.indexOf(t[n])>0){o=!0;break}return o},H=()=>{if(F()){var e=navigator.userAgent;return e.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/)||e.indexOf("iPhone")>-1||e.indexOf("iPad")>-1||e.indexOf("Macintosh")>-1?"IOS":e.indexOf("Android")>-1||e.indexOf("Linux")>-1?"Android":"Other"}return"PC"};function U(){const e={modelFolder:"",Folder:"",Name:"",modejsPath:"",captureImg:"../../assets/img/pic-default2.png",capturePath:"",isShare:!1};return e}function W(e){var t=[];return e.map((e,o,n)=>{var i=U();Object.assign(i,e);var r=e.Folder.substring(e.Folder.lastIndexOf("/")+1),c=/^[0-9]+$/.test(r),a=c?e.Folder.substr(0,e.Folder.lastIndexOf("/")):e.Folder;i.captureImg=a+"/"+e.Name+"_thumbnail.jpg",i.capturePath=a+"/"+e.Name+"_thumbnail.jpg",i.modejsPath=e.Folder+"/model.js",t.push(i)}),t}function G(){var e={isCutout:!1,isCutoutShow:!0,isBoxing:!1,cutType:"base",cutList:[],active_cur:""};return e}const X=function(e){var t=!1;if(e){e=e.toLowerCase();for(var o=[".catpart","catproduct",".ipt",".iam",".jt",".prt",".session",".prt",".prt.*",".asm",".asm*",".par",".psm",".sldprt",".sldasm"],n=0;n<o.length;n++){var i=o[n];if(e.indexOf(i)>0){t=!0;break}}}return t},Y=function(e,t,o){const n=Z(o);if(e<=0)return 0;if(t<=0)return 0;var i="",r=0,c=J(t,o);if("string"==typeof e&&e.indexOf("~")>0){var a,s,l=e.split("~"),d=0,m=0;a=parseFloat(l[0])*c/1e3,d=parseFloat(l[1])*c/1e3;var u=parseFloat(l[0])*c,h=parseFloat(l[1])*c;s=te(a),m=te(d),"in"!=n?s>=1&&m>=1?(i="kg",r=s+" ~ "+m):(r=te(1e3*a)+" ~ "+te(1e3*d),i="g"):u>1&&h>1?(r=te(u)+" ~ "+te(h),i="lb"):(r=te(16*u)+" ~ "+te(16*h),i="oz")}else{var p=0,g=e*c;p=e*c/1e3,"in"!=n?p>=1?(r=te(p),i=" kg"):(r=te(1e3*p),i=" g"):g>1?(r=te(g),i="lb"):(r=te(16*g),i="oz")}return r+i},J=function(e,t){return"mm"==t?e/1e3:"cm"==t?e:"m"==t?1e6*e:"in"==t?e:"ft"==t?1728*e:e},Z=function(e){return"m"==e||"cm"==e||"mm"==e?"mm":"in"==e||"ft"==e?"in":void 0},K=function(e){return"meter"==e?"m":"centimeter"==e?"cm":"millimeter"==e?"mm":"inch"==e?"in":"feet"==e?"ft":void 0},Q=function(e){return"meter"==e?"m³":"centimeter"==e?"cm³":"millimeter"==e?"mm³":"inch"==e?"in³":"feet"==e?"ft³":void 0},q=function(e){if(isNaN(e))return e;var t=""+e;return/e/i.test(t)?e.toFixed(18).replace(/\.?0+$/,""):e},ee=function(e){return e=Number(e).toFixed(2),e>999999999&&(e=q(e)),e},te=function(e){return e=Number(e).toFixed(3),e>999999999&&(e=q(e)),e},oe=function(e,t,o){var n=[];if(-1!=o[t].toLowerCase().indexOf(e.toLowerCase())&&n.push(o),o.children.length)for(var i=0;i<o.children.length;i++)n=n.concat(oe(e,t,o.children[i]));return n},ne=function(e){const t=T();return"show"==t.type||("hide"!=t.type||!(t.hidebtns.indexOf(e)>-1))},ie=function(){var e=new Date;return"cms"+e.getDay()+e.getHours()+e.getMinutes()+e.getSeconds()+e.getMilliseconds()+Math.round(1e4*Math.random())},re=function(e){e.isChecked=!1,e.parent&&re(e.parent)},ce=function(e){e.parent&&(e.parent.isChecked=e.parent.children.every(e=>e.isChecked)),e.parent&&e.parent.parent&&ce(e.parent)},ae=function(e,t){e.isRendered&&e.children&&e.children.map(e=>{e.isChecked=t,e.children&&ae(e,t)})},se=function(e){e.isEasyChecked=!1,e.parent&&se(e.parent)},le=function(e){e.parent&&(e.parent.isEasyChecked=e.parent.children.every(e=>e.isEasyChecked)),e.parent&&e.parent.parent&&le(e.parent)},de=function(e,t){e.children&&e.children.map(e=>{e.isEasyChecked=t,e.children&&de(e,t)})},me=function(e,t){e.children&&e.children.map(e=>{e.isEasyChecked=t,e.isOpenChild=t,e.children&&me(e,t)})},ue=function(e){e.isHighlight=!1,e.parent&&ue(e.parent)},he=function(e){e.parent&&(e.parent.isHighlight=e.parent.children.every(e=>e.isHighlight)),e.parent&&e.parent.parent&&he(e.parent)},pe=function(e,t){e.children&&e.children.map(e=>{e.isHighlight=t,e.children&&pe(e,t)})},ge=function(e,t){e.children&&e.children.map(e=>{e.isHighlight=t,e.isOpenChild=t,e.children&&ge(e,t)})},ve=function(e){e.isOpenChild=!0,e.parent&&ve(e.parent)},be=function(e,t){e&&(t.isHighlight=!!e.isHighlight,t.isChecked=!!e.isChecked,t.isOpenChild=!!e.isOpenChild,t.isRendered=!!e.isRendered,t.children&&t.children.map((t,o)=>{be(e.children[o],t)}))},we=function(e,t){t.map((t,o)=>{t.isHighlight=e[o].isHighlight,t.isChecked=e[o].isChecked,t.isOpenChild=e[o].isOpenChild,t.isRendered=e[o].isRendered})},Se=function(e,t){e&&(t.isEasyChecked=e.isEasyChecked,t.isOpenChild=e.isOpenChild,t.isRendered=e.isRendered,t.children&&t.children.map((t,o)=>{Se(e.children[o],t)}))},Ce=function(e,t){t.map((t,o)=>{t.isEasyChecked=e[o].isEasyChecked,t.isOpenChild=e[o].isOpenChild,t.isRendered=e[o].isRendered})},ye=function(e,t){return new Promise((t,o)=>{var{url:n,method:i,data:r}=e,c=i||"GET",a=!0,s=null;window.XMLHttpRequest?s=new XMLHttpRequest:window.ActiveXObject&&(s=new ActiveXObject("Microsoft.XMLHTTP")),null!=s?(s.onreadystatechange=function(){var e=void 0;if(4==s.readyState){if(s.responseText&&404!=s.status&&!s.responseText.includes("<!DOCTYPE html>"))try{e=JSON.parse(s.responseText)}catch(o){}t(e)}},s.open(c,n,a),s.setRequestHeader("Content-type","application/json; charset=utf8"),c=c.toUpperCase(),"GET"==c||"DELETE"==c?s.send():"POST"!=c&&"PUT"!=c||s.send(JSON.stringify(r))):(alert("Your browser does not support XMLHTTP."),t(void 0))})},Oe=function(e){var t=[];if(t.push(e.objectid),e.children.length)for(var o=0;o<e.children.length;o++)t=t.concat(Oe(e.children[o]));return t},fe=function(e,t){e.parent&&"body"==e.type.toLocaleLowerCase()?fe(e.parent,t):t&&t(e)},je=function(e,t){try{if(!pako)return null;let t=atob(e);const o=t.split("").map((function(e){return e.charCodeAt(0)})),n=new Uint8Array(o),i=pako.inflate(n);t=new Uint16Array(i);let r,c="",a=8192;for(r=0;r<t.length/a;r++)c+=String.fromCharCode.apply(null,t.slice(r*a,(r+1)*a));return c+=String.fromCharCode.apply(null,t.slice(r*a)),decodeURIComponent(c)}catch(o){}},xe=function(e,t){if(!pako)return null;let o;return o=t?pako.gzip(encodeURIComponent(e),{to:"string"}):pako.gzip(e,{to:"string"}),btoa(o)},Te=function(e,t){let o=!1;return e.map(e=>{e.state.uuid==t&&(o=!0)}),o},Me=function(){try{return new Promise((e,t)=>{const o=window.localStorage.getItem("0_BF"),n=(new Date).getTime();let i=o&&o.split(",")[1]||0;if(!o||i-n>864e5){var r=new Fingerprint2;r.get(t=>{window.localStorage.setItem("0_BF",t+","+(new Date).getTime()),e(t)})}else e(o.split(",")[0])})}catch(e){return""}},De=function(e){try{let t="MIIEvgIBADANBgkqhkiG9w0BAQEFAASCBKgwggSkAgEAAoIBAQCxl/XzEMiiYrLq prR5BxAY+IPkPdOtiEt7fP3jtxac0m5S1FAT/3jiQb+bTmqeffsl5gw7LaMMOkAj 5h+HzH/TbTmxYn4dIUkGFvvZHAiwMuDA+7fORjhTaz1hmQi1gUNX9Qu985ys2jFb eXAg5XV2orovM+qY3regbNkWwVk3iJ1Kk3rk2ZBw26AVvs+ujVvAE8cGP/LgAAOe CvNDTiA//agCTajQo1xSkAIcLSNKdUfn5OdTlx0sifXcw5NUmBZKbQ7Q7tC0Xpa1 RanG+5riOzLcw6zOKwHn62Hp3Twosc/hLATaOmz/ru5rnNe+bDBndp3iRo/zCiL8 8iwmg+s7AgMBAAECggEBAJnBWusKSOpuUUDe+7kc6E72OhpNfQrsyY0sdhPE3AsC FQoZTwtBT8Nz8RPhHGYD5IC3XzeNF3DqrcVm4z2LS9Ac7Koq/8zwmGxxUbJylwMV yYjLZiNsoC941Te+as/aDhgEzBm05Jyye7Eavn18q+n+kPt1E1Mu4ARAuOL+muN8 LNqNFOMSYzocXRJqnKSXnnIQQa6FvA6UiM8DaJcXJ83V24tF0vaLfCOOFvfNQwGN gNapppvJGSqE1QjrNwllO8O8cBmiC0PIW0lff2qeXH6bfhzUiaMa70sDEEHcZlW5 WmoJABjYwEH5xvjCqieK5SOGKwQkwFj0gcqBKGWZPYECgYEA6xAV4UqvvIlRvlMI eKAlJJwS10M9avScyq9W+fJk0KVqstGGdIDklRy4pd1SALDwKU4C58I/5Gsky+S+ iPwUaZySWjwgdBl4icv3cbUdu61gUUdHfDh+d+hZcnRKa9EzQEPReOkcVpSlfxnJ oaS7psozL3nUfJrTH+QlflesQXECgYEAwWl1dpcCJkmuacUhzCsZ29BljREjlPK6 6qnjUEY/IWqddH2ZWrJBB+6ZSNYSniNqpsjnFPccQdEfk2kxWLjeCCNb42Lukm6F rrJt7Kit7KW0VDyN7+etkzGRfM0QQl9mhX4wUxWyCKdgq7+Ut/nwlYhZi7TN86n7 qRBN1HPlIWsCgYEA0Q43R20TKoy+RJS4Xf+fyRV9tDE6+Fqg76pNonIvs1jKskqi WA8iPHOUzP8vJSo4DaQx9UjPZijcSvIfetkmll8H0nTTMC5PA86BPYGk9ftWRDMu oo3j/GSK2L4QSh9+g1NNg0lfSKlfHtEigD5wHgCK0Vh64G8aAaz4o4r5yiECgYBH G93K5wQsTYSpcIfXh7UvIvRjI/0AAyoDoshnOBx3zbnsHU1nkgfkwa1roQEhUQYi IdUL2TpzXE6OpOs2omlHdrCO7k2mWqodq45Mp0uiqN2e5tCMdpJTfrLtvnsO3AJW bCmaMmzNT7R0ELC930+7unCps6TQxBs5cjwbMyz31wKBgF1wlS2cWsuOQ76t8LPn jXC6nsU2eisWN5KFbxhNphCnqxgYBJth5Vk3OIby2nmvNGqO12p1bUZpbVEBttyj JcXR+iuasOWWev0SuUFZvp3bYEiX/sCjWZbB9mBjg/s6QW5z4ZW9rF6UdOr7ISQ8 6g9cU4ontroPvD52Jcffyr3f",o=new JSEncrypt;o.setPrivateKey(t);let n=o.decrypt(e);return n}catch(t){return""}},Ee={_viewer:null,_nowModel:0,_OnlyVisbale:void 0,_viewMode:"common",_modelId:0,_inited:!1,init(e){this._inited||(this._inited=!0,this._viewer=new NDSWebViewer.Viewer({id:"viewer",from:"pc",BreploadWorkerUrl:"./coreViewer/NDSBrepLoadWorker.min.js?ver=4.1",loadWorkerUrl:"./coreViewer/NDSLoadWorker.min.js?ver=4.1",enableArrowKeyOp:!0,backGroundColor:e.bgColor,enableGroundShadow:e.showShadow,enableAutoRotation:e.autoPlay,backGroundImage:e.bgImg,is2DModel:!1,language:"zh-CN",inAssemblyContext:e.inAssemblyContext,toolbar:!1,pmiVisible:e.pmiVisible,loadbrepDefault:e.loadbrepDefault,has2DCover:!0,hasLoadingWaiter:!1,hasLoadingCoverer:!0,enableSelect:!0,autoSwitchFirstPersonView:!1,showLines:!0,projectionMode:e.projectionMode,hasViewBox:!0,limitEventArea:!0,convertPhongToPBR:!0,enableBodyVolumeMeasure:!0,clipPlaneShaderVersion:3,showSectionPlane:!0,defaultStandardView:e.defaultStandardView,defaultOpRotate:!0,Arthur:e.Arthur,viewState:e.viewState,testMode:e.testMode,reflected:!!e.reflected,angles:e.angles,disratio:e.disratio}))},async loadModelView(e,t,o,n,i){const r=await this.allowCode(e);if(2==r&&!p.state.modelIsLoaded){if(!nd_viewCtrl.hasOwnProperty("fingerHttp"))return p.commit("setShowLoading",!1),void p.commit("menuStore/setShowManyConfig",!1);const e=await Me(),t=await ye({url:nd_viewCtrl.fingerHttp+"/nds_requests/common/ViewerVisit",method:"POST",data:{browserMark:e,viewerVersion:ViewerVersion}});if(!t)return p.commit("menuStore/setShowManyConfig",!1),void p.commit("setShowLoading",!1);if(1!=t.status.code)return gh.$eventBus.emit("MsgTipEvent",t.status.msg),p.commit("menuStore/setShowManyConfig",!1),void p.commit("setShowLoading",!1);let o=JSON.parse(De(t.data));if(o.browserMark!=e)return p.commit("menuStore/setShowManyConfig",!1),void p.commit("setShowLoading",!1);if(!o.visit)return gh.$eventBus.emit("MsgTipEvent4",gh.$t("modelLimitErr")),p.commit("menuStore/setShowManyConfig",!1),void p.commit("setShowLoading",!1)}p.commit("setShowLoading",!0),n=n||null,i=i||{},this._viewer.resetForReload(),p.commit("modelStore/setModelPath",e),p.commit("modelStore/setModelSetInfo",i),this._viewer.loadModel("idv",e,void 0,void 0,"js",n,(function(){Ee._nowModel=o,t&&t(),p.commit("setShowLoading",!1)}),null,i)},allowCode(e){return new Promise((t,o)=>{this._viewer.allowshow(e,e=>{t(e)})})},modelUnit:function(){return this._viewer.modelUnit},containProperty:function(){return this._viewer.containProperty},getViewerIntance(){return this._viewer||{}},onMoveForward:function(){this._viewer.onMoveForward()},onMoveBack:function(){this._viewer.onMoveBack()},onMoveLeft:function(){this._viewer.onMoveLeft()},onMoveRight:function(){this._viewer.onMoveRight()},onResetCamera:function(){return this._viewer.onResetCamera()},setOperatorByID:function(e){return this._viewer.setOperatorByID(e)},onSectionView:function(e){return this._viewer.onSectionView(e)},hideShowClipPlane:function(e){return this._viewer.clipPlaneManager.hideShowClipPlane(e)},reverseClipDirection:function(){return this._viewer.clipPlaneManager.reverseClipDirection()},getSelectedObjects:function(){return this._viewer.selectionManager.getSelectedObjects()},isolateSelectedObjects:function(){return this._viewer.isolateSelectedObjects()},hideSelectedObjects:function(){return this._viewer.hideSelectedObjects()},transparentSelectedObjects:function(){return this._viewer.transparentSelectedObjects()},onSelectAndMoveModel:function(){return this._viewer.onSelectAndMoveModel(!0)},onSelectAndRestoreModel:function(){return this._viewer.onSelectAndRestoreModel(!0)},restoreAllDraggedObjects:function(){return this._viewer.restoreAllDraggedObjects(!0)},onHideModel:function(){return this._viewer.onHideModel()},onReverseVisibleAndHidingModel:function(){return this._viewer.onReverseVisibleAndHidingModel()},showAllModel:function(){return this._viewer.showAllModel()},getSelectedObjectProperty:function(e){this._viewer.getSelectedObjectProperty(e)},getfileProperty:function(e,t){this._viewer.getfileProperty(e,t)},getfileguid:function(e){return this._viewer.getfileguid(e)},hasObjectHiddenOrIsolated:function(){return this._viewer.hasObjectHiddenOrIsolated()},getModelTree:function(){return this._OnlyVisbale=j(),this._viewer.getModelTree(this._OnlyVisbale)},isLeaf:function(e){return this._viewer.isLeaf(e)},clearSelection:function(){this._viewer.selectionManager.clearSelection(),this.render()},selectObject:function(e){this._viewer.selectionManager.selectObject(e,!0)},deselectObject:function(e){this._viewer.selectionManager.deselectObject(e)},isolateSelectedObjects:function(e){this._viewer.isolateSelectedObjects()},zoomToObject:function(e){this._viewer.zoomToObject(e)},getObjectProperty:function(e,t){this._viewer.getObjectProperty(e,t)},setMeasureOpType:function(e){this._viewer.setMeasureOpType(e)},lookByFace:function(e){this._viewer.cameraControl.lookByFace(e)},onBoxSectionView:function(e){this._viewer.onBoxSectionView(e)},setBackGroundColor:function(e){this._viewer.setBackGroundColor(e)},getHotPoint:function(e,t){return this._viewer.getHotPoint(e,t)},addAnnotation:function(e){this._viewer.addAnnotation(e)},addAnnotationSave:function(e){this._viewer.addAnnotationSave(e)},CorrectPosition:function(e){this._viewer.CorrectPosition(e)},resetSelectAnnotation:function(){this._viewer.resetSelectAnnotation()},setAnnotationsVisibility:function(e){this._viewer.setAnnotationsVisibility(e)},selectAnnotation:function(e){this._viewer.selectAnnotation(e)},removeAnnotation:function(e){this._viewer.removeAnnotation(e)},removeAnnotations:function(e){this._viewer.removeAnnotations(e)},removeAllAnnotations:function(){this._viewer.removeAllAnnotations()},displayViewBox:function(e){this._viewer.displayViewBox(e)},clientCoordToModelCoord:function(e,t){return this._viewer.clientCoordToModelCoord(e,t)},modelCoordToClientCoord:function(e,t){return this._viewer.modelCoordToClientCoord(e,t)},onExplode:function(e){this._viewer.onExplode(e)},getExplodeFactor:function(){return this._viewer.getExplodeFactor()},onLineVisibility:function(e){this._viewer.onLineVisibility(e)},getScreenCapture:function(){return this._viewer.getScreenCapture()},getScreenCapturethumbnail:function(){return this._viewer.getScreenCapturethumbnail()},getCurrentOperatorID:function(){return this._viewer.getCurrentOperatorID()},isModelMoved:function(){return this._viewer.isModelMoved()},onSelectAndMoveModel:function(){"OpDrag"!=this._viewer.getCurrentOperatorID()&&this._viewer.setOperatorByID("OpDrag"),this._viewer.onSelectAndMoveModel(!0)},onSelectAndRestoreModel:function(){"OpDrag"!=this._viewer.getCurrentOperatorID()&&this._viewer.setOperatorByID("OpDrag"),this._viewer.onSelectAndRestoreModel(!0)},isPerspective:function(){return this._viewer.camera.IsPerspective()},toPerspective:function(){this._viewer.camera.toPerspective()},toOrthographic:function(){this._viewer.camera.toOrthographic()},showObject:function(e,t){const o=this._viewer.getObjectByUUID(e.uuid);this._viewer.showObject(o,t),t||this.deselectObject(o),this._viewer.hideUnloadbodies(o)},render:function(){this._viewer.render()},isAllHidden:function(){return this._viewer.isAllHidden()},setPmiVisible:function(e){this._viewer.setPmiVisible(e)},isObjectOrSomeChildHidden:function(e){return this._viewer&&this._viewer.isObjectOrSomeChildHidden(e)},getCameraInfo:function(){return this._viewer.getCameraInfo()},hasAnimations:function(){return this._viewer.hasAnimations()},getAllAnimationsInfo:function(){return this._viewer.getAllAnimationsInfo()},startAnimationByUUID:function(e,t){this._viewer.startAnimationByUUID(e,t)},setAnimationScaleByUUID:function(e,t){this._viewer.setAnimationScaleByUUID(e,t)},exitAnimations:function(){this._viewer.exitAnimations()},enableRotation:function(e){this._viewer.enableRotation(e)},OpMeasureRelease:function(){this._viewer.OpMeasureRelease()},setRenderMode:function(e){this._viewer.setRenderMode(e)},closeClipControl:function(){this._viewer.onCloseClipControl()},openClipControl:function(){this._viewer.onOpenClipControl()}};var ke=Ee;const Be=function(e){if(Detector.webgl){var t=O();const c={modejsPath:"",modelList:[],configNum:t.configNum,shareInfo:t.shareInfo,allTag:t.allTag,nowTag:[],nowConfigName:"",tagRelate:t.tagRelate,hasManyAccuracy:e.hasManyAccuracy,mpath:e.mpath,askAccuracy:t.askAccuracy};ke.init(t);var o="";if(e.isModelCfg){c.modelList=W(e.cfgSrcs),(-1==c.configNum||1==c.modelList.length||c.configNum-1>c.modelList.length)&&(c.configNum=0);var n=c.modelList[c.configNum];if(n){n.isShare=!0,c.modejsPath=n.modejsPath,o=n.Folder;var i=n.Name;c.nowConfigName=i,c.tagRelate&&t.allTag?c.nowTag=t.allTag.filter(e=>!e.modelName||e.modelName==i):c.allTag&&(c.nowTag=JSON.parse(JSON.stringify(c.allTag)))}}else c.modejsPath=e.cfgSrcs[0],c.nowTag&&(c.nowTag=JSON.parse(JSON.stringify(c.allTag)));p.commit("modelStore/initModelInfo",{opt:c}),window.configImgPath=o;var r=c.shareInfo.camerainfo;return r&&c.shareInfo,c}alert("系统不支持!")};function Ne(e,t){var o=e,n=e&&e.indexOf("model.js");n>1?o=e.substr(0,n):e.lastIndexOf("/")!=e.length-1&&(o=e+"/"),p.commit("setPath",o),ye({url:o+"Configurations.json",method:"GET"}).then(e=>{var n=!!e,i={isModelCfg:n,cfgSrcs:[],hasManyAccuracy:!1,accuracyInfo:{data:[],curLevel:"2"},mpath:o};if(void 0!=nd_viewCtrl.defaultAccuracy&&p.commit("modelStore/setAccuracyLevel",nd_viewCtrl.defaultAccuracy),i.accuracyInfo.curLevel=p.state.modelStore.accuracyInfo.curLevel,e){var r="";e.Accuracy&&e.Accuracy.length>0&&(i.accuracyInfo.data=e.Accuracy,e.Accuracy.map(e=>{e.Level!=i.accuracyInfo.curLevel&&e.Folder!=i.accuracyInfo.curLevel||(o=r+o+e.Folder+"/")}),i.hasManyAccuracy=!0),e.Configurations&&(i.cfgSrcs=e.Configurations,i.cfgSrcs.map((function(e){e.Folder=r+o+e.Folder})),i.isModelCfg=!0)}i.isModelCfg||(i.cfgSrcs=[o+"model.js"]),p.commit("modelStore/setModelCfg",i);var c=Be(i);t&&t(c)})}var Ae={rootClass:"five",hideMutlti:!1,showBtnCfg:[{},{id:"ico-showSetting",list:[{id:"ico-shadedWithEdges"},{id:"ico-shaded"},{id:"ico-hiddenLineVisible"},{id:"ico-hiddenLineRemove"},{id:"ico-touyin"},{id:"ico-home"}]},{id:"ico-measure",list:[{id:"ico-distance",list:[{id:"ico-smartdis"},{id:"ico-pt2pt"},{id:"ico-pt2line"},{id:"ico-pt2face"},{id:"ico-line2line"},{id:"ico-line2face"},{id:"ico-face2face"},{id:"ico-holeDist"},{id:"ico-axis2pt"},{id:"ico-axis2line"},{id:"ico-axis2face"}]},{id:"ico-length",list:[{id:"ico-smartlen"},{id:"ico-edges"},{id:"ico-perimeter"}]},{id:"ico-angle",list:[{id:"ico-smartang"},{id:"ico-lineAngel"},{id:"ico-faceAngle"},{id:"ico-linefaceAngle"}]},{id:"ico-radius"},{id:"ico-area",list:[{id:"ico-areaFace"},{id:"ico-areaEntity"},{id:"ico-areaTotal"}]},{id:"ico-volumweight",list:[{id:"ico-vol-boundingboxEntity"},{id:"ico-volumTotal"}]},{id:"ico-boundingbox",list:[{id:"ico-boundingboxEntity"},{id:"ico-boundingTotal"}]},{id:"ico-measureClear"}]},{id:"ico-cutout"},{id:"ico-explode"},{id:"ico-structure"},{id:"ico-property",list:[{id:"ico-proEntity"},{id:"ico-proTotal"}]},{id:"ico-display",list:[{id:"ico-highLight"},{id:"ico-displayHideOther"},{id:"ico-displayHide"},{id:"ico-transparent"},{id:"ico-displayResert"}]},{id:"ico-drag",list:[{id:"ico-dragMove"},{id:"ico-dragRestore"},{id:"ico-dragRestoreAll"}]},{id:"ico-unit"},{id:"ico-plus"}]};const _e={_btnSetting:[],_bottomDom:[],init(){"overseas"==nd_viewCtrl.showBtnMode&&(nd_viewCtrl.showBtnCfg=Ae.showBtnCfg),nd_viewCtrl.showBtnCfg&&nd_viewCtrl.showBtnCfg.length>0&&(this._btnSetting=nd_viewCtrl.showBtnCfg)},readyForDom(e){const t=this;t.init(),this._btnSetting.forEach((e,o)=>{t.changeOneLevelBottom(e,o)}),e&&e()},getChildDom(e){let t=[];if(e){const o=this;e.forEach((e,n)=>{let i=document.getElementById(e.id);i&&i.setAttribute("sortidx",n),e.imgUrl&&i.querySelector("img").setAttribute("src",e.imgUrl),t.push(i);let r,c=document.getElementById(e.id+"-list"),a=o.getChildDom(e.list);c&&(r=c.querySelector(".return-menu")),c&&(c.innerHTML="",r&&c.appendChild(r),a.length&&a.map(e=>{e&&c.appendChild(e)}))})}return t},changeLevelLeft(e){if(e.id){let t=document.getElementById(e.id+"-list"),o=this.getChildDom(e.list);if(o=o.sort((e,t)=>e.getAttribute("sortidx")-t.getAttribute("sortidx")),t.innerHTML="",o.length?o.map(e=>{t.appendChild(e)}):t.nextElementSibling.style.display="block",e.imgUrl){let t=document.getElementById(e.id).querySelector("img");t.setAttribute("src",e.imgUrl)}}},changeOneLevelBottom(e,t){let o;o=document.getElementById(e.id),o&&(o.setAttribute("sortidx",t),this.changeBottomChildDom(e),this._bottomDom.push(o),e.imgUrl&&o.querySelector("img").setAttribute("src",e.imgUrl)),t==this._btnSetting.length-1&&this.sortBottomOneLevelBtn()},changeBottomChildDom(e){let t=document.getElementById(e.id+"-list"),o=t&&t.querySelector(".return-menu"),n=this.getChildDom(e.list);n=n.sort((e,t)=>e.getAttribute("sortidx")-t.getAttribute("sortidx")),t&&(t.innerHTML="",o&&t.appendChild(o),n.length?n.map(e=>{t.appendChild(e)}):t.nextElementSibling&&(t.nextElementSibling.style.display="block"))},sortBottomOneLevelBtn(){let e=document.getElementById("bottomMainMenu");this._bottomDom=this._bottomDom.sort((e,t)=>e.getAttribute("sortidx")-t.getAttribute("sortidx"));const t=document.getElementById("ico-arrowRight"),o=document.getElementById("ico-arrowLeft");e.innerHTML="",e.appendChild(o),this._bottomDom.map(t=>{e.appendChild(t)}),e.appendChild(t)},hideRightBottom(e){$("#bottomMainMenu li").each((e,t)=>{e>9?$(t).hide():$(t).show()}),e&&e()},hideLeftBottom(e){const t=$("#bottomMainMenu li")&&$("#bottomMainMenu li").length;$("#bottomMainMenu li").each((e,o)=>{e<t-10?$(o).hide():$(o).show()}),e&&e()},showAllBottom(e){$("#bottomMainMenu li").each((e,t)=>{$(t).show()}),e&&e()}};var Ie=_e;function Ve(e,t,o,n){return Math.sqrt((e-o)*(e-o)+(t-n)*(t-n))}function Pe(e,t,o,n){var i={};return i.x=Math.round(Math.cos(o)*n+e),i.y=Math.round(Math.sin(o)*n+t),i}function Le(e,t,o){var n=e.x,i=e.y,r=t.x,c=t.y,a=[],s=+o,l=Ve(n,i,t.x,t.y),d=Math.atan2(c-i,r-n);return t=Pe(n,i,d,l-1.5*s),r=t.x,c=t.y,s=Math.max(3*s,10),a.push("M",n,i,"L",r,c),a.push("M",r,c),a.push("L",r-s*Math.cos(d-Math.PI/7),c-s*Math.sin(d-Math.PI/7)),a.push("L",r-s*Math.cos(d+Math.PI/7),c-s*Math.sin(d+Math.PI/7)),a.push("L",r,c),a.push("L",r-s*Math.cos(d-Math.PI/7),c-s*Math.sin(d-Math.PI/7)),a.join(" ")}function $e(e,t){var o=.5*r(t.x-e.x),n=.5*r(t.y-e.y),i=["M",e.x,e.y+n];return i.push("a",Math.abs(o),Math.abs(n),0,1,1,r(2*o),0),i.push("a",Math.abs(o),Math.abs(n),0,1,1,r(2*-o),0),i.push("z"),i.join(" ");function r(e){return 0==e?1:e}}function Re(e,t){var o=t.x,n=e.x,i=t.y,r=e.y,c=Math.abs(o-n),a=Math.abs(i-r),s=Math.sqrt(Math.pow(c,2)+Math.pow(a,2)),l=a/s,d=Math.acos(l),m=Math.floor(180/(Math.PI/d));return n>o&&r>i&&(m=180-m),n==o&&r>i&&(m=180),n>o&&r==i&&(m=90),n<o&&r>i&&(m=180+m),n<o&&r==i&&(m=270),n<o&&r<i&&(m=360-m),m}function ze(e,t,o){if(ke){var n=ke._viewer.modelCoordToClientCoord([e,t,o]);return{x:n[0],y:n[1]}}return{x:0,y:0}}function Fe(e,t){if(ke){var o=ke._viewer.clientCoordToModelCoord([e,t]);return{cx:o[0],cy:o[1],cz:o[2]}}return{cx:0,cy:0,cz:0}}function He(e,t){if(ke){var o=ke._viewer.getHotPoint(e,t);return o}return null}function Ue(){for(var e=navigator.userAgent,t=["Android","iPhone","SymbianOS","Windows Phone","iPad","iPod"],o=!1,n=0;n<t.length;n++)if(e.indexOf(t[n])>0){o=!0;break}return o}function We(e){var t=$(".taglayer-nd .svg"),o=t.html(),n=document.createElement("canvas");n.width=t.width(),n.height=t.height(),t.append(n),canvg(n,o,{ignoreMouse:!0,ignoreAnimation:!0,renderCallback:function(){html2canvas(document.getElementById("viewer"),{useCORS:!0,allowTaint:!0,ignoreMouse:!0,ignoreAnimation:!0}).then(t=>{e&&e(t.toDataURL("image/png")),$("#drawImg").remove()})}})}function Ge(e){var t=document.createElement("canvas");t.style.width=$("#t_container").width()+"px",t.style.height=$("#t_container").height()+"px",t.id="drawImg",$("#t_container").append(t);var o=new Image;o.setAttribute("crossOrigin","anonymous"),ke._viewer.getScreenCapture(e=>{o.src=e}),o.onload=function(){t.width=o.width,t.height=o.height,t.getContext("2d").drawImage(o,0,0),html2canvas(document.getElementById("viewer"),{useCORS:!0,allowTaint:!0,ignoreMouse:!0,ignoreAnimation:!0}).then(t=>{e&&e(t.toDataURL("image/png")),$("#drawImg").remove()})}}var Xe={offsetSave:{x:0,y:0},saveCss:"",nowCssInfo:{},operateType:"",nowDivInfo:{},setDivPos:function(e,t){var o=e.getBBox();this.nowDivInfo={width:o.width,height:o.height},t.style.width=this.nowDivInfo.width+20+"px",t.style.height=this.nowDivInfo.height+20+"px",this.nowDivInfo.left=o.x,this.nowDivInfo.top=o.y,t.style.left=this.nowDivInfo.left-10+"px",t.style.top=this.nowDivInfo.top-10+"px";var n=$(e).data("rotate");t.style.transform=n?"rotate("+n+"deg)":""},new:function(e,t,o){this.destroy(),this.opt=t,this.parentVue=o,e=e.parentElement||e.parentNode;var n=document.createElement("div");n.className="nd-selector-box",n.setAttribute("num",this.parentVue.tagNum_list),document.querySelector(".taglayer-nd").appendChild(n),n.innerHTML='<div class="selector-drag-point" direction="n" style="top:-5px;left:calc(50% - 5px);cursor:ns-resize;"></div>\t\t\t<div class="selector-drag-point" direction="s" style="top:calc(100% - 5px);left:calc(50% - 5px);cursor:ns-resize;"></div>\t\t\t<div class="selector-drag-point" direction="w" style="left:-5px;top:calc(50% - 5px);cursor: ew-resize;"></div>\t\t\t<div class="selector-drag-point" direction="e" style="right:-5px;top:calc(50% - 5px);cursor: ew-resize;"></div>\t\t\t<div class="selector-drag-point" direction="nw" style="top:-5px;left:-5px;cursor: nwse-resize;"></div>\t\t\t<div class="selector-drag-point" direction="ne" style="top:-5px;right:-5px;cursor: nesw-resize;"></div>\t\t\t<div class="selector-drag-point" direction="sw" style="bottom:-5px;left:-5px;cursor: nesw-resize;"></div>\t\t\t<div class="selector-drag-point" direction="se" style="bottom:-5px;right:-5px;cursor: nwse-resize;"></div>\t\t\t<div class="selector-drag-point" direction="rotation" style="top:-30px;left:calc(50% - 5px);cursor: move;">\t\t\t</div>\t\t\t<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAYAAAByDd+UAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA01pVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDYuMC1jMDAyIDc5LjE2NDQ4OCwgMjAyMC8wNy8xMC0yMjowNjo1MyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIDIyLjAgKDIwMjAwODE4Lm0uMTAxMiAyMDIwLzA4LzE4OiBmODJmNDMzNzYxKSAgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjcyNDZDMENDOUMyMTExRUI5NTRCOTI4QUQ1MEM5OENBIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjcyNDZDMENEOUMyMTExRUI5NTRCOTI4QUQ1MEM5OENBIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6NzI0NkMwQ0E5QzIxMTFFQjk1NEI5MjhBRDUwQzk4Q0EiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6NzI0NkMwQ0I5QzIxMTFFQjk1NEI5MjhBRDUwQzk4Q0EiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz5xKH8WAAAB+0lEQVR42ryWzUoCURTHj7Nwo4Wr3ChkLWrtYoZI0AdQ8En8gNwErYQ2Blobg2jREyToAyQEkoueILNFG3MTqZs2dc50BmS8HzPl9Ic/DM659+fce869J/RlHoJGm+gDdJYdZ5Mm7D57AA/3H6rJQgpgGF1Cl9EJ8KZX9Dn6AsGfogBDMrBo/1uAhg8YcGzDHmtlil6BFfQtOg2/V9qew8pUdMA8ugnrUxOheRnQRHdh/eoi1HQDKUHaEJzaCA0vA0vSPdvfA9iI6qekGIqV72nJAcY49Ve1kwK4uQa4uvx5loneUQzFyuPK+JUxAuakqT+dAoxfAFLbAKd18WT0G72jGIqlMfKSyRl8eog1mwMcn8ihbhjF0hi5sgZnp1zPYzFUBKNYtUw62p7wYVebFG4AyR+MNCLgDB+inpJ7GUryByPNDfhnGXy9gO8l1WWvWBNvQFGCqLJXA+z7htGeybJXrb4aGImoU18EpTEa4IBv6lUlE/rUd0OTCVU3MHBajCO+qcVLOnkDWCzUi0VfFt9SlUgN244zBxjmL00HVA2PdiOGfY5Th9Tw1AMsv7rTVC0XfgddDQBWRVhH1tO00IU1wgoIa+m6th7a4nX/y55ZCOt57UuH3G3XpCUjT/0aJ8jQb+ftKMZdQZbvTlGrP+QD5A5B76rJvgUYAC/2yxdBsKw2AAAAAElFTkSuQmCC" class="del" title="删除"  />',this.setDivPos(e,n);var i=this.getTransform(e);n.style.transform=i.orotate||"",this.opt&&this.opt.onSel(e);var r=Ue()?["touchstart","touchmove","touchend","touchcancle"]:["mousedown","mousemove","mouseup","mouseleave"],c=Ue()?"touchstart":"mousedown";document.querySelector(".nd-selector-box img.del").addEventListener(c,(function(e){a.opt.onDelDrawChild()}));var a=this,s=function(e){Ue()&&(e.clientX=e.touches[0].clientX,e.clientY=e.touches[0].clientY);var t=e.target.getAttribute("direction");if("rotation"==t)a.operateType="rotate";else if(t&&"rotation"!=t)switch(a.operateType="drag",t){case"n":a.operateDrag={x:0,y:1};break;case"s":a.operateDrag={x:0,y:-1};break;case"ne":a.operateDrag={x:1,y:1};break;case"nw":a.operateDrag={x:-1,y:1};break;case"w":a.operateDrag={x:-1,y:0};break;case"sw":a.operateDrag={x:-1,y:-1};break;case"e":a.operateDrag={x:1,y:0};break;case"se":a.operateDrag={x:1,y:-1};break}else a.operateType="move";document.body.addEventListener(r[1],l),document.body.addEventListener(r[2],d),document.body.addEventListener(r[3],d),a.offsetSave.x=e.clientX,a.offsetSave.y=e.clientY,e.stopPropagation(),e.preventDefault()},l=function(t){Ue()&&(t.clientX=t.touches[0].clientX,t.clientY=t.touches[0].clientY),"move"==a.operateType?a.move(t,e,n):"rotate"==a.operateType?a.rotate(t,e,n):"drag"==a.operateType&&a.drag(t,e,n);var o=a.getTransform(e);e.setAttribute("transform",(o.translate||"")+" "+(o.rotate||"")),n.style.transform=(o.otranslate||"")+" "+(o.orotate||""),a.saveCss=o.data,a.opt&&a.opt.onChange(a.saveCss),t.stopPropagation()},d=function(t){a.opt&&a.opt.onChangeEnd(),a.setDivPos(e,n),document.body.removeEventListener(r[1],l),document.body.removeEventListener(r[2],d),document.body.removeEventListener(r[3],d),t.stopPropagation(),t.preventDefault()};n.addEventListener(r[0],s)},move:function(e,t,o){var n=this,i=$(t).data("translate");if(i)var r={x:i.x,y:i.y};else r={x:0,y:0};var c=e.clientX-n.offsetSave.x,a=e.clientY-n.offsetSave.y;n.offsetSave.x=e.clientX,n.offsetSave.y=e.clientY;var s=r.x+c,l=r.y+a,d=(i=document.getElementById("t_container").getBoundingClientRect(),Math.min(i.left,0)),m=Math.min(i.top,0),u=Math.min(i.width+d,window.innerWidth-Math.max(i.left,0)),h=Math.min(i.height+m,window.innerHeight-Math.max(i.top,0));return o.offsetLeft+s+d<0&&(s+=0-(o.offsetLeft+s+d)),o.offsetTop+l+m<0&&(l+=0-(o.offsetTop+l+m)),d+o.offsetLeft+o.offsetWidth+s>u&&(s+=u-(d+o.offsetLeft+o.offsetWidth+s)),m+o.offsetTop+o.offsetHeight+l>h&&(l+=h-(m+o.offsetTop+o.offsetHeight+l)),$(t).data("translate",{x:s,y:l}),{x:s,y:l}},rotate:function(e,t,o){var n=Re({x:e.clientX,y:e.clientY},this.getCenterPos(o));return $(t).data("rotate",n),n},drag:function(e,t,o){Ue()&&(e.clientX=e.touches[0].clientX,e.clientY=e.touches[0].clientY);var n=e.clientX-this.offsetSave.x,i=e.clientY-this.offsetSave.y;n<0&&this.operateDrag.x>0&&this.nowDivInfo.width+n<20&&(n=20-this.nowDivInfo.width),n>0&&this.operateDrag.x<0&&this.nowDivInfo.width-n<20&&(n=this.nowDivInfo.width-20),i<0&&this.operateDrag.y<0&&this.nowDivInfo.height+i<20&&(i=20-this.nowDivInfo.height),i>0&&this.operateDrag.y>0&&this.nowDivInfo.height-i<20&&(i=this.nowDivInfo.height-20),0==this.operateDrag.x&&(n=0),0==this.operateDrag.y&&(i=0);var r={top:this.nowDivInfo.top,left:this.nowDivInfo.left,width:this.nowDivInfo.width,height:this.nowDivInfo.height};1==this.operateDrag.y&&(r.top=this.nowDivInfo.top+i,r.height=this.nowDivInfo.height-i),-1==this.operateDrag.y&&(r.height=this.nowDivInfo.height+i),1==this.operateDrag.x&&(r.width=this.nowDivInfo.width+n),-1==this.operateDrag.x&&(r.left=this.nowDivInfo.left+n,r.width=this.nowDivInfo.width-n),o.style.top=r.top-10+"px",o.style.left=r.left-10+"px",o.style.width=r.width+20+"px",o.style.height=r.height+20+"px",this.opt&&this.opt.onScale(r,this.nowDivInfo),this.nowDivInfo=r,this.offsetSave.x=e.clientX,this.offsetSave.y=e.clientY},getCenterPos:function(e){var t=e.getBoundingClientRect(),o=t.left+t.width/2,n=t.top+t.height/2;return{x:o,y:n}},getTransform:function(e){var t,o,n,i={data:{}};if(t=$(e).data("translate"),o=$(e).data("rotate"),n=$(e).data("scale"),t&&(i.translate="translate("+t.x+","+t.y+")",i.otranslate="translate("+t.x+"px,"+t.y+"px)",i.data.translate=Fe(t.x,t.y),this.nowCssInfo.translate=t),o){var r=e.getBBox();i.rotate="rotate("+o+","+(r.x+r.width/2)+" "+(r.y+r.height/2)+")",i.orotate="rotate("+o+"deg)",i.data.rotate=o}return n&&(i.scale="scale("+n.x+","+n.y+")",i.data.scale=n),i},destroy:function(){$(".nd-selector-box").remove(),this.opt&&this.opt.onHide()},destroy_new:function(){var e=this,t=document.querySelectorAll(".nd-selector-box").length;if(1==t){var o=$(".nd-selector-box").attr("style"),n=$(".nd-selector-box").attr("num");$(".nd-selector-box").remove(),$(".nd-selector-box2").removeClass("edit");var i=document.createElement("div");i.className="nd-selector-box2",i.style=o,i.setAttribute("num",n);var r=document.createElement("img");r.className="del",r.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAYAAAByDd+UAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA01pVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDYuMC1jMDAyIDc5LjE2NDQ4OCwgMjAyMC8wNy8xMC0yMjowNjo1MyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIDIyLjAgKDIwMjAwODE4Lm0uMTAxMiAyMDIwLzA4LzE4OiBmODJmNDMzNzYxKSAgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjcyNDZDMENDOUMyMTExRUI5NTRCOTI4QUQ1MEM5OENBIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjcyNDZDMENEOUMyMTExRUI5NTRCOTI4QUQ1MEM5OENBIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6NzI0NkMwQ0E5QzIxMTFFQjk1NEI5MjhBRDUwQzk4Q0EiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6NzI0NkMwQ0I5QzIxMTFFQjk1NEI5MjhBRDUwQzk4Q0EiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz5xKH8WAAAB+0lEQVR42ryWzUoCURTHj7Nwo4Wr3ChkLWrtYoZI0AdQ8En8gNwErYQ2Blobg2jREyToAyQEkoueILNFG3MTqZs2dc50BmS8HzPl9Ic/DM659+fce869J/RlHoJGm+gDdJYdZ5Mm7D57AA/3H6rJQgpgGF1Cl9EJ8KZX9Dn6AsGfogBDMrBo/1uAhg8YcGzDHmtlil6BFfQtOg2/V9qew8pUdMA8ugnrUxOheRnQRHdh/eoi1HQDKUHaEJzaCA0vA0vSPdvfA9iI6qekGIqV72nJAcY49Ve1kwK4uQa4uvx5loneUQzFyuPK+JUxAuakqT+dAoxfAFLbAKd18WT0G72jGIqlMfKSyRl8eog1mwMcn8ihbhjF0hi5sgZnp1zPYzFUBKNYtUw62p7wYVebFG4AyR+MNCLgDB+inpJ7GUryByPNDfhnGXy9gO8l1WWvWBNvQFGCqLJXA+z7htGeybJXrb4aGImoU18EpTEa4IBv6lUlE/rUd0OTCVU3MHBajCO+qcVLOnkDWCzUi0VfFt9SlUgN244zBxjmL00HVA2PdiOGfY5Th9Tw1AMsv7rTVC0XfgddDQBWRVhH1tO00IU1wgoIa+m6th7a4nX/y55ZCOt57UuH3G3XpCUjT/0aJ8jQb+ftKMZdQZbvTlGrP+QD5A5B76rJvgUYAC/2yxdBsKw2AAAAAElFTkSuQmCC",r.setAttribute("title","删除"),i.appendChild(r),document.querySelector(".taglayer-nd").appendChild(i);var c=function(o){o.stopPropagation(),o.preventDefault(),"del"!=o.target.className&&($(o.target).hasClass("edit")||(t=document.querySelectorAll(".nd-selector-box").length,1==t&&e.destroy_new(),$(".nd-selector-box").remove(),$(".nd-selector-box2").removeClass("edit"),$(o.target).addClass("edit")))},a=Ue()?"touchstart":"mouseover",s=Ue()?"touchstart":"click";i.addEventListener(a,c),r.addEventListener(s,(function(t){e.opt.onDelDrawChild(),t.stopPropagation(),t.preventDefault()}))}$(".nd-selector-box").remove(),this.opt&&this.opt.onHide()}},Ye=Xe;const Je=function(e,t,o){this.parent=e,this.dom=null,this.container=t,this.disableText=!0,o&&(this.parentVue=o),this._moveTag=!1,this.offsetSave={},this.tagPos={},this.fontSize=12,this.init=function(){},this.init(),this.addHotpoint=function(e,t){this.parentVue.onShowstep1(),this.parentVue.hideTagTips();var o=document.createElement("div");o.className="ico-sign",this.container.appendChild(o);var n=ze(t.cx,t.cy,t.cz);o.style.top=n.y+"px",o.style.left=n.x+"px",o.style.pointerEvents="none",this.tagDiv=o,this.tagPos={cx:t.cx,cy:t.cy,cz:t.cz}},this.drawHtml=function(){},this.modifyHot=function(e,t,o){this.moveHot(e),this.tagDiv&&(this.tagDiv.style.display="block")},this.moveHot=function(e){e&&this.tagDiv&&(this.tagDiv.style.left=e.x+"px",this.tagDiv.style.top=e.y+"px")},this.newText=function(e){this.disableText=!1},this.showText=function(e){e=e.replace(/<br\/>/g,"\n").replace(/&nbsp;/g," ")},this.writeInfo=function(e){this.disableText=!0,this.tagPos.cx=e.cx,this.tagPos.cy=e.cy,this.tagPos.cz=e.cz;var t=ze(e.cx,e.cy,e.cz),o=R(e.text);"undefined"===o&&(o=""),this.modifyHot(t,o,e.size)},this.getInfo=function(){return{pos:this.tagPos}},this.exit=function(){this.hotPot&&(this.hotPot.style.display="none"),this.tagDiv=null}};var Ze=Je,Ke=function(e,t){var o=this;this.drawInfo=null,this.nowDrawingInfo={},this._tagIdx=0,t&&(this.parentVue=t),this._openDraw=!1,this.strokeColor="rgb(255,99,2)",this.strokeWidth=2,this.fontSize="12px",this.drawType="point",this.container=e,this.container.querySelector(".taglayer-nd")&&this.container.removeChild(this.container.querySelector(".taglayer-nd")),this.drawTagDiv=document.createElement("div"),this.drawTagDiv.className="taglayer-nd",this.drawTagDiv.setAttribute("onselectstart","return false"),this.container.appendChild(this.drawTagDiv),this.drawTagDiv.addEventListener("contextmenu",e=>(e.preventDefault(),e.stopPropagation(),!1));const n=document.createElement("div");n.id="tagTooltips",this.container.appendChild(n);const i=document.createElement("div");i.id="tagCancelButton",this.container.appendChild(i),i.addEventListener("click",()=>{this.parentVue.cancelSave(),n.style.left="-1000px"}),i.addEventListener("contextmenu",e=>(e.preventDefault(),e.stopPropagation(),!1)),i.addEventListener("mouseenter",()=>{n.style.display="none"}),i.addEventListener("mouseleave",()=>{n.style.display="block"});const r=document.createElement("div");r.id="tagSaveButton",this.container.appendChild(r),r.addEventListener("contextmenu",e=>(e.preventDefault(),e.stopPropagation(),!1)),r.addEventListener("mouseenter",()=>{n.style.display="none"}),r.addEventListener("mouseleave",()=>{n.style.display="block"}),this.container.addEventListener("mousemove",e=>{if("none"!=this.drawTagDiv.style.display){const t=document.getElementById("vueMain").offsetLeft,o=document.getElementById("vueMain").offsetTop;n.style.top=e.clientY-o+14+"px",n.style.left=e.clientX-t+17+"px"}}),i.style.display="none",r.style.display="none",n.style.display="none",this.drawTagDiv.style.display="none",this.selectSVG=-1,this.nowDiving=null,this.nowSvg=null,this.offsetSave={_start:!1,x:0,y:0},this._tagTextCtrl=new Ze(this,this.drawTagDiv,this.parentVue);var c=null;window.onresize=function(){c=c?null:setTimeout((function(){o.resizeTags(),c=null}),350)}};Ke.prototype.localToPoint=function(e,t,o){if(ke){var n=ke._viewer.modelCoordToClientCoord([e,t,o]);return{x:n[0],y:n[1]}}return{x:0,y:0}},Ke.prototype.pointToLocal=function(e,t){if(ke){var o=ke._viewer.clientCoordToModelCoord([e,t]);return{cx:o[0],cy:o[1],cz:o[2]}}return{cx:0,cy:0,cz:0}},Ke.prototype.resizeTags=function(){if(this.drawInfo&&this.drawInfo.list&&"text"!=this.nowDrawingInfo){var e=document.querySelectorAll(".nd-selector-box").length;if(e>0&&this.drawSvg(),this.drawSvg_resize(),-1!=this.selectSVG){var t=$(this.drawTagDiv).find("path[idx="+this.selectSVG+"]"),o=$(this.drawTagDiv).find("div.area-box[idx="+this.selectSVG+"]");t.length&&(this.nowDiving=t),o.length&&(this.nowDiving=o),(t.length||o.length)&&e>0&&(this.nowDiving=this.nowDiving[0])}}},Ke.prototype.changePos=function(){var e=this.nowDrawingInfo;if(e.transform&&e.transform.translate){var t=e.transform.translate;if(t=ze(t.cx,t.cy,t.cz),"point"==e.type&&e.points.map((function(e){var o=ze(e.cx,e.cy,e.cz);o.x+=t.x,o.y+=t.y,o=Fe(o.x,o.y),e.cx=o.cx,e.cy=o.cy,e.cz=o.cz})),"arrow"==e.type||"line"==e.type||"circle"==e.type||"rect"==e.type){var o=ze(e.cx,e.cy,e.cz);if(o.x+=t.x,o.y+=t.y,o=Fe(o.x,o.y),e.cx=o.cx,e.cy=o.cy,e.cz=o.cz,e.cx2||e.cy2||e.cz2){var n=ze(e.cx2,e.cy2,e.cz2);n.x+=t.x,n.y+=t.y,n=Fe(n.x,n.y),e.cx2=n.cx,e.cy2=n.cy,e.cz2=n.cz}}if("text"==e.type){o=ze(e.cx,e.cy,e.cz);o.x+=t.x,o.y+=t.y,o=Fe(o.x,o.y),e.cx=o.cx,e.cy=o.cy,e.cz=o.cz}}this.drawSvg()},Ke.prototype.changeScale=function(e,t){var o=this.nowDrawingInfo;if("point"==o.type&&o.points.map((function(o){var n=ze(o.cx,o.cy,o.cz),i=(n.x-t.left)/t.width,r=(n.y-t.top)/t.height;n.x=e.width*i+e.left,n.y=e.height*r+e.top,n=Fe(n.x,n.y),o.cx=n.cx,o.cy=n.cy,o.cz=n.cz})),"arrow"==o.type||"line"==o.type||"circle"==o.type||"rect"==o.type){var n=ze(o.cx,o.cy,o.cz),i=(n.x-t.left)/t.width,r=(n.y-t.top)/t.height;if(n.x=e.width*i+e.left,n.y=e.height*r+e.top,n=Fe(n.x,n.y),o.cx=n.cx,o.cy=n.cy,o.cz=n.cz,o.cx2||o.cy2||o.cz2){var c=ze(o.cx2,o.cy2,o.cz2),a=(c.x-t.left)/t.width,s=(c.y-t.top)/t.height;c.x=e.width*a+e.left,c.y=e.height*s+e.top,c=this.pointToLocal(c.x,c.y),o.cx2=c.cx,o.cy2=c.cy,o.cz2=c.cz}}this.drawSvg()},Ke.prototype.showSelectBox=function(){var e=this,t=this.nowDiving.getAttribute("idx");Ye.new(this.nowDiving,{onChange:function(o){try{e.selectSVG=t,e.drawInfo.list[t].transform=o}catch(n){}},onChangeEnd:function(){e.changePos()},onSel:function(o){e.selectSVG=t},onHide:function(){},onScale:function(t,o){e.changeScale(t,o)},onDelDrawChild:function(){var t="",o=document.querySelector(".nd-selector-box"),n=document.querySelector(".nd-selector-box2.edit");if(o?(t=o.getAttribute("num"),o.remove()):n&&(t=n.getAttribute("num"),n.remove()),""!=t){var i=document.querySelector("svg g[num='"+t+"']");i&&i.remove(),e.drawInfo.list=e.drawInfo.list.filter(e=>{if(e.num!=t)return e})}}},this.parentVue)},Ke.prototype.showTags=function(e){this._openDraw=!1,this.drawTagDiv.style.display="block",this.drawTagDiv.style.zIndex=6,this.getTagLayer(e)},Ke.prototype.openDraw=function(e){this.drawInfo=null,this.drawTagDiv.style.display="block",this.drawTagDiv.style.zIndex=4,this.drawTagDiv.style.pointerEvents="auto",this._openDraw=!0,this._tagIdx=e,this.getTagLayer()},Ke.prototype.closeDraw=function(){this._openDraw=!1,this.container.style.cursor="auto",document.body.removeEventListener("keydown",this.delete)},Ke.prototype.delete=function(e){if(46==e.keyCode){var t=this.nowDiving.getAttribute("idx");this.drawInfo.list[t].del=!0;var o=this.nowDiving.parentElement||this.nowDiving.parentNode;o.remove(),Ye.destroy()}},Ke.prototype.setPen=function(e){this.drawType=e},Ke.prototype.setLineWidth=function(e){this.strokeWidth=e},Ke.prototype.setColor=function(e){this.strokeColor=e},Ke.prototype.initPicTag=function(e){this.drawType="image",this.drawInfo=new Object,this.drawInfo.cx=e.cx,this.drawInfo.cy=e.cy,this.drawInfo.cz=e.cz,this.drawInfo.list=[],this._tagTextCtrl.addHotpoint(this._tagIdx,this.drawInfo)},Ke.prototype.setPenStatus=function(e,t){if("color"==e&&(this.strokeColor=t),"size"==e&&(this.strokeWidth=t),"fontsize"==e&&(this.fontSize=t),"text"!=this.drawType){var o=this.nowDiving.parentElement||this.nowDiving.parentNode,n=o.getAttribute("type");if("text"!=n&&("color"==e&&o.setAttribute("stroke",this.strokeColor),"size"==e&&o.setAttribute("stroke-width",this.strokeWidth)),"arrow"==n&&"size"==e){var i={pos0:ze(this.nowDrawingInfo.cx,this.nowDrawingInfo.cy,this.nowDrawingInfo.cz),pos1:ze(this.nowDrawingInfo.cx2,this.nowDrawingInfo.cy2,this.nowDrawingInfo.cz2)},r=this.strokeWidth,c=Le(i.pos0,i.pos1,r);this.nowDiving.setAttribute("d",c)}}"color"==e&&(this.drawInfo.list[this.selectSVG].color=this.strokeColor),"size"==e&&(this.drawInfo.list[this.selectSVG].line=this.strokeWidth),"fontsize"==e&&(this.drawInfo.size=this.fontSize)},Ke.prototype.initDrawInfo=function(e,t){var o=this;this.parentVue.tagNum_list++;var n={type:o.drawType,cx:e.cx,cy:e.cy,cz:e.cz,text:"",color:o.strokeColor,line:o.strokeWidth,size:o.fontSize,idx:o.drawInfo.list.length,new:!0,num:this.parentVue.tagNum_list},i=10;if("point"==o.drawType)n.points=[{cx:e.cx,cy:e.cy,cz:e.cz}];else if("arrow"==o.drawType||"line"==o.drawType){var r={x:t.x+i,y:t.y+i};r=this.pointToLocal(r.x,r.y),n.cx2=r.cx,n.cy2=r.cy,n.cz2=r.cz}else if("rect"==o.drawType||"circle"==o.drawType){var c=i;r={x:t.x+c,y:t.y+c};r=this.pointToLocal(r.x,r.y),n.cx2=r.cx,n.cy2=r.cy,n.cz2=r.cz}return n},Ke.prototype.openDrawEvt=function(){var e=this,t=Ue()?["touchstart","touchmove","touchend","touchcancle"]:["mousedown","mousemove","mouseup","mouseleave"],o=this.drawTagDiv.querySelector(".svg");function n(o){if(o.stopPropagation(),o.preventDefault(),e._openDraw){var n=document.querySelector(".taglayer-nd");if(n&&n.className.indexOf("drawing")<0&&(n.className+=" drawing"),Ue()){var c=o.touches[0];o.offsetX=c.clientX-Number(e.container.style.marginLeft.replace("px",""))-e.container.offsetLeft,o.offsetY=c.clientY-Number(e.container.style.marginTop.replace("px",""))-e.container.offsetTop}var a=e.pointToLocal(o.offsetX,o.offsetY);e.offsetSave.x=o.offsetX,e.offsetSave.y=o.offsetY,e.drawInfo||(e.drawInfo=new Object,e.drawInfo.cx=a.cx,e.drawInfo.cy=a.cy,e.drawInfo.cz=a.cz,e.drawInfo.list=[]),"text"!=e.drawType?(e.drawTagDiv.addEventListener(t[1],i),e.drawTagDiv.addEventListener(t[2],r),e.drawTagDiv.addEventListener(t[3],r)):(e._tagTextCtrl.addHotpoint(e._tagIdx,e.drawInfo),e._openDraw=!1),e.drawInfo.list.push(e.initDrawInfo(a,e.offsetSave)),e.nowDrawingInfo=e.drawInfo.list[e.drawInfo.list.length-1],e.parentVue.onCheckSaveEable(),e.getTags(e.nowDrawingInfo)}}function i(t){if(t.stopPropagation(),t.preventDefault(),Ue()){var o=t.touches[0];t.offsetX=o.clientX-Number(e.container.style.marginLeft.replace("px",""))-e.container.offsetLeft,t.offsetY=o.clientY-Number(e.container.style.marginTop.replace("px",""))-e.container.offsetTop}var n=e.pointToLocal(t.offsetX,t.offsetY);switch(e.drawType){case"point":var i=e.nowDrawingInfo.points[e.nowDrawingInfo.points.length-1];if(i&&i.cx==n.cx&&i.cy==n.cy&&i.cz==n.cz)return;e.nowDrawingInfo.points.push({cx:n.cx,cy:n.cy,cz:n.cz});break;case"arrow":case"line":case"rect":case"circle":n.cx==e.nowDrawingInfo.cx&&n.cy==e.nowDrawingInfo.cy&&n.cz==e.nowDrawingInfo.cz||(e.nowDrawingInfo.cx2=n.cx,e.nowDrawingInfo.cy2=n.cy,e.nowDrawingInfo.cz2=n.cz);break}e.drawSvg()}function r(o){var n=document.querySelector(".taglayer-nd");n&&n.className.indexOf("drawing")>=0&&(n.className=n.className.replace("drawing",""));for(var c=document.querySelectorAll(".nd-selector-box2"),a=0;a<c.length;a++){var s=c[a];s&&s.className.indexOf("edit")>=0&&(s.className=s.className.replace("edit",""))}if("point"==e.drawType&&1==e.nowDrawingInfo.points.length){var l=e.pointToLocal(e.offsetSave.x+1,e.offsetSave.y+1);e.nowDrawingInfo.points.push({cx:l.cx,cy:l.cy,cz:l.cz}),e.drawSvg()}if(e._openDraw&&"text"!==e.drawType&&"pic"!==e.drawType){Ye.destroy_new();var d=e.parentVue.tagNum_list;e.parentVue.svgNum_list.push(d)}e.drawTagDiv.removeEventListener(t[1],i),e.drawTagDiv.removeEventListener(t[2],r),e.drawTagDiv.removeEventListener(t[3],r),o.stopPropagation(),o.preventDefault()}o.addEventListener(t[0],n,!1)},Ke.prototype.getTagLayer=function(e){this.tagDiv&&(this.drawTagDiv.innerHTML="",this.tagDiv=null);var t="http://www.w3.org/2000/svg";this.tagDiv=document.createElement("div"),this.tagDiv.className="svg",this.nowSvg=document.createElementNS(t,"svg"),this.nowSvg.style.width="100%",this.nowSvg.style.height="100%",this.drawTagDiv.appendChild(this.tagDiv),this.tagDiv.appendChild(this.nowSvg);var o=this;e&&e.list&&e.list.length&&(e.list.forEach((function(e,t){e.num||(e.num=t+1),o.getTags(e)})),this.drawInfo=e,this.nowDrawingInfo=e.list[0]),this._openDraw?this.openDrawEvt():(this.drawTagDiv.style.pointerEvents="none","ImageAnno"!=e.state.origiType&&this._tagTextCtrl.writeInfo(e))},Ke.prototype.getTags_old=function(e){switch(e.type){case"text":e.new&&(this._tagTextCtrl.newText(this.drawInfo),this.closeDraw(),e.new=!1);break;default:this.nowDiving=this.newDiv(e.type,e),this.nowDiving.setAttribute("d",this.getSVGpath(e))}e&&!e.new&&"text"!=e.type&&this.setTransform(this.nowDiving,e)},Ke.prototype.getTags=function(e){this.nowDiving=this.newDiv(e.type,e),this.nowDiving.setAttribute("d",this.getSVGpath(e)),"arrow"==e.type&&this.nowDiving.setAttribute("fill",e.color),e&&!e.new&&this.setTransform(this.nowDiving,e)},Ke.prototype.drawSvg=function(){this.nowDiving&&(this.nowDiving.setAttribute("d",this.getSVGpath(this.nowDrawingInfo)),this.setTransform(this.nowDiving,this.nowDrawingInfo))},Ke.prototype.drawSvg_resize=function(){if(this.drawInfo.list&&this.drawInfo.list.length>0)for(var e=0;e<this.drawInfo.list.length;e++){var t=this.drawInfo.list[e];if(t.num&&Number(t.num>0)){var o=document.querySelector("svg g[num='"+t.num+"'] path");if(o){o.setAttribute("d",this.getSVGpath(t)),this.setTransform(o,t);var n=document.querySelector(".nd-selector-box2[num='"+t.num+"']");if(n){var i=o.parentElement||o.parentNode;Ye.setDivPos(i,n)}}}}},Ke.prototype.newDiv=function(e,t){var o=t.color||this.strokeColor,n=t.line||this.strokeWidth,i=document.createElementNS("http://www.w3.org/2000/svg","g");i.setAttribute("stroke",o),i.setAttribute("stroke-width",n),i.setAttribute("type",e),i.setAttribute("num",t.num),i.style.pointerEvents="none",i.setAttribute("fill","none");var r=document.createElementNS("http://www.w3.org/2000/svg","path");return i.appendChild(r),t.new&&(r.setAttribute("idx",t.idx),t.new=!1),this.nowSvg.appendChild(i),r},Ke.prototype.getSVGpath=function(e){var t="";switch(e.type){case"point":e.points&&e.points.forEach((function(e,o){var n=ze(e.cx,e.cy,e.cz);t+=0==o?"M "+n.x+" "+n.y+" ":"L "+n.x+" "+n.y+" "}));break;case"arrow":var o=ze(e.cx,e.cy,e.cz),n=e.line||this.strokeWidth,i=ze(e.cx2,e.cy2,e.cz2);t=Le(o,i,n);break;case"line":o=ze(e.cx,e.cy,e.cz),i=ze(e.cx2,e.cy2,e.cz2);t="M "+o.x+" "+o.y+" L "+i.x+" "+i.y+" ";break;case"rect":o=ze(e.cx,e.cy,e.cz),i=ze(e.cx2,e.cy2,e.cz2);t="M "+o.x+" "+o.y+" L "+i.x+" "+o.y+" L "+i.x+" "+i.y+" L"+o.x+" "+i.y+"z";break;case"circle":o=ze(e.cx,e.cy,e.cz),i=ze(e.cx2,e.cy2,e.cz2);t=$e(o,i);break}return t},Ke.prototype.setTransform=function(e,t){if(e=e.parentElement||e.parentNode,t.transform){var o="";if(t.transform.rotate){var n=e.getBBox();o="rotate("+t.transform.rotate+","+(n.x+n.width/2)+" "+(n.y+n.height/2)+")",$(e).data("rotate",t.transform.rotate)}t.transform.translate&&(t.transform.translate="",$(e).data("translate","")),$(e).attr("transform",o)}},Ke.prototype.destroy=function(){this._openDraw=!1,this.drawTagDiv.style.display="none",this.drawTagDiv.style.zIndex=0,this.drawType="point",this.drawTagDiv.innerHTML="",this.tagDiv=null,this._tagTextCtrl.exit()},Ke.prototype.isTextTag=function(){return!!(this.drawInfo.list&&this.drawInfo.list.length>0&&"text"==this.drawInfo.list[0].type)},Ke.prototype.getTextDrawInfo=function(){var e=this._tagTextCtrl.getInfo();this.drawInfo.cx=e.pos.cx,this.drawInfo.cy=e.pos.cy,this.drawInfo.cz=e.pos.cz;var t=ze(this.drawInfo.cx,this.drawInfo.cy,this.drawInfo.cz),o=document.querySelector("#annoText").value,n=o;return this._tagTextCtrl.modifyHot(t,n),this.drawInfo.text=n,this.drawInfo},Ke.prototype.getInfo=function(){if(this.parentVue.picTagUrl){o=$("#annoText").val();this.drawInfo.text=o}else{var e=this._tagTextCtrl.getInfo();this.drawInfo.cx=e.pos.cx,this.drawInfo.cy=e.pos.cy,this.drawInfo.cz=e.pos.cz;var t=ze(this.drawInfo.cx,this.drawInfo.cy,this.drawInfo.cz),o=$("#annoText").val(),n=o.replace(/\n/g,"<br/>").replace(/\s/g,"&nbsp;");this._tagTextCtrl.modifyHot(t,n,this._tagTextCtrl.fontSize),this.drawInfo.text=encodeURIComponent(n)}return this.drawInfo},Ke.prototype.revoke=function(){var e=this.drawInfo.list.length;if(e>1){var t=e-1;this.drawInfo.list.splice(t,1)}var o=this.parentVue.svgNum_list.length,n=this.parentVue.svgNum_list[o-1];$(`.taglayer-nd .svg svg g[num='${n}']`).remove();var i=o-1;this.parentVue.svgNum_list.splice(i,1),this.parentVue.onCheckSaveEable()},Ke.prototype.clear=function(){$(".taglayer-nd .svg svg g").remove(),this.drawInfo.list=[this.drawInfo.list[0]],this.parentVue.svgNum_list=[],this.parentVue.onCheckSaveEable()},Ke.prototype.destroy=function(){this._openDraw=!1,this.drawTagDiv.style.display="none",this.drawTagDiv.style.zIndex=0,this.drawType="text",this.drawTagDiv.innerHTML="",this.tagDiv=null,this._tagTextCtrl.exit()};var Qe=Ke;const qe=function(e,t){const o=ke.getViewerIntance();e||(e=[]),e.forEach((e,n)=>{if(e.state){var i=n+1;t.forEach((t,o)=>{e.state.uuid==t.state.uuid&&(i=o+1)}),e.state.index=i}e.isCorrect?o.addAnnotation(e.state):(o.addAnnotationSave(e),e.isCorrect=!0)}),et()},et=function(){const e=ke.getViewerIntance();var t=e.isSectionViewEnabled();const o=p.state.menuStore.menuChoose,n=p.state.menuStore.menuChoose2;(t||["meter","tag"].includes(o)||["meterDistance","meterLength","meterAngle"].includes(n))&&e.setAnnotationsVisibility(0)},tt=function(e){let t=[],o=p.state.modelStore.nowConfigName;return t=e.filter(e=>!e.modelName||e.modelName==o),t},ot={tagInfo:{},saveAllType:{},getTreeData:!1,getEasyTreeData:!1,isTagStatus:!1,operTagOpenId:"",willTagOpenId:"",lastFreeOper:!1,windowWhite:[],sendAllMsg(){this.sendCenter(1),this.sendCenter(2),this.sendCenter(3),this.sendCenter(4),this.sendCenter(5),this.sendCenter(6),this.sendCenter(7),this.sendCenter(8),this.sendCenter(9),this.sendCenter(10)},receiveAllMsg(e,t,o){let n=e||this.saveAllType||{},i=t||[];try{n=JSON.parse(n)}catch(r){n=n||{}}if(this.saveAllType=n,"fromWindow"==o&&(this.windowWhite=i),n.hasOwnProperty("8")&&!i.includes(8)&&n["8"])this.receiveCenter(n["8"]);else{i=[...i,...this.windowWhite];for(let e in n)!i.includes(1*e)&&n[""+e]&&this.receiveCenter(n[""+e])}},receiveCenter(e){const t=JSON.parse(e);this.judgeCanReceive()&&(this.saveAllType[t.type]=e,1==t.type?(ke._viewer.setBroadcastInfo(t.data),gh.$tag.ctrlDraw.resizeTags()):2==t.type?this.setButtomStatus(t):3==t.type?this.setCardStatus(t):4==t.type?this.setValueStatus(t):5==t.type?this.setTreeStatus(t):6==t.type?this.setTagStatus(t):7==t.type?this.setPositionStatus(t):8==t.type?this.setMultiStatus(t):9==t.type?this.setEasyTreeStatus(t):10==t.type&&this.setSeTreeStatus(t))},sendCenter(e,t){let o=this;if("sync"==nd_viewCtrl.viewMode&&(!nd_viewCtrl||nd_viewCtrl.rtmSDK.isRtmOperate))if(1==e){let t=o.getBroadcast();t&&o.sendDirect(e,t)}else 2==e?o.sendDirect(e,o.getButtomStatus()):3==e?o.sendDirect(e,o.getCardStatus()):4==e?o.sendDirect(e,o.getValueStatus()):5==e?o.sendDirect(e,o.getTreeStatus(t)):6==e?o.sendDirect(e,o.getTagStatus(t)):7==e?o.sendDirect(e,o.getPositionStatus()):8==e?o.sendDirect(e,o.getMultiStatus()):9==e?o.sendDirect(e,o.getEasyTreeStatus(t)):10==e&&o.sendDirect(e,o.getSeTreeStatus(t))},sendDirect(e,t){const o={type:e,data:t,terminal:"PC"};nd_viewCtrl&&nd_viewCtrl.rtmSDK&&nd_viewCtrl.rtmSDK.rtmSendMsg(o)},getBroadcast(){let e=!1;try{e=ke._viewer.getBroadcastInfo()}catch(t){}return e},getButtomStatus(){return{showOneMenu:p.state.menuStore.showOneMenu,menuChoose:p.state.menuStore.menuChoose,menuChoose2:p.state.menuStore.menuChoose2,menuChoose3:p.state.menuStore.menuChoose3,showAllMenu:p.state.menuStore.showAllMenu,disMeterStartIdx:gh.$diastanceBtn.meterStartIdx,lenMeterStartIdx:gh.$lengthBtn.meterStartIdx,angMeterStartIdx:gh.$angleBtn.meterStartIdx,dragMode:gh.$drawBtn.dragMode,nowMeterType:gh.$meterBtn.nowMeterType,showAreaMeter:gh.$meterBtn.showAreaMeter,showBoundMeter:gh.$meterBtn.showBoundMeter,showVolMeter:gh.$meterBtn.showVolMeter,displayMode:gh.$showHideBtn.displayMode,isPerspective:gh.$settingsBtn.isPerspective}},setButtomStatus(e){p.commit("menuStore/setMenuChoose",e.data.menuChoose),p.commit("menuStore/setMenuChoose2",e.data.menuChoose2),p.commit("menuStore/setMenuChoose3",e.data.menuChoose3),p.commit("menuStore/setShowOneMenu",e.data.showOneMenu),p.commit("menuStore/setShowAllMenu",e.data.showAllMenu),gh.$diastanceBtn.meterStartIdx=e.data.disMeterStartIdx,gh.$angleBtn.meterStartIdx=e.data.angMeterStartIdx,gh.$drawBtn.dragMode=e.data.dragMode,gh.$lengthBtn.meterStartIdx=e.data.lenMeterStartIdx,gh.$meterBtn.nowMeterType=e.data.nowMeterType,gh.$meterBtn.showAreaMeter=e.data.showAreaMeter,gh.$meterBtn.showBoundMeter=e.data.showBoundMeter,gh.$meterBtn.showVolMeter=e.data.showVolMeter,gh.$showHideBtn.displayMode=e.data.displayMode,gh.$settingsBtn.isPerspective=e.data.isPerspective},getCardStatus(){return{structMenu:p.state.menuStore.structMenu,attrMenu:p.state.menuStore.attrMenu,coutMenu:p.state.menuStore.coutMenu,structEasyMenu:p.state.menuStore.structEasyMenu,unitMenu:p.state.menuStore.unitMenu,pmiMenu:p.state.menuStore.pmiMenu,colorMenu:p.state.menuStore.colorMenu,settingsMenu:p.state.menuStore.settingsMenu,grithMenu:p.state.menuStore.grithMenu,showConfigContent:gh.$configSwitch.showCfgContent,isShowDataBox:gh.$attrVolArea.isShowDataBox}},setCardStatus(e){p.commit("menuStore/setStructMenu",e.data.structMenu),p.commit("menuStore/setAttrMenu",e.data.attrMenu),p.commit("menuStore/setCoutMenu",e.data.coutMenu),p.commit("menuStore/setStructEasyMenu",e.data.structEasyMenu),p.commit("menuStore/setUnitMenu",e.data.unitMenu),p.commit("menuStore/setPmiMenu",e.data.pmiMenu),p.commit("menuStore/setColorMenu",e.data.colorMenu),p.commit("menuStore/setSettingsMenu",e.data.settingsMenu),p.commit("menuStore/setGrithMenu",e.data.grithMenu),gh.$configSwitch.showCfgContent=e.data.showConfigContent,gh.$attrVolArea.isShowDataBox=e.data.isShowDataBox},getValueStatus(){return{bgTag:gh.$settingsCom&&gh.$settingsCom.bgTag,unit:p.state.modelStore.unit,bgSetList:p.state.modelStore.bgSetList,expModeIndex:p.state.expStore.modeIndex,expAxis:p.state.expStore.axis,expLevel:p.state.expStore.level,expOpenPartCout:gh.$explodeCom.openPartCout,expProgressRatio:gh.$explodeCom.progressRatio,bombScale:p.state.modelStore.bombScale,vwChooseType:gh.$volumeWeight.chooseType,vwNowMTidx:gh.$volumeWeight.nowMTidx,vwNowMTDTidx:gh.$volumeWeight.nowMTDTidx,vwSelfMaterialData:gh.$volumeWeight.selfMaterialData,vwVolume:gh.$volumeWeight.volume,vwWeight:gh.$volumeWeight.weight,vwNowMTDname:gh.$volumeWeight.nowMTDname,coutLight:gh.$coutSelect.coutLight,coutFace:gh.$coutSelect.coutFace,openCout:gh.$coutSelect.openCout,hideCout:gh.$coutSelect.hideCout,reverseCout:gh.$coutSelect.reverseCout,openBigCout:gh.$coutSelect.openBigCout,showCoutFace:gh.$coutSelect.showCoutFace,coutRotate:gh.$coutSee.rotate,coutOverturn:gh.$coutSee.overturn,coutScale:gh.$coutSee.scale,coutShowBigModel:gh.$coutSee.showBigModel,autoColorHex:p.state.modelStore.autoColorHex,partColor:p.state.modelStore.partColor,selectColor:gh.$colorSet.selectColor,hasSelectNode:gh.$colorSet.hasSelectNode,perimeters:gh.$girthCom.perimeters,unitDensitySwitch:gh.$girthCom.unitDensitySwitch,isShowPmi:p.state.modelStore.IsShowPmi,isPMIVisible:gh.$bottomBtn.isPMIVisible,pmiSetObject:gh.$pmiSetCom.pmiSetObject,pmiDefaultSet:gh.$pmiSetCom.pmiDefaultSet,attrMode:gh.$attrCom.attrMode,modelAttrData:gh.$attrCom.modelAttrData,modelAttrData_self:gh.$attrCom.modelAttrData_self,modelSelfData:gh.$attrCom.modelSelfData,modifyAttrData:gh.$attrCom.modifyAttrData,attrTitle:gh.$attrCom.attrTitle,attrTitleSelf:gh.$attrCom.attrTitleSelf}},setValueStatus(e){gh.$settingsCom.bgTag=e.data.bgTag&&e.data.bgTag,p.commit("modelStore/setUnitType",e.data.unit),p.commit("modelStore/setBgSetList",e.data.bgSetList),p.commit("expStore/setMode",e.data.expModeIndex),p.commit("expStore/setAxis",e.data.expAxis),p.commit("expStore/setLevel",e.data.expLevel),gh.$explodeCom.openPartCout=e.data.expOpenPartCout,p.commit("modelStore/setBombScale",e.data.bombScale),gh.$explodeCom.resetRatio(e.data.bombScale||0),e.data.vwChooseType&&(gh.$volumeWeight.chooseType=e.data.vwChooseType),e.data.vwSelfMaterialData&&(gh.$volumeWeight.selfMaterialData=e.data.vwSelfMaterialData),gh.$volumeWeight.nowMTidx=e.data.vwNowMTidx,gh.$volumeWeight.nowMTDTidx=e.data.vwNowMTDTidx,gh.$volumeWeight.volume=e.data.vwVolume,gh.$volumeWeight.weight=e.data.vwWeight,gh.$volumeWeight.nowMTDname=e.data.vwNowMTDname,gh.$coutSelect.coutLight=e.data.coutLight,gh.$coutSelect.coutFace=e.data.coutFace,gh.$coutSelect.openCout=e.data.openCout,gh.$coutSelect.hideCout=e.data.hideCout,gh.$coutSelect.reverseCout=e.data.reverseCout,gh.$coutSelect.openBigCout=e.data.openBigCout,gh.$coutSelect.showCoutFace=e.data.showCoutFace,gh.$coutSee.rotate=e.data.coutRotate,gh.$coutSee.overturn=e.data.coutOverturn,gh.$coutSee.scale=e.data.coutScale,gh.$coutSee.showBigModel=e.data.coutShowBigModel,p.commit("modelStore/setAutoColorHex",e.data.autoColorHex),p.commit("modelStore/sertPartAddColor",e.data.partColor),gh.$colorSet.selectColor=e.data.selectColor,gh.$colorSet.hasSelectNode=e.data.hasSelectNode,gh.$girthCom.perimeters=e.data.perimeters,gh.$girthCom.unitDensitySwitch=e.data.unitDensitySwitch,p.commit("modelStore/setIsShowPmi",e.data.isShowPmi),gh.$bottomBtn.isPMIVisible=e.data.isPMIVisible,gh.$pmiSetCom.pmiSetObject=e.data.pmiSetObject,gh.$pmiSetCom.pmiDefaultSet=e.data.pmiDefaultSet,gh.$attrCom.attrMode=e.data.attrMode,gh.$attrCom.modelAttrData=e.data.modelAttrData,gh.$attrCom.modelAttrData_self=e.data.modelAttrData_self,gh.$attrCom.modelSelfData=e.data.modelSelfData,gh.$attrCom.modifyAttrData=e.data.modifyAttrData,gh.$attrCom.attrTitle=e.data.attrTitle,gh.$attrCom.attrTitleSelf=e.data.attrTitleSelf},getTreeStatus(){let e=gh.$structureTree.modelTreeData,t=["children","isChecked","isHighlight","isOpenChild","isRendered"];return e=JSON.stringify(e,t),{treeData:xe(e)}},setTreeStatus(e){let t=JSON.parse(je(e.data.treeData));gh.$structureTree.coverTreeData(t),t&&"{}"!=JSON.stringify(t)?this.getTreeData=!0:this.getTreeData=!1},getTagStatus(e){let t=e&&e.openTagId;return!e&&gh.$tag.tcChecktag&&(t=gh.$tag.curUuid),{tagShow:p.state.tagStore.tagShow,openTagId:t,closeTag:e&&e.closeTag,tcChecktag:gh.$tag.tcChecktag,tcCheckTI:gh.$tag.tcCheckTI}},setTagStatus(e){gh.$tag.curUuid;let t=p.state.modelStore.allTag;if(p.commit("tagStore/setTagshow",e.data.tagShow),ke._viewer.setAnnotationsVisibility(e.data.tagShow?1:0),!nd_viewCtrl.rtmSDK.isRtmFreeOper||nd_viewCtrl.rtmSDK.isRtmOperate)if(this.willTagOpenId="",this.isTagStatus)this.operTagOpenId=e.data.openTagId||"";else{if(e.data.openTagId)return Te(t,e.data.openTagId)?void setTimeout(()=>{ke.selectAnnotation(e.data.openTagId)},200):void(this.willTagOpenId=e.data.openTagId||"");gh.$tag.tcChecktag=e.data.tcChecktag,gh.$tag.tcCheckTI=e.data.tcCheckTI,e.data.closeTag&&gh.$eventBus.emit("closeTagSeeSub"),gh.$tag.tcChecktag||$(".taglayer-nd").css("display","none")}else this.lastFreeOper||(this.operTagOpenId=e.data.openTagId||"")},renderInitTag(e,t,o){ke._viewer.removeAllAnnotations(),qe(e,t,!0),gh.$tag.tcChecktag&&setTimeout(()=>{ke._viewer.setAnnotationsVisibility(0),ke._viewer.setAnnotationsVisibilityByUuid(1,o)},200)},getPositionStatus(){return{structScrollTop:gh.$structureTree.scrollTop,structWidth:gh.$structureTree.structWidth,structHeight:gh.$structureTree.structHeight,attrScroll_1:gh.$attrCom.attrScroll_1,attrScroll_2:gh.$attrCom.attrScroll_2}},setPositionStatus(e){gh.$structureTree.setTreeScroll(e.data.structScrollTop),gh.$structureTree.setTreeSize(e.data),gh.$attrCom.setAttrScroll(e.data.attrScroll_1,e.data.attrScroll_2)},getMultiStatus(){return{cfgIdx:gh.$configSwitch.cfgIdx,modelPath:p.state.modelStore.modelPath,modelSetInfo:p.state.modelStore.modelSetInfo}},setMultiStatus(e){const t=this,o=gh.$configSwitch.cfgIdx;o!=e.data.cfgIdx?gh.$configSwitch.chooseCfg(e.data.cfgIdx,!0):t.receiveAllMsg(t.saveAllType,[8])},getEasyTreeStatus(){if(!gh.$structureTreeEasy)return{};let e=gh.$structureTreeEasy.modelTreeData,t=gh.$structureTreeEasy.searchData,o=["children","isEasyChecked","isOpenChild","isRendered"];return e=JSON.stringify(e,o),t=JSON.stringify(t,o),{treeData:xe(e),searchMode:gh.$structureTreeEasy.searchMode,keyWord:gh.$structureTreeEasy.keyWord,searchData:xe(t)}},setEasyTreeStatus(e){if(!gh.$structureTreeEasy)return;if("{}"==JSON.stringify(e.data))return;let t=JSON.parse(je(e.data.treeData)),o=JSON.parse(je(e.data.searchData));gh.$structureTreeEasy.coverTreeDataEasy(t),gh.$structureTreeEasy.keyWord=e.data.keyWord,t&&"{}"!=JSON.stringify(t)?this.getTreeDataEasy=!0:this.getTreeDataEasy=!1,e.data.searchMode&&(gh.$structureTreeEasy.goToSearch(),gh.$structureTreeEasy.coverSearchDataEasy(o)),gh.$structureTreeEasy.searchMode=e.data.searchMode},getSeTreeStatus(){let e=gh.$structureTree.searchData,t=["isChecked","isHighlight","isOpenChild","isRendered"];return e=JSON.stringify(e,t),{searchMode:gh.$structureTree.searchMode,keyWord:gh.$structureTree.keyWord,searchData:xe(e)}},setSeTreeStatus(e){let t=JSON.parse(je(e.data.searchData));gh.$structureTree.keyWord=e.data.keyWord,e.data.searchMode&&(gh.$structureTree.goToSearch(),gh.$structureTree.coverSearchData(t)),gh.$structureTree.searchMode=e.data.searchMode},operateChange(e){if(e){if(nd_viewCtrl.rtmSDK.isRtmOperate)return;nd_viewCtrl.rtmSDK.isRtmOperate=!0,ke._viewer.startBroadcast(!0),p.commit("setRtmNeedCover",!1),this.sendAllMsg()}else{if(!nd_viewCtrl.rtmSDK.isRtmOperate)return;nd_viewCtrl.rtmSDK.isRtmOperate=!1,ke._viewer.exitBroadcast(),p.commit("setRtmNeedCover",!1)}},freeOperChange(e,t){nd_viewCtrl.rtmSDK.isRtmOperate||(nd_viewCtrl.rtmSDK.isRtmFreeOper=e,e?(ke._viewer.exitBroadcast(),t&&ke._viewer.resetCamera({}),p.commit("setRtmNeedCover",!1)):(ke._viewer.startBroadcast(!1),p.commit("setRtmNeedCover",!0),window.nd_rtmReceiveAllMsg(),(gh.$tag.tcStep0||gh.$tag.tcStep1)&&gh.$tag.cancelSave()))},startTagChange(){"sync"==nd_viewCtrl.viewMode&&(nd_viewCtrl.rtmSDK.isRtmOperate||(nd_viewCtrl.rtmSDK.lastFreeOper=nd_viewCtrl.rtmSDK.isRtmFreeOper,nd_viewCtrl.rtmSDK.isRtmFreeOper=!0,ke._viewer.exitBroadcast(),p.commit("setRtmNeedCover",!1),this.isTagStatus=!0))},endTagChange(){"sync"==nd_viewCtrl.viewMode&&(nd_viewCtrl.rtmSDK.isRtmOperate||this.isTagStatus&&(nd_viewCtrl.rtmSDK.lastFreeOper||(nd_viewCtrl.rtmSDK.isRtmFreeOper=!1,ke._viewer.startBroadcast(!1),p.commit("setRtmNeedCover",!0),window.nd_rtmReceiveAllMsg([6])),nd_viewCtrl.rtmSDK.isRtmFreeOper||nd_viewCtrl.rtmSDK.isRtmOperate||this.operTagOpenId&&setTimeout(()=>{ke.selectAnnotation(this.operTagOpenId)},200),this.isTagStatus=!1))},closeTagChange(e){try{let t=gh.$tag.curUuid,o=!1;gh.$tag.tcChecktag&&(e.map(e=>{e.state.uuid==t&&(o=!0)}),o?setTimeout(()=>{ke._viewer.setAnnotationsVisibility(0),ke._viewer.setAnnotationsVisibilityByUuid(1,t)},100):gh.$tag.exitChecktag("click")),this.willTagOpenId&&Te(e,this.willTagOpenId)&&setTimeout(()=>{window.nd_render(),ke.selectAnnotation(this.willTagOpenId),this.willTagOpenId=""},500)}catch(t){}},judgeCanReceive(){return"sync"==nd_viewCtrl.viewMode&&(!(!nd_viewCtrl||!nd_viewCtrl.rtmSDK)&&(!nd_viewCtrl.rtmSDK.isRtmOperate&&!nd_viewCtrl.rtmSDK.isRtmFreeOper))},judgeCanWatch(){return"sync"!=nd_viewCtrl.viewMode||(!!nd_viewCtrl.rtmSDK.isRtmOperate||!!nd_viewCtrl.rtmSDK.isRtmFreeOper)}};var nt=ot;const it=e=>(Object(n["pushScopeId"])("data-v-3e2fbb16"),e=e(),Object(n["popScopeId"])(),e),rt=it(()=>Object(n["createElementVNode"])("div",{class:"shadow",style:{"z-index":"992"}},null,-1)),ct={class:"accuracy-select-tc",style:{"z-index":"993"}},at={class:"ts-tcCnt"},st={class:"txt"},lt={class:"clearfix ts-tcBtn ts-tcBtn02"};function dt(e,t,o,i,r,c){return Object(n["openBlock"])(),Object(n["createElementBlock"])(n["Fragment"],null,[rt,Object(n["createElementVNode"])("div",ct,[Object(n["createElementVNode"])("div",at,[Object(n["createElementVNode"])("p",st,Object(n["toDisplayString"])(e.$t("accuracyInfo")),1)]),Object(n["createElementVNode"])("div",lt,[Object(n["createElementVNode"])("a",{onClick:t[0]||(t[0]=e=>c.sure(0))},Object(n["toDisplayString"])(e.$t("lowAccuracy")),1),Object(n["createElementVNode"])("a",{style:{color:"#666"},onClick:t[1]||(t[1]=e=>c.sure(2))},Object(n["toDisplayString"])(e.$t("highAccuracy")),1)])])],64)}var mt={name:"AccuracyTab",setup(){const e=Object(n["reactive"])({}),t=Object(n["toRefs"])(e);return{...t}},methods:{sure(e){this.$emit("close",e)}}},ut=(o("6844"),o("b3f2")),ht=o.n(ut);const pt=ht()(mt,[["render",dt],["__scopeId","data-v-3e2fbb16"]]);var gt=pt;const vt=e=>(Object(n["pushScopeId"])("data-v-e0206c88"),e=e(),Object(n["popScopeId"])(),e),bt={id:"v_message"},wt=vt(()=>Object(n["createElementVNode"])("div",{class:"shadow",style:{"z-index":"99"}},null,-1)),St={class:"del-attr-tc tc-box",style:{"z-index":"100"}},Ct={class:"ts-tcCnt"},yt={class:"txt"},Ot={class:"clearfix ts-tcBtn ts-tcBtn02"};function ft(e,t,o,i,r,c){return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",bt,[wt,Object(n["createElementVNode"])("div",St,[Object(n["createElementVNode"])("div",Ct,[Object(n["createElementVNode"])("p",yt,Object(n["toDisplayString"])(e.$store.state.msgTxt),1)]),Object(n["createElementVNode"])("div",Ot,[Object(n["createElementVNode"])("a",{onClick:t[0]||(t[0]=e=>i.cancleFunc())},Object(n["toDisplayString"])(e.$t("cancel")),1),Object(n["createElementVNode"])("a",{onClick:t[1]||(t[1]=e=>i.sureFunc())},Object(n["toDisplayString"])(e.$t("sure")),1)])])])}var jt={name:"MsgTips",setup(){const e=Object(n["reactive"])({}),t=Object(n["toRefs"])(e),o=Object(l["useStore"])();function i(){o.commit("hideMsgTip")}function r(){o.commit("hideMsgTip"),o.state.msgFunc&&o.state.msgFunc()}return{...t,cancleFunc:i,sureFunc:r}}};o("1615");const xt=ht()(jt,[["render",ft],["__scopeId","data-v-e0206c88"]]);var Tt=xt;const Mt={class:"tip mytip3"};function Dt(e,t,o,i,r,c){return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",null,[Object(n["withDirectives"])(Object(n["createElementVNode"])("div",{class:Object(n["normalizeClass"])(["tip mytip",{b4:e.useClass2}])},[Object(n["createElementVNode"])("p",null,Object(n["toDisplayString"])(e.msg),1)],2),[[n["vShow"],e.isShowTipMsg]]),Object(n["withDirectives"])(Object(n["createElementVNode"])("div",Mt,[Object(n["createElementVNode"])("p",null,Object(n["toDisplayString"])(e.msg),1)],512),[[n["vShow"],e.isShowTipMsg3]])])}var Et={name:"Tips",setup(){const e=Object(n["reactive"])({msg:"",isShowTipMsg:!1,isShowTipMsg3:!1,useClass2:!1}),t=Object(n["toRefs"])(e),{proxy:o}=Object(n["getCurrentInstance"])(),i=(t,o)=>{e.msg=t,e.isShowTipMsg=!0,o&&(e.useClass2=!0),setTimeout(()=>{e.isShowTipMsg=!1,e.useClass2=!1},2e3)},r=t=>{e.msg=t,e.isShowTipMsg3=!0,setTimeout(()=>{e.isShowTipMsg3=!1},2e3)};return Object(n["onMounted"])(()=>{o.$eventBus.on("MsgTipEvent",i),o.$eventBus.on("MsgTipEvent2",(function(e){i(e,!0)})),o.$eventBus.on("MsgTipEvent3",r),o.$eventBus.on("MsgTipEvent4",(function(t){e.msg=t,e.isShowTipMsg=!0}))}),{...t}}};o("a0f6");const kt=ht()(Et,[["render",Dt],["__scopeId","data-v-799d86c6"]]);var Bt=kt;const Nt=Object(n["createStaticVNode"])('<div class="ndp3-waiter" data-v-590053a6><div class="ndp3-bounce1" data-v-590053a6></div><div class="ndp3-bounce2" data-v-590053a6></div><div class="ndp3-bounce3" data-v-590053a6></div></div><div class="ndp3-cover" data-v-590053a6></div>',2),At=[Nt];function _t(e,t,o,i,r,c){return Object(n["withDirectives"])((Object(n["openBlock"])(),Object(n["createElementBlock"])("div",null,At,512)),[[n["vShow"],e.$store.state.showLoading]])}var It={setup(){}};o("043d");const Vt=ht()(It,[["render",_t],["__scopeId","data-v-590053a6"]]);var Pt=Vt;const Lt={key:0,"data-id":"ico-openTab"},$t={key:1,"track-name":"attr","data-id":"ico-property"},Rt={key:2,"data-id":"ico-highLight"},zt={key:3,"data-id":"ico-displayHideOther"},Ft={key:4,"data-id":"ico-displayHide"},Ht={key:5,"data-id":"ico-transparent"},Ut={key:6,"data-id":"ico-cancel-transparent"},Wt={key:7,"data-id":"ico-displayResert"},Gt={key:8,"data-id":"ico-setPartcolor"};function Xt(e,t,o,i,r,c){const a=Object(n["resolveDirective"])("click-track");return e.showPop?(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",{key:0,class:"right-click-pop",style:Object(n["normalizeStyle"])({top:e.rightEvent.clientY+"px",left:e.rightEvent.clientX+"px"})},[Object(n["createElementVNode"])("ul",null,[e.hasOnlyNode&&i.judgeViewerCfg("preview-link")?Object(n["withDirectives"])((Object(n["openBlock"])(),Object(n["createElementBlock"])("li",Lt,[Object(n["createTextVNode"])(Object(n["toDisplayString"])(e.$t("openThisPart")),1)])),[[a,i.openNewTab]]):Object(n["createCommentVNode"])("",!0),i.judgeShowAttrFn()&&i.judgeViewerCfg("proper-link")?Object(n["withDirectives"])((Object(n["openBlock"])(),Object(n["createElementBlock"])("li",$t,[Object(n["createTextVNode"])(Object(n["toDisplayString"])(e.$t("attr")),1)])),[[a,i.showAttrCard]]):Object(n["createCommentVNode"])("",!0),e.hasSelectNode&&i.judgeViewerCfg("isolate-link")?Object(n["withDirectives"])((Object(n["openBlock"])(),Object(n["createElementBlock"])("li",Rt,[Object(n["createTextVNode"])(Object(n["toDisplayString"])(e.$t("pcHighLight")),1)])),[[a,i.hightShow]]):Object(n["createCommentVNode"])("",!0),e.hasSelectNode&&i.judgeViewerCfg("alone-link")?Object(n["withDirectives"])((Object(n["openBlock"])(),Object(n["createElementBlock"])("li",zt,[Object(n["createTextVNode"])(Object(n["toDisplayString"])(e.$t("pcSingleShow")),1)])),[[a,i.hightOthers]]):Object(n["createCommentVNode"])("",!0),e.hasSelectNode&&i.judgeViewerCfg("hide-link")?Object(n["withDirectives"])((Object(n["openBlock"])(),Object(n["createElementBlock"])("li",Ft,[Object(n["createTextVNode"])(Object(n["toDisplayString"])(e.$t("pcHidePart")),1)])),[[a,i.hiddenShow]]):Object(n["createCommentVNode"])("",!0),e.hasSelectNode&&"transparent"!=e.nodeStatus&&i.judgeViewerCfg("transparent-link")?Object(n["withDirectives"])((Object(n["openBlock"])(),Object(n["createElementBlock"])("li",Ht,[Object(n["createTextVNode"])(Object(n["toDisplayString"])(e.$t("pcTrans")),1)])),[[a,i.transShow]]):Object(n["createCommentVNode"])("",!0),e.hasSelectNode&&"transparent"==e.nodeStatus&&i.judgeViewerCfg("unTransparent-link")?Object(n["withDirectives"])((Object(n["openBlock"])(),Object(n["createElementBlock"])("li",Ut,[Object(n["createTextVNode"])(Object(n["toDisplayString"])(e.$t("pcCancelTrans")),1)])),[[a,i.transCancelShow]]):Object(n["createCommentVNode"])("",!0),!e.fromStruct&&i.judgeViewerCfg("all-link")?Object(n["withDirectives"])((Object(n["openBlock"])(),Object(n["createElementBlock"])("li",Wt,[Object(n["createTextVNode"])(Object(n["toDisplayString"])(e.$t("pcAllShow")),1)])),[[a,i.totalShow]]):Object(n["createCommentVNode"])("",!0),e.hasSelectNode&&i.judgeViewerCfg("set-color")&&i.judgeColorShow()?Object(n["withDirectives"])((Object(n["openBlock"])(),Object(n["createElementBlock"])("li",Gt,[Object(n["createTextVNode"])(Object(n["toDisplayString"])(e.$t("colorTxt3")),1)])),[[a,i.setPartColor]]):Object(n["createCommentVNode"])("",!0)])],4)):Object(n["createCommentVNode"])("",!0)}var Yt={name:"",setup(){const e=Object(n["reactive"])({rightEvent:{},showPop:!1,hasSelectNode:!1,hasOnlyNode:!1,itemCode:"",fromStruct:!1,structData:[],nodeStatus:""}),t=Object(l["useStore"])(),{menuStore:o,modelStore:i}=t.state,{proxy:r,appContext:c}=Object(n["getCurrentInstance"])();Object(n["onBeforeMount"])(()=>{}),Object(n["onMounted"])(()=>{r.$eventBus.on("rigthClickEvent",t=>{if(!i._geometryload)return void(e.showPop=!1);if(e.showPop=t.showPop,!t.showPop)return;const o=ke._viewer.selectionManager.getSelectedObjects(),{status:n}=ke._viewer.getSelectedObjectsstatus();e.nodeStatus=n,e.rightEvent=t,e.hasSelectNode=!!(o&&o.length>0),e.hasOnlyNode=!1,o&&1==o.length&&(e.itemCode=ke.getfileguid(o[0].uuid),e.itemCode&&nd_viewCtrl.checkApartExist&&nd_viewCtrl.checkApartExist(e.itemCode,(function(t){t&&(e.hasOnlyNode=!0)}))),e.fromStruct=!!t.fromStruct,t.innerWidth-t.clientX<100&&(e.rightEvent.clientX=t.innerWidth-100),e.fromStruct&&(e.structData=[t.structData])})});const a=()=>{ke._viewer.isolateObjects(ke.getSelectedObjects()),B("pcHighLight")},s=()=>{ke._viewer.transparentSelectedObjects(),B("pcTrans")},d=()=>{ke._viewer.isolateSelectedObjects(),B("pcCancelTrans")},m=()=>{ke._viewer.hideSelectedObjects(),r.$eventBus.emit("nodeShowChange"),B("pcHidePart")},u=()=>{ke._viewer.hideOtherObjects(),r.$eventBus.emit("nodeShowChange"),B("pcSingleShow")},h=()=>{ke._viewer.showAllModel(),r.$eventBus.emit("structAllShow");const e=ke._viewer.selectionManager.getSelectedObjects();e&&e.length,B("pcAllShow")},p=()=>{o.attrMenu&&t.commit("menuStore/setAttrMenu",!1),t.commit("menuStore/setColorMenu",!0),B("colorTxt3"),nt.sendCenter(3)},g=()=>{o.colorMenu&&t.commit("menuStore/setColorMenu",!1);const n=ke.getSelectedObjects();B("attrPop"),t.commit("menuStore/setUnitMenu",!1),"unitChange"==o.menuChoose&&t.commit("menuStore/setMenuChoose",""),e.fromStruct?r.$eventBus.emit("rendAttrDataSub",{type:0==n.length?"attrAll":"attrSingle",node:e.structData,fromStruct:!0}):r.$eventBus.emit("rendAttrDataSub",{type:0==n.length?"attrAll":"attrSingle",node:n})},v=()=>{const t=ke.getSelectedObjects();return"attr"!=o.menuChoose&&(!!e.fromStruct||!(!e.fromStruct&&t.length>1)&&(!e.fromStruct&&!o.coutMenu))},b=e=>{const t=nd_viewCtrl.hideRightkeyBtnClass||[];return"preview-link"==e?!t.includes(e)&&!!nd_viewCtrl.needShowPreviewLink:!t||0==t.length||!t.includes("all")&&!t.includes(e)},w=()=>{const t=o.menuChoose,n=o.menuChoose2,i=o.menuChoose3,r=["cout","explode","showHide","meter","settings","pmi"];return!!e.fromStruct||!(r.includes(t)||n||i)},S=()=>{nd_viewCtrl.openApart&&nd_viewCtrl.openApart(e.itemCode)},C=Object(n["toRefs"])(e);return{...C,hightShow:a,transShow:s,hiddenShow:m,hightOthers:u,totalShow:h,showAttrCard:g,menuStore:o,transCancelShow:d,judgeShowAttrFn:v,judgeViewerCfg:b,judgeColorShow:w,setPartColor:p,openNewTab:S}}};o("6e2c");const Jt=ht()(Yt,[["render",Xt],["__scopeId","data-v-ba56f242"]]);var Zt=Jt,Kt=o("f240"),Qt=o.n(Kt),qt=o("cb48"),eo=o.n(qt);const to={class:"btn-ul one-btn-ul",id:"bottomMainMenu"},oo={class:"arrow_img",src:Qt.a,alt:""},no={class:"arrow_img",src:eo.a,alt:""},io=["track-name"],ro=["selected"],co=["selected"],ao=["selected"],so=["selected"],lo=["selected"],mo=["selected"],uo=["selected"],ho=["selected"],po={class:"arrow_img arrow_img_right",src:Qt.a,alt:""},go={class:"arrow_img arrow_img_right",src:eo.a,alt:""};function vo(e,t,o,i,r,c){const a=Object(n["resolveComponent"])("meter-btn"),s=Object(n["resolveComponent"])("settings-btn"),l=Object(n["resolveComponent"])("show-hide-btn"),d=Object(n["resolveComponent"])("draw-btn"),m=Object(n["resolveComponent"])("attr-choose-btn"),u=Object(n["resolveComponent"])("distance-btn"),h=Object(n["resolveComponent"])("length-btn"),p=Object(n["resolveComponent"])("angle-btn"),g=Object(n["resolveComponent"])("tag-write"),v=Object(n["resolveDirective"])("img-switch"),b=Object(n["resolveDirective"])("click-track"),w=Object(n["resolveDirective"])("tooltip");return Object(n["openBlock"])(),Object(n["createElementBlock"])(n["Fragment"],null,[Object(n["withDirectives"])(Object(n["createElementVNode"])("div",{class:"ndp3-my-page bot-btn-card",onContextmenu:t[13]||(t[13]=Object(n["withModifiers"])(()=>{},["right","stop","prevent"])),onMouseenter:t[14]||(t[14]=(...e)=>i.mourseBigMenu&&i.mourseBigMenu(...e)),onMouseleave:t[15]||(t[15]=(...e)=>i.mourseBigMenuLeave&&i.mourseBigMenuLeave(...e))},[Object(n["withDirectives"])(Object(n["createElementVNode"])("ul",to,[Object(n["withDirectives"])(Object(n["createElementVNode"])("div",{id:"ico-arrowLeft",class:"bottom_arrow",onClick:t[0]||(t[0]=(...e)=>i.hideRightBottom&&i.hideRightBottom(...e))},[Object(n["withDirectives"])(Object(n["createElementVNode"])("img",oo,null,512),[[n["vShow"],!e.isBottomRight]]),Object(n["withDirectives"])(Object(n["createElementVNode"])("img",no,null,512),[[n["vShow"],e.isBottomRight]])],512),[[n["vShow"],e.overButtom]]),i.checkBtnExit("#ico-line")?Object(n["withDirectives"])((Object(n["openBlock"])(),Object(n["createElementBlock"])("li",{key:0,id:"ico-showSetting","track-name":"showSetting",onMouseenter:t[1]||(t[1]=(...e)=>i.mourseMenu&&i.mourseMenu(...e))},[Object(n["withDirectives"])(Object(n["createElementVNode"])("img",null,null,512),[[v,["ico-display-set","ico-showSetting"]]])],32)),[[b,i.chooseSetting],[w,e.$t("showSetting")]]):Object(n["createCommentVNode"])("",!0),i.checkBtnExit("#ico-Tagging")?Object(n["withDirectives"])((Object(n["openBlock"])(),Object(n["createElementBlock"])("li",{key:1,id:"ico-Tagging","track-name":"tagNote",onMouseenter:t[2]||(t[2]=(...e)=>i.mourseMenu&&i.mourseMenu(...e))},[Object(n["withDirectives"])(Object(n["createElementVNode"])("img",null,null,512),[[v,["view-tool-comment","ico-Tagging"]]])],32)),[[b,i.chooseToTag],[w,e.$t("tagNote")]]):Object(n["createCommentVNode"])("",!0),i.checkBtnExit("#ico-measure")?Object(n["withDirectives"])((Object(n["openBlock"])(),Object(n["createElementBlock"])("li",{key:2,id:"ico-measure","track-name":"meter",onMouseenter:t[3]||(t[3]=(...e)=>i.mourseMenu&&i.mourseMenu(...e))},[Object(n["withDirectives"])(Object(n["createElementVNode"])("img",null,null,512),[[v,["view-tool-measure","ico-measure"]]])],32)),[[b,i.chooseToMeter],[w,e.$t("meter")]]):Object(n["createCommentVNode"])("",!0),e.pmiShowAsync&&i.checkBtnExit("#ico-pmi")?Object(n["withDirectives"])((Object(n["openBlock"])(),Object(n["createElementBlock"])("li",{key:3,id:"ico-pmi",class:Object(n["normalizeClass"])({pmiset:e.pmiSetShowAsync,hidpmibtn:!e.pmiBtnShow}),"track-name":e.isPMIVisible&&!e.pmiSetShowAsync?"pmiHide":"pmiShow",onMouseenter:t[4]||(t[4]=(...e)=>i.mourseMenu&&i.mourseMenu(...e))},[e.pmiSetShowAsync?Object(n["createCommentVNode"])("",!0):Object(n["withDirectives"])((Object(n["openBlock"])(),Object(n["createElementBlock"])("img",{key:0,selected:!e.isPMIVisible},null,8,ro)),[[v,["view-tool-hidePMI","ico-pmi"]]]),e.pmiSetShowAsync?Object(n["withDirectives"])((Object(n["openBlock"])(),Object(n["createElementBlock"])("img",{key:1,selected:"pmi"==i.menuStore.menuChoose},null,8,co)),[[v,["view-tool-setPMI","ico-pmi"]]]):Object(n["createCommentVNode"])("",!0)],42,io)),[[b,i.choosePmiProx],[w,i.pmiTipComputed]]):Object(n["createCommentVNode"])("",!0),i.checkBtnExit("#ico-cutout")?Object(n["withDirectives"])((Object(n["openBlock"])(),Object(n["createElementBlock"])("li",{key:4,id:"ico-cutout","track-name":"coutObj",onMouseenter:t[5]||(t[5]=(...e)=>i.mourseMenu&&i.mourseMenu(...e))},[Object(n["withDirectives"])(Object(n["createElementVNode"])("img",{selected:"cout"==i.menuStore.menuChoose},null,8,ao),[[v,["view-tool-slice","ico-cutout"]]])],32)),[[b,i.chooseToCout],[w,e.$t("coutObj")]]):Object(n["createCommentVNode"])("",!0),i.checkBtnExit("#ico-explode")?Object(n["withDirectives"])((Object(n["openBlock"])(),Object(n["createElementBlock"])("li",{key:5,id:"ico-explode","track-name":"bigBang",onMouseenter:t[6]||(t[6]=(...e)=>i.mourseMenu&&i.mourseMenu(...e))},[Object(n["withDirectives"])(Object(n["createElementVNode"])("img",{selected:"explode"==i.menuStore.menuChoose},null,8,so),[[v,["view-tool-blast","ico-explode"]]])],32)),[[b,i.chooseToBang],[w,e.$t("bigBang")]]):Object(n["createCommentVNode"])("",!0),i.checkBtnExit("#ico-structure")?Object(n["withDirectives"])((Object(n["openBlock"])(),Object(n["createElementBlock"])("li",{key:6,id:"ico-structure","track-name":"structureTree",onMouseenter:t[7]||(t[7]=(...e)=>i.mourseMenu&&i.mourseMenu(...e))},[Object(n["withDirectives"])(Object(n["createElementVNode"])("img",{selected:"struct"==i.menuStore.menuChoose},null,8,lo),[[v,["view-tool-tree","ico-structure"]]])],32)),[[b,i.chooseToStructureTree],[w,e.$t("structureTree")]]):Object(n["createCommentVNode"])("",!0),i.checkBtnExit("#ico-property")?Object(n["withDirectives"])((Object(n["openBlock"])(),Object(n["createElementBlock"])("li",{key:7,id:"ico-property","track-name":"attr",class:Object(n["normalizeClass"])({"menu-select":e.showAttr})},[Object(n["withDirectives"])(Object(n["createElementVNode"])("img",null,null,512),[[v,["view-tool-attr","ico-property"]]])],2)),[[b,i.chooseToAttr],[w,e.$t("attr")]]):Object(n["createCommentVNode"])("",!0),i.checkBtnExit("#ico-display")?Object(n["withDirectives"])((Object(n["openBlock"])(),Object(n["createElementBlock"])("li",{key:8,id:"ico-display","track-name":"showHide",onMouseenter:t[8]||(t[8]=(...e)=>i.mourseMenu&&i.mourseMenu(...e))},[Object(n["withDirectives"])(Object(n["createElementVNode"])("img",null,null,512),[[v,["view-tool-hideShow","showHide"]]])],32)),[[b,i.chooseShowhide],[w,e.$t("showHide")]]):Object(n["createCommentVNode"])("",!0),i.checkBtnExit("#ico-addcolor")?Object(n["withDirectives"])((Object(n["openBlock"])(),Object(n["createElementBlock"])("li",{key:9,id:"ico-addcolor","track-name":"addcolor",onMouseenter:t[9]||(t[9]=(...e)=>i.mourseMenu&&i.mourseMenu(...e))},[Object(n["withDirectives"])(Object(n["createElementVNode"])("img",{selected:!!i.modelStore.autoColorHex[i.modelStore.nowConfig]},null,8,mo),[[v,["view-tool-addcolor","ico-addcolor"]]])],32)),[[b,i.chooseAddcolor],[w,i.modelStore.autoColorHex[i.modelStore.nowConfig]?e.$t("colorTxt2"):e.$t("colorTxt1")]]):Object(n["createCommentVNode"])("",!0),i.checkBtnExit("#ico-drag")?Object(n["withDirectives"])((Object(n["openBlock"])(),Object(n["createElementBlock"])("li",{key:10,id:"ico-drag","track-name":"drag",class:Object(n["normalizeClass"])({"menu-select":e.showDrag})},[Object(n["withDirectives"])(Object(n["createElementVNode"])("img",null,null,512),[[v,["view-tool-drag","ico-drag"]]])],2)),[[b,i.chooseToDrag],[w,e.$t("drag")]]):Object(n["createCommentVNode"])("",!0),i.checkBtnExit("#ico-plus")?Object(n["withDirectives"])((Object(n["openBlock"])(),Object(n["createElementBlock"])("li",{key:11,id:"ico-plus","track-name":"icoPlus",onMouseenter:t[10]||(t[10]=(...e)=>i.mourseMenu&&i.mourseMenu(...e))},[Object(n["withDirectives"])(Object(n["createElementVNode"])("img",{selected:"iconPlus"==i.menuStore.menuChoose},null,8,uo),[[v,["view-tool-scale","ico-plus"]]])],32)),[[b,i.chooseIcoPlus],[w,e.$t("pcMtxtIplus")]]):Object(n["createCommentVNode"])("",!0),i.checkBtnExit("#ico-settings")?Object(n["withDirectives"])((Object(n["openBlock"])(),Object(n["createElementBlock"])("li",{key:12,id:"ico-settings","track-name":"settings",onMouseenter:t[11]||(t[11]=(...e)=>i.mourseMenu&&i.mourseMenu(...e))},[Object(n["withDirectives"])(Object(n["createElementVNode"])("img",{selected:"settings"==i.menuStore.menuChoose},null,8,ho),[[v,["view-tool-settings","ico-settings"]]])],32)),[[b,i.chooseSettings],[w,e.$t("settings")]]):Object(n["createCommentVNode"])("",!0),Object(n["withDirectives"])(Object(n["createElementVNode"])("div",{id:"ico-arrowRight",class:"bottom_arrow",onClick:t[12]||(t[12]=(...e)=>i.hideLeftBottom&&i.hideLeftBottom(...e))},[Object(n["withDirectives"])(Object(n["createElementVNode"])("img",po,null,512),[[n["vShow"],e.isBottomRight]]),Object(n["withDirectives"])(Object(n["createElementVNode"])("img",go,null,512),[[n["vShow"],!e.isBottomRight]])],512),[[n["vShow"],e.overButtom]])],512),[[n["vShow"],i.store.state.menuStore.showOneMenu]]),Object(n["withDirectives"])(Object(n["createVNode"])(a,null,null,512),[[n["vShow"],"meter"==i.store.state.menuStore.menuChoose]]),Object(n["withDirectives"])(Object(n["createVNode"])(s,null,null,512),[[n["vShow"],"settingShow"==i.store.state.menuStore.menuChoose]]),Object(n["withDirectives"])(Object(n["createVNode"])(l,null,null,512),[[n["vShow"],"showHide"==i.store.state.menuStore.menuChoose]]),Object(n["withDirectives"])(Object(n["createVNode"])(d,null,null,512),[[n["vShow"],"draw"==i.store.state.menuStore.menuChoose]]),Object(n["withDirectives"])(Object(n["createVNode"])(m,null,null,512),[[n["vShow"],"attr"==i.store.state.menuStore.menuChoose]]),Object(n["withDirectives"])(Object(n["createVNode"])(u,null,null,512),[[n["vShow"],"meterDistance"==i.store.state.menuStore.menuChoose2]]),Object(n["withDirectives"])(Object(n["createVNode"])(h,null,null,512),[[n["vShow"],"meterLength"==i.store.state.menuStore.menuChoose2]]),Object(n["withDirectives"])(Object(n["createVNode"])(p,null,null,512),[[n["vShow"],"meterAngle"==i.store.state.menuStore.menuChoose2]])],544),[[n["vShow"],i.store.state.menuStore.showAllMenu]]),Object(n["createVNode"])(g,{onTagClick:i.writeTag},null,8,["onTagClick"])],64)}var bo=o("2a77"),wo=o.n(bo);const So=e=>(Object(n["pushScopeId"])("data-v-906809c4"),e=e(),Object(n["popScopeId"])(),e),Co={class:"btn-ul",id:"ico-measure-list"},yo={class:"return-menu"},Oo=So(()=>Object(n["createElementVNode"])("img",{src:wo.a},null,-1)),fo=[Oo],jo=["selected"],xo={id:"ico-area-list",class:"ndp3-menu3-card are-menu3"},To={id:"ico-volumweight-list",class:"ndp3-menu3-card volum-menu3"},Mo={id:"ico-boundingbox-list",class:"ndp3-menu3-card bounding-menu3"};function Do(e,t,o,i,r,c){const a=Object(n["resolveDirective"])("click-track"),s=Object(n["resolveDirective"])("img-switch"),l=Object(n["resolveDirective"])("tooltip");return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",null,[Object(n["createElementVNode"])("ul",Co,[Object(n["withDirectives"])((Object(n["openBlock"])(),Object(n["createElementBlock"])("li",yo,fo)),[[a,i.returnOneMenu]]),i.checkBtnExit("#ico-distance")?Object(n["withDirectives"])((Object(n["openBlock"])(),Object(n["createElementBlock"])("li",{key:0,id:"ico-distance","track-name":"distance",onMouseenter:t[0]||(t[0]=(...e)=>i.mouseEnter&&i.mouseEnter(...e))},[Object(n["withDirectives"])(Object(n["createElementVNode"])("img",null,null,512),[[s,["view-tool-distance","ico-distance"]]])],32)),[[a,i.meterDistance],[l,e.$t("pcMtxtDistance")]]):Object(n["createCommentVNode"])("",!0),i.checkBtnExit("#ico-length")?Object(n["withDirectives"])((Object(n["openBlock"])(),Object(n["createElementBlock"])("li",{key:1,id:"ico-length","track-name":"length",onMouseenter:t[1]||(t[1]=(...e)=>i.mouseEnter&&i.mouseEnter(...e))},[Object(n["withDirectives"])(Object(n["createElementVNode"])("img",null,null,512),[[s,["view-tool-length","ico-length"]]])],32)),[[a,i.meterLength],[l,e.$t("pcMtxtLength")]]):Object(n["createCommentVNode"])("",!0),i.checkBtnExit("#ico-angle")?Object(n["withDirectives"])((Object(n["openBlock"])(),Object(n["createElementBlock"])("li",{key:2,id:"ico-angle","track-name":"angle",onMouseenter:t[2]||(t[2]=(...e)=>i.mouseEnter&&i.mouseEnter(...e))},[Object(n["withDirectives"])(Object(n["createElementVNode"])("img",null,null,512),[[s,["view-tool-angel","ico-angle"]]])],32)),[[a,i.meterAngle],[l,e.$t("pcMtxtAngle")]]):Object(n["createCommentVNode"])("",!0),i.checkBtnExit("#ico-radius")?Object(n["withDirectives"])((Object(n["openBlock"])(),Object(n["createElementBlock"])("li",{key:3,id:"ico-radius","track-name":"radius",onMouseenter:t[3]||(t[3]=(...e)=>i.mouseEnter&&i.mouseEnter(...e))},[Object(n["withDirectives"])(Object(n["createElementVNode"])("img",{selected:"radius"==e.nowMeterType},null,8,jo),[[s,["view-tool-radius","ico-radius"]]])],32)),[[a,i.meterRadius],[l,e.$t("pcMtxtRadius")]]):Object(n["createCommentVNode"])("",!0),i.checkBtnExit("#ico-area")?Object(n["withDirectives"])((Object(n["openBlock"])(),Object(n["createElementBlock"])("li",{key:4,id:"ico-area",onMouseenter:t[4]||(t[4]=e=>i.mouseEnter("showAreaMeter")),"track-name":"area",class:Object(n["normalizeClass"])({"menu-select":e.showAreaMeter})},[Object(n["withDirectives"])(Object(n["createElementVNode"])("img",null,null,512),[[s,["view-tool-area","ico-area"]]]),Object(n["withDirectives"])(Object(n["createElementVNode"])("ul",xo,[i.checkBtnExit("#ico-areaFace")?Object(n["withDirectives"])((Object(n["openBlock"])(),Object(n["createElementBlock"])("li",{key:0,id:"ico-areaFace","track-name":"selectedFace",class:Object(n["normalizeClass"])({"select-m":"areaFace"==i.menuStore.menuChoose3})},[Object(n["createTextVNode"])(Object(n["toDisplayString"])(e.$t("selectedFace")),1)],2)),[[a,i.meterSF]]):Object(n["createCommentVNode"])("",!0),i.checkBtnExit("#ico-areaEntity")?Object(n["withDirectives"])((Object(n["openBlock"])(),Object(n["createElementBlock"])("li",{key:1,id:"ico-areaEntity","track-name":"selectedObj",class:Object(n["normalizeClass"])({"select-m":"areaEntity"==i.menuStore.menuChoose3})},[Object(n["createTextVNode"])(Object(n["toDisplayString"])(e.$t("selectedObj")),1)],2)),[[a,i.meterASO]]):Object(n["createCommentVNode"])("",!0),i.checkBtnExit("#ico-areaTotal")?Object(n["withDirectives"])((Object(n["openBlock"])(),Object(n["createElementBlock"])("li",{key:2,id:"ico-areaTotal","track-name":"totalArea",class:Object(n["normalizeClass"])({"select-m":"areaTotal"==i.menuStore.menuChoose3})},[Object(n["createTextVNode"])(Object(n["toDisplayString"])(e.$t("totalArea")),1)],2)),[[a,i.meterATA]]):Object(n["createCommentVNode"])("",!0)],512),[[n["vShow"],e.showAreaMeter]])],34)),[[a,i.meterArea],[l,e.$t("pcMtxtArea")]]):Object(n["createCommentVNode"])("",!0),i.checkBtnExit("#ico-volumweight")?Object(n["withDirectives"])((Object(n["openBlock"])(),Object(n["createElementBlock"])("li",{key:5,id:"ico-volumweight",onMouseenter:t[5]||(t[5]=e=>i.mouseEnter("showVolMeter")),"track-name":"volumeWeight",class:Object(n["normalizeClass"])({"menu-select":e.showVolMeter})},[Object(n["withDirectives"])(Object(n["createElementVNode"])("img",null,null,512),[[s,["view-tool-volumeWeight","ico-volumweight"]]]),Object(n["withDirectives"])(Object(n["createElementVNode"])("ul",To,[i.checkBtnExit("#ico-vol-boundingboxEntity")?Object(n["withDirectives"])((Object(n["openBlock"])(),Object(n["createElementBlock"])("li",{key:0,id:"ico-vol-boundingboxEntity","track-name":"selectToObj",class:Object(n["normalizeClass"])({"select-m":"volumeWeight"==i.menuStore.menuChoose3})},[Object(n["createTextVNode"])(Object(n["toDisplayString"])(e.$t("selectedObj")),1)],2)),[[a,i.meterVSO]]):Object(n["createCommentVNode"])("",!0),i.checkBtnExit("#ico-volumTotal")?Object(n["withDirectives"])((Object(n["openBlock"])(),Object(n["createElementBlock"])("li",{key:1,id:"ico-volumTotal","track-name":"totalObj",class:Object(n["normalizeClass"])({"select-m":"volumeWeightAll"==i.menuStore.menuChoose3})},[Object(n["createTextVNode"])(Object(n["toDisplayString"])(e.$t("pcAllVolWt")),1)],2)),[[a,i.meterVTO]]):Object(n["createCommentVNode"])("",!0)],512),[[n["vShow"],e.showVolMeter]])],34)),[[a],[l,e.$t("pcMtxtVolWet")]]):Object(n["createCommentVNode"])("",!0),i.checkBtnExit("#ico-boundingbox")?Object(n["withDirectives"])((Object(n["openBlock"])(),Object(n["createElementBlock"])("li",{key:6,id:"ico-boundingbox",onMouseenter:t[6]||(t[6]=e=>i.mouseEnter("showBoundMeter")),"track-name":"meterBox",class:Object(n["normalizeClass"])({"menu-select":e.showBoundMeter})},[Object(n["withDirectives"])(Object(n["createElementVNode"])("img",null,null,512),[[s,["view-tool-boundBox","ico-boundingbox"]]]),Object(n["withDirectives"])(Object(n["createElementVNode"])("ul",Mo,[i.checkBtnExit("#ico-boundingboxEntity")?Object(n["withDirectives"])((Object(n["openBlock"])(),Object(n["createElementBlock"])("li",{key:0,id:"ico-boundingboxEntity","track-name":"selectToObj",class:Object(n["normalizeClass"])({"select-m":"boundingEntity"==i.menuStore.menuChoose3})},[Object(n["createTextVNode"])(Object(n["toDisplayString"])(e.$t("selectedObj")),1)],2)),[[a,i.meterBSO]]):Object(n["createCommentVNode"])("",!0),i.checkBtnExit("#ico-boundingTotal")?Object(n["withDirectives"])((Object(n["openBlock"])(),Object(n["createElementBlock"])("li",{key:1,id:"ico-boundingTotal","track-name":"totalBox",class:Object(n["normalizeClass"])({"select-m":"boundingTotal"==i.menuStore.menuChoose3})},[Object(n["createTextVNode"])(Object(n["toDisplayString"])(e.$t("totalBox")),1)],2)),[[a,i.meterBTB]]):Object(n["createCommentVNode"])("",!0)],512),[[n["vShow"],e.showBoundMeter]])],34)),[[a,i.meterBox],[l,e.$t("pcMtxtBox")]]):Object(n["createCommentVNode"])("",!0),i.checkBtnExit("#ico-measureClear")?Object(n["withDirectives"])((Object(n["openBlock"])(),Object(n["createElementBlock"])("li",{key:7,id:"ico-measureClear","track-name":"clear",onMouseenter:t[7]||(t[7]=(...e)=>i.mouseEnter&&i.mouseEnter(...e))},[Object(n["withDirectives"])(Object(n["createElementVNode"])("img",null,null,512),[[s,["view-tool-clear","ico-measureClear"]]])],32)),[[a,i.meterClear],[l,e.$t("clear")]]):Object(n["createCommentVNode"])("",!0)])])}var Eo={components:{},setup(){const e=Object(n["reactive"])({nowMeterType:"",showAreaMeter:!1,showBoundMeter:!1,showVolMeter:!1,mouseTimer:null}),t=Object(l["useStore"])(),{menuStore:o,tagStore:i}=t.state,{proxy:r,appContext:c}=Object(n["getCurrentInstance"])();Object(n["nextTick"])(()=>{c.config.globalProperties.$meterBtn=e}),r.$eventBus.on("openTagPointSub",()=>{e.nowMeterType=""}),r.$eventBus.on("cfgSwitchSub",()=>{e.nowMeterType=""}),Object(n["onBeforeMount"])(()=>{}),Object(n["onMounted"])(()=>{});const a=()=>{t.commit("menuStore/setShowOneMenu",!0),t.commit("menuStore/setMenuChoose",""),t.commit("menuStore/setMenuChoose3",""),t.commit("menuStore/setShowManyConfig",!0),t.commit("menuStore/setAttrMenu",!1),ke.setMeasureOpType(""),e.nowMeterType="",i.tagShow&&!ke._viewer.isSectionViewEnabled()&&ke._viewer.setAnnotationsVisibility(1),ke._viewer.setOperatorByID("OpOrbit"),r.$eventBus.emit("closeAttrBox"),ke._viewer.onOpenClipControl(),e.showAreaMeter=!1,e.showBoundMeter=!1,e.showVolMeter=!1,setTimeout(()=>{nt.sendCenter(2),nt.sendCenter(3)},200)},s=()=>{t.state.modelStore._brepload?(e.nowMeterType="meterDistance",ke.setMeasureOpType(""),t.commit("menuStore/setMenuChoose","none"),t.commit("menuStore/setMenuChoose2","meterDistance"),t.commit("menuStore/setMenuChoose3",""),r.$eventBus.emit("closeAttrBox"),nt.sendCenter(2)):r.$eventBus.emit("MsgTipEvent3",r.$t("pcBrepNotEnd"))},d=()=>{t.state.modelStore._brepload?(e.nowMeterType="meterLength",ke.setMeasureOpType(""),t.commit("menuStore/setMenuChoose","none"),t.commit("menuStore/setMenuChoose2","meterLength"),t.commit("menuStore/setMenuChoose3",""),t.commit("menuStore/setAttrMenu",!1),r.$eventBus.emit("closeAttrBox"),nt.sendCenter(2)):r.$eventBus.emit("MsgTipEvent3",r.$t("pcBrepNotEnd"))},m=()=>{t.state.modelStore._brepload?(e.nowMeterType="meterAngle",ke.setMeasureOpType(""),t.commit("menuStore/setMenuChoose","none"),t.commit("menuStore/setMenuChoose2","meterAngle"),t.commit("menuStore/setMenuChoose3",""),t.commit("menuStore/setAttrMenu",!1),r.$eventBus.emit("closeAttrBox"),nt.sendCenter(2)):r.$eventBus.emit("MsgTipEvent3",r.$t("pcBrepNotEnd"))},u=()=>{t.state.modelStore._brepload?(ke.setMeasureOpType("radius"),e.nowMeterType="radius",t.commit("menuStore/setMenuChoose3",""),t.commit("menuStore/setAttrMenu",!1),r.$eventBus.emit("closeAttrBox"),B("radius"),nt.sendCenter(2)):r.$eventBus.emit("MsgTipEvent3",r.$t("pcBrepNotEnd"))},h=()=>{t.state.modelStore._brepload?t.commit("menuStore/setAttrMenu",!1):r.$eventBus.emit("MsgTipEvent3",r.$t("pcBrepNotEnd"))},p=()=>{t.state.modelStore._brepload?(e.nowMeterType="meterBox",r.$eventBus.emit("closeAttrBox"),t.commit("menuStore/setAttrMenu",!1),nt.sendCenter(2)):r.$eventBus.emit("MsgTipEvent3",r.$t("pcBrepNotEnd"))},g=()=>{t.state.modelStore._brepload?(ke.OpMeasureRelease(),ke.setMeasureOpType(""),ke.setOperatorByID("OpMeasure"),e.nowMeterType=!1,t.commit("menuStore/setMenuChoose3",""),r.$eventBus.emit("closeAttrBox"),t.commit("menuStore/setAttrMenu",!1),B("clear"),nt.sendCenter(2)):r.$eventBus.emit("MsgTipEvent3",r.$t("pcBrepNotEnd"))},v=()=>{t.state.modelStore._brepload?(ke.setMeasureOpType("faceArea"),t.commit("menuStore/setAttrMenu",!1),e.nowMeterType="",t.commit("menuStore/setMenuChoose3","areaFace"),r.$eventBus.emit("closeAttrBox"),B("selectedFace"),nt.sendCenter(2)):r.$eventBus.emit("MsgTipEvent3",r.$t("pcBrepNotEnd"))},b=()=>{t.state.modelStore._brepload?(e.nowMeterType="",ke.setMeasureOpType("BodyArea"),t.commit("menuStore/setAttrMenu",!1),r.$eventBus.emit("closeAttrBox"),t.commit("menuStore/setMenuChoose3","areaEntity"),B("selectedObj"),nt.sendCenter(2)):r.$eventBus.emit("MsgTipEvent3",r.$t("pcBrepNotEnd"))},w=()=>{t.state.modelStore._brepload?(e.nowMeterType="",ke.setMeasureOpType("TotalArea"),t.commit("menuStore/setAttrMenu",!1),t.commit("menuStore/setMenuChoose3","areaTotal"),B("totalArea"),nt.sendCenter(2)):r.$eventBus.emit("MsgTipEvent3",r.$t("pcBrepNotEnd"))},S=()=>{t.state.modelStore._brepload?(ke.setMeasureOpType("BodyVolume"),e.nowMeterType="",t.commit("menuStore/setAttrMenu",!1),t.commit("menuStore/setMenuChoose3","volumeWeight"),r.$eventBus.emit("closeAttrBox"),B("selectToObj"),nt.sendCenter(2),setTimeout(()=>{nt.sendCenter(3)},100)):r.$eventBus.emit("MsgTipEvent3",r.$t("pcBrepNotEnd"))},C=()=>{t.state.modelStore._brepload?(e.nowMeterType="",t.commit("menuStore/setMenuChoose3","volumeWeightAll"),t.commit("menuStore/setAttrMenu",!1),r.$eventBus.emit("closeAttrBox"),ke.setMeasureOpType("TotalVolume"),B("pcAllVolWt"),nt.sendCenter(2)):r.$eventBus.emit("MsgTipEvent3",r.$t("pcBrepNotEnd"))},y=()=>{t.state.modelStore._brepload?(e.nowMeterType="",t.commit("menuStore/setMenuChoose3","boundingEntity"),r.$eventBus.emit("closeAttrBox"),ke.setMeasureOpType("bodyBoundingBox"),t.commit("menuStore/setAttrMenu",!1),B("selectToObj","mea1_3d"),nt.sendCenter(2)):r.$eventBus.emit("MsgTipEvent3",r.$t("pcBrepNotEnd"))},O=()=>{t.state.modelStore._brepload?(e.nowMeterType="",t.commit("menuStore/setMenuChoose3","boundingTotal"),r.$eventBus.emit("closeAttrBox"),ke.setMeasureOpType("BoundingBox"),t.commit("menuStore/setAttrMenu",!1),B("totalBox","mea1_3d"),nt.sendCenter(2)):r.$eventBus.emit("MsgTipEvent3",r.$t("pcBrepNotEnd"))},f=e=>ne(e),j=t=>{x(),t&&(e[t]=!0),clearTimeout(e.mouseTimer),e.mouseTimer=setTimeout(()=>{nt.sendCenter(2)},500)},x=()=>{e.showAreaMeter=!1,e.showBoundMeter=!1,e.showVolMeter=!1},T=Object(n["toRefs"])(e);return{...T,store:t,menuStore:o,returnOneMenu:a,meterDistance:s,checkBtnExit:f,meterLength:d,meterAngle:m,meterRadius:u,meterArea:h,meterBox:p,meterClear:g,meterSF:v,meterASO:b,meterATA:w,meterVSO:S,meterVTO:C,meterBSO:y,meterBTB:O,mouseEnter:j}}};o("7a78");const ko=ht()(Eo,[["render",Do],["__scopeId","data-v-906809c4"]]);var Bo=ko;const No=e=>(Object(n["pushScopeId"])("data-v-dda65dba"),e=e(),Object(n["popScopeId"])(),e),Ao={class:"btn-ul",id:"ico-Tagging-list"},_o={class:"return-menu"},Io=No(()=>Object(n["createElementVNode"])("img",{src:wo.a},null,-1)),Vo=[Io],Po={key:0,id:"ico-tagPicText","track-name":"tagPicText"};function Lo(e,t,o,i,r,c){const a=Object(n["resolveDirective"])("click-track"),s=Object(n["resolveDirective"])("img-switch"),l=Object(n["resolveDirective"])("tooltip");return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",null,[Object(n["createElementVNode"])("ul",Ao,[Object(n["withDirectives"])((Object(n["openBlock"])(),Object(n["createElementBlock"])("li",_o,Vo)),[[a,i.returnOneMenu]]),i.checkBtnExit("#ico-tagPicText")?Object(n["withDirectives"])((Object(n["openBlock"])(),Object(n["createElementBlock"])("li",Po,[Object(n["withDirectives"])(Object(n["createElementVNode"])("img",null,null,512),[[s,["view-tool-wordComment","ico-tagPicText"]]])])),[[a,i.tagPicText],[l,e.$t("pcMtxtTagTxt")]]):Object(n["createCommentVNode"])("",!0)])])}var $o={name:"",components:{},setup(){const e=Object(n["reactive"])({}),t=Object(l["useStore"])(),{proxy:o}=Object(n["getCurrentInstance"])();Object(n["onBeforeMount"])(()=>{}),Object(n["onMounted"])(()=>{});const i=()=>{t.commit("menuStore/setShowOneMenu",!0),t.commit("menuStore/setMenuChoose",""),t.commit("menuStore/setShowManyConfig",!0),t.commit("menuStore/setAttrMenu",!1),ke._viewer.setAnnotationsVisibility(1),ke._viewer.displayViewBox(!0),t.commit("tagStore/setTagshow",!0)},r=e=>ne(e),c=()=>{o.$eventBus.emit("addtagEvent"),t.commit("menuStore/setMenuChoose","none"),t.commit("menuStore/setMenuChoose3","txtTag"),t.commit("menuStore/setShowOneMenu",!1),B("pcMtxtTagTxt")},a=()=>{o.$eventBus.emit("tagImgSub"),t.commit("menuStore/setMenuChoose","none"),t.commit("menuStore/setMenuChoose3","imgTag"),t.commit("menuStore/setShowOneMenu",!1),B("pcMtxtTagImg")},s=Object(n["toRefs"])(e);return{returnOneMenu:i,checkBtnExit:r,tagPicText:c,tagPicture:a,...s}}};o("6067");const Ro=ht()($o,[["render",Lo],["__scopeId","data-v-dda65dba"]]);var zo=Ro;const Fo={class:"btn-ul",id:"ico-showSetting-list"},Ho={class:"return-menu"},Uo=Object(n["createElementVNode"])("img",{src:wo.a},null,-1),Wo=[Uo],Go={key:0,id:"ico-shadedWithEdges","track-name":"colorLine"},Xo={key:1,id:"ico-shaded","track-name":"color"},Yo={key:2,id:"ico-hiddenLineVisible","track-name":"hidelineToSee"},Jo={key:3,id:"ico-hiddenLineRemove","track-name":"hidelineToHide"},Zo=["track-name"],Ko=["selected"],Qo={key:5,id:"ico-touyin",class:"no-select"},qo=["selected"],en={key:6,id:"ico-home","track-name":"resetEye"};function tn(e,t,o,i,r,c){const a=Object(n["resolveDirective"])("click-track"),s=Object(n["resolveDirective"])("img-switch"),l=Object(n["resolveDirective"])("tooltip");return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",null,[Object(n["createElementVNode"])("ul",Fo,[Object(n["withDirectives"])((Object(n["openBlock"])(),Object(n["createElementBlock"])("li",Ho,Wo)),[[a,i.returnOneMenu]]),i.checkBtnExit("#ico-shadedWithEdges")?Object(n["withDirectives"])((Object(n["openBlock"])(),Object(n["createElementBlock"])("li",Go,[Object(n["withDirectives"])(Object(n["createElementVNode"])("img",null,null,512),[[s,["ico-set-lineColor","ico-shadedWithEdges"]]])])),[[a,i.lineColor],[l,e.$t("pcMtxtLineShade")]]):Object(n["createCommentVNode"])("",!0),i.checkBtnExit("#ico-shaded")?Object(n["withDirectives"])((Object(n["openBlock"])(),Object(n["createElementBlock"])("li",Xo,[Object(n["withDirectives"])(Object(n["createElementVNode"])("img",null,null,512),[[s,["ico-set-color","ico-shaded"]]])])),[[a,i.color],[l,e.$t("pcMtxtShade")]]):Object(n["createCommentVNode"])("",!0),i.checkBtnExit("#ico-hiddenLineVisible")?Object(n["withDirectives"])((Object(n["openBlock"])(),Object(n["createElementBlock"])("li",Yo,[Object(n["withDirectives"])(Object(n["createElementVNode"])("img",null,null,512),[[s,["ico-set-showHideLine","ico-hiddenLineVisible"]]])])),[[a,i.hidelineToSee],[l,e.$t("pcMtxtLineSee")]]):Object(n["createCommentVNode"])("",!0),i.checkBtnExit("#ico-hiddenLineRemove")?Object(n["withDirectives"])((Object(n["openBlock"])(),Object(n["createElementBlock"])("li",Jo,[Object(n["withDirectives"])(Object(n["createElementVNode"])("img",null,null,512),[[s,["ico-set-clearHideLine","ico-hiddenLineRemove"]]])])),[[a,i.hidelineToHide],[l,e.$t("pcMtxtLineMove")]]):Object(n["createCommentVNode"])("",!0),i.checkBtnExit("#ico-show")?Object(n["withDirectives"])((Object(n["openBlock"])(),Object(n["createElementBlock"])("li",{key:4,id:"ico-show","track-name":i.store.state.tagStore.tagShow?"hideNote":"showNote",class:"no-select"},[Object(n["withDirectives"])(Object(n["createElementVNode"])("img",{selected:!i.store.state.tagStore.tagShow},null,8,Ko),[[s,["ico-set-hideMark","ico-tagText"]]])],8,Zo)),[[a,i.hideTags],[l,i.store.state.tagStore.tagShow?e.$t("pcMtxtTagHide"):e.$t("pcMtxtTagShow")]]):Object(n["createCommentVNode"])("",!0),i.checkBtnExit("#ico-touyin")?Object(n["withDirectives"])((Object(n["openBlock"])(),Object(n["createElementBlock"])("li",Qo,[Object(n["withDirectives"])(Object(n["createElementVNode"])("img",{selected:!e.isPerspective},null,8,qo),[[s,["ico-perspective","ico-touyin"]]])])),[[a,i.perspeTive],[l,e.isPerspective?e.$t("pcMtxtPers"):e.$t("pcMtxtOrth")]]):Object(n["createCommentVNode"])("",!0),i.checkBtnExit("#ico-home")?Object(n["withDirectives"])((Object(n["openBlock"])(),Object(n["createElementBlock"])("li",en,[Object(n["withDirectives"])(Object(n["createElementVNode"])("img",null,null,512),[[s,["ico-set-resetAngel","ico-home"]]])])),[[a,i.reset],[l,e.$t("pcMtxtHomeView")]]):Object(n["createCommentVNode"])("",!0)])])}var on={name:"",setup(){const e=Object(n["reactive"])({isPerspective:!0,isOpenTag:!0}),t=Object(l["useStore"])(),{proxy:o,appContext:i}=Object(n["getCurrentInstance"])();Object(n["nextTick"])(()=>{i.config.globalProperties.$settingsBtn=e}),Object(n["onBeforeMount"])(()=>{}),Object(n["onMounted"])(()=>{o.$eventBus.on("isPerspectiveSub",()=>{e.isPerspective=!1}),o.$eventBus.on("resetPerspectiveSub",t=>{e.isPerspective=t})});const r=()=>{t.commit("menuStore/setShowOneMenu",!0),t.commit("menuStore/setMenuChoose",""),nt.sendCenter(2)},c=e=>ne(e),a=()=>{ke.setRenderMode("shadedWithEdges"),B("colorLine"),nt.sendCenter(2)},s=()=>{ke.setRenderMode("shaded"),B("color"),nt.sendCenter(2)},d=()=>{ke.setRenderMode("hiddenLineVisible"),B("hidelineToSee"),nt.sendCenter(2)},m=()=>{ke.setRenderMode("hiddenLineRemove"),B("hidelineToHide"),nt.sendCenter(2)},u=()=>{e.isPerspective?(ke._viewer.camera.toPerspective(),ke._viewer.render()):(ke._viewer.camera.toOrthographic(),ke._viewer.render()),e.isPerspective=!e.isPerspective,B(e.isPerspective?"pcMtxtOrth":"pcMtxtPers"),nt.sendCenter(2)},h=()=>{ke.onResetCamera(),B("resetEye"),nt.sendCenter(2)},p=()=>{if(B(t.state.tagStore.tagShow?"hideNote":"showNote"),!(t.state.modelStore.nowTag.length<1)){e.isOpenTag=t.state.tagStore.tagShow;var o=!e.isOpenTag;ke.setAnnotationsVisibility(o),t.commit("tagStore/setTagshow",o),e.isOpenTag=o,e.isShowHideSetting=!1,nt.sendCenter(2),nt.sendCenter(6)}},g=Object(n["toRefs"])(e);return{...g,store:t,returnOneMenu:r,checkBtnExit:c,lineColor:a,color:s,hidelineToSee:d,hidelineToHide:m,reset:h,perspeTive:u,hideTags:p}},methods:{}};const nn=ht()(on,[["render",tn]]);var rn=nn;const cn=e=>(Object(n["pushScopeId"])("data-v-6dd3fe93"),e=e(),Object(n["popScopeId"])(),e),an={class:"btn-ul",id:"ico-display-list"},sn={class:"return-menu"},ln=cn(()=>Object(n["createElementVNode"])("img",{src:wo.a},null,-1)),dn=[ln],mn={key:0,id:"ico-highLight","track-name":"highLight"},un=["selected"],hn={key:1,id:"ico-displayHideOther","track-name":"displayHideOther"},pn=["selected"],gn={key:2,id:"ico-displayHide","track-name":"displayHide"},vn=["selected"],bn={key:3,id:"ico-transparent","track-name":"transparent"},wn=["selected"],Sn={key:4,id:"ico-displayResert","track-name":"displayResert"};function Cn(e,t,o,i,r,c){const a=Object(n["resolveDirective"])("click-track"),s=Object(n["resolveDirective"])("img-switch"),l=Object(n["resolveDirective"])("tooltip");return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",null,[Object(n["createElementVNode"])("ul",an,[Object(n["withDirectives"])((Object(n["openBlock"])(),Object(n["createElementBlock"])("li",sn,dn)),[[a,i.returnOneMenu]]),i.checkBtnExit("#ico-highLight")?Object(n["withDirectives"])((Object(n["openBlock"])(),Object(n["createElementBlock"])("li",mn,[Object(n["withDirectives"])(Object(n["createElementVNode"])("img",{selected:0===e.displayMode},null,8,un),[[s,["view-tool-prominent","ico-highLight"]]])])),[[a,i.highLight],[l,e.$t("pcHighLight")]]):Object(n["createCommentVNode"])("",!0),i.checkBtnExit("#ico-displayHideOther")?Object(n["withDirectives"])((Object(n["openBlock"])(),Object(n["createElementBlock"])("li",hn,[Object(n["withDirectives"])(Object(n["createElementVNode"])("img",{selected:1===e.displayMode},null,8,pn),[[s,["view-tool-hideOther","ico-displayHideOther"]]])])),[[a,i.displayHideOther],[l,e.$t("pcSingleShow")]]):Object(n["createCommentVNode"])("",!0),i.checkBtnExit("#ico-displayHide")?Object(n["withDirectives"])((Object(n["openBlock"])(),Object(n["createElementBlock"])("li",gn,[Object(n["withDirectives"])(Object(n["createElementVNode"])("img",{selected:2===e.displayMode},null,8,vn),[[s,["view-tool-conceal","ico-displayHide"]]])])),[[a,i.displayHide],[l,e.$t("pcHidePart")]]):Object(n["createCommentVNode"])("",!0),i.checkBtnExit("#ico-transparent")?Object(n["withDirectives"])((Object(n["openBlock"])(),Object(n["createElementBlock"])("li",bn,[Object(n["withDirectives"])(Object(n["createElementVNode"])("img",{selected:3===e.displayMode},null,8,wn),[[s,["view-tool-transparent","ico-transparent"]]])])),[[a,i.transparent],[l,e.$t("pcTrans")]]):Object(n["createCommentVNode"])("",!0),i.checkBtnExit("#ico-displayResert")?Object(n["withDirectives"])((Object(n["openBlock"])(),Object(n["createElementBlock"])("li",Sn,[Object(n["withDirectives"])(Object(n["createElementVNode"])("img",null,null,512),[[s,["view-tool-reduction","ico-displayResert"]]])])),[[a,i.displayResert],[l,e.$t("pcAllShow")]]):Object(n["createCommentVNode"])("",!0)])])}var yn={name:"",components:{},setup(){const e=Object(n["reactive"])({displayMode:-1}),t=Object(l["useStore"])(),{proxy:o,appContext:i}=Object(n["getCurrentInstance"])(),{modelStore:r}=t.state;Object(n["nextTick"])(()=>{i.config.globalProperties.$showHideBtn=e}),Object(n["onBeforeMount"])(()=>{}),Object(n["onMounted"])(()=>{o.$eventBus.on("selectObjectEvent",()=>{-1!==e.displayMode&&g()}),o.$eventBus.on("openTagPointSub",()=>{ke._viewer.showprompt(!1),e.displayMode=-1}),o.$eventBus.on("cfgSwitchSub",()=>{ke._viewer.showprompt(!1),e.displayMode=-1})});const c=()=>{t.commit("menuStore/setShowOneMenu",!0),t.commit("menuStore/setMenuChoose",""),ke._viewer.showprompt(!1),e.displayMode=-1,nt.sendCenter(2)},a=e=>ne(e),s=()=>{e.displayMode=0,ke._viewer.selectionManager.clearSelection(),ke._viewer.render(),p(),B("highLight"),nt.sendCenter(2)},d=()=>{e.displayMode=1,ke._viewer.selectionManager.clearSelection(),ke._viewer.render(),p(),B("displayHideOther"),nt.sendCenter(2)},m=()=>{e.displayMode=2,ke._viewer.selectionManager.clearSelection(),ke._viewer.render(),p(),B("displayHide"),nt.sendCenter(2)},u=()=>{e.displayMode=3,ke._viewer.selectionManager.clearSelection(),ke._viewer.render(),p(),B("transparent"),nt.sendCenter(2)},h=()=>{e.displayMode=4,ke._viewer.selectionManager.clearSelection(),ke._viewer.showAllModel(),ke._viewer.showprompt(!1),ke._viewer.render(),B("displayResert"),nt.sendCenter(2)},p=()=>{ke._viewer.showprompt(!0,o.$t("chooseToPart"))},g=()=>{const t=ke._viewer.selectionManager.getSelectedObjects();if(t&&0!=t.length)switch(e.displayMode){case 0:t&&ke._viewer.isolateObjects(t);break;case 1:ke._viewer.hideOtherObjects();break;case 2:ke.hideSelectedObjects();break;case 3:t&&ke._viewer.transparentOrisolateSelectObjects(t)}},v=Object(n["toRefs"])(e);return{returnOneMenu:c,checkBtnExit:a,highLight:s,displayHideOther:d,displayHide:m,transparent:u,displayResert:h,...v}}};o("6347");const On=ht()(yn,[["render",Cn],["__scopeId","data-v-6dd3fe93"]]);var fn=On,jn=o("b981"),xn=o.n(jn);const Tn=e=>(Object(n["pushScopeId"])("data-v-39243521"),e=e(),Object(n["popScopeId"])(),e),Mn={class:"header"},Dn={class:"cout-content",style:{"margin-top":"15px"}},En={class:"flex-start"},kn={class:"cout-switch-txt"},Bn={class:"flex-start"},Nn={class:"cout-switch-txt"},An={class:"flex-start"},_n={class:"cout-switch-txt"},In={class:"flex-start"},Vn={class:"cout-switch-txt"},Pn={class:"title"},Ln={class:"cout-content"},$n={class:"flex-start"},Rn={class:"flex-start"},zn={class:"flex-start"},Fn=Tn(()=>Object(n["createElementVNode"])("img",{src:xn.a,alt:""},null,-1));function Hn(e,t,o,i,r,c){const a=Object(n["resolveComponent"])("xd-switch"),s=Object(n["resolveComponent"])("card"),l=Object(n["resolveComponent"])("cout-see");return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",null,[Object(n["createVNode"])(s,{class:"ndp3-my-page cout-select",onClose:i.closeCout},{header:Object(n["withCtx"])(()=>[Object(n["createElementVNode"])("div",Mn,Object(n["toDisplayString"])(e.$t("chooseCoutType2")),1)]),default:Object(n["withCtx"])(()=>[Object(n["createElementVNode"])("div",Dn,[Object(n["createElementVNode"])("div",En,[Object(n["createElementVNode"])("div",kn,Object(n["toDisplayString"])(e.$t("coutFaceShow2")),1),Object(n["createVNode"])(a,{class:"switch-cp",modelValue:e.openCout,"onUpdate:modelValue":t[0]||(t[0]=t=>e.openCout=t),onChange:i.openCountChange},null,8,["modelValue","onChange"])]),Object(n["createElementVNode"])("div",Bn,[Object(n["createElementVNode"])("div",Nn,Object(n["toDisplayString"])(e.$t("coutFaceHide")),1),Object(n["createVNode"])(a,{class:"switch-cp",modelValue:e.hideCout,"onUpdate:modelValue":t[1]||(t[1]=t=>e.hideCout=t),onChange:i.hideCoutChange},null,8,["modelValue","onChange"])]),Object(n["createElementVNode"])("div",An,[Object(n["createElementVNode"])("div",_n,Object(n["toDisplayString"])(e.$t("reverseCout")),1),Object(n["createVNode"])(a,{class:"switch-cp",modelValue:e.reverseCout,"onUpdate:modelValue":t[2]||(t[2]=t=>e.reverseCout=t),onChange:i.reverseCoutChange},null,8,["modelValue","onChange"])]),Object(n["createElementVNode"])("div",In,[Object(n["createElementVNode"])("div",Vn,Object(n["toDisplayString"])(e.$t("pcSeePlan")),1),Object(n["createVNode"])(a,{class:"switch-cp",modelValue:e.openBigCout,"onUpdate:modelValue":t[3]||(t[3]=t=>e.openBigCout=t),onChange:i.openBigChange},null,8,["modelValue","onChange"])])]),Object(n["createElementVNode"])("div",Pn,Object(n["toDisplayString"])(e.$t("pcChoosePlan")),1),Object(n["createElementVNode"])("div",Ln,[Object(n["createElementVNode"])("div",$n,[Object(n["createElementVNode"])("i",{class:Object(n["normalizeClass"])(["pq-icon pq-icon-check-no",{"pq-icon-check-blue":"XY"==e.coutLight,"pq-icon-check-gray":i.judgeCludeChoose("XY")}]),onClick:t[4]||(t[4]=e=>i.chooseAxis("XY"))},null,2),Object(n["createElementVNode"])("div",{onClick:t[5]||(t[5]=e=>i.chooseAxisAll("XY")),class:Object(n["normalizeClass"])({"txt-blue":"XY"==e.coutLight})},Object(n["toDisplayString"])(e.$t("pcXcut")),3)]),Object(n["createElementVNode"])("div",Rn,[Object(n["createElementVNode"])("i",{class:Object(n["normalizeClass"])(["pq-icon pq-icon-check-no",{"pq-icon-check-blue":"YZ"==e.coutLight,"pq-icon-check-gray":i.judgeCludeChoose("YZ")}]),onClick:t[6]||(t[6]=e=>i.chooseAxis("YZ"))},null,2),Object(n["createElementVNode"])("div",{onClick:t[7]||(t[7]=e=>i.chooseAxisAll("YZ")),class:Object(n["normalizeClass"])({"txt-blue":"YZ"==e.coutLight})},Object(n["toDisplayString"])(e.$t("pcYcut")),3)]),Object(n["createElementVNode"])("div",zn,[Object(n["createElementVNode"])("i",{class:Object(n["normalizeClass"])(["pq-icon pq-icon-check-no",{"pq-icon-check-blue":"XZ"==e.coutLight,"pq-icon-check-gray":i.judgeCludeChoose("XZ")}]),onClick:t[8]||(t[8]=e=>i.chooseAxis("XZ"))},null,2),Object(n["createElementVNode"])("div",{onClick:t[9]||(t[9]=e=>i.chooseAxisAll("XZ")),class:Object(n["normalizeClass"])({"txt-blue":"XZ"==e.coutLight})},Object(n["toDisplayString"])(e.$t("pcZcut")),3)])]),Object(n["createElementVNode"])("div",{class:"reset-content",onClick:t[10]||(t[10]=(...e)=>i.resetClick&&i.resetClick(...e))},[Fn,Object(n["createElementVNode"])("span",null,Object(n["toDisplayString"])(e.$t("pcReset2")),1)])]),_:1},8,["onClose"]),Object(n["withDirectives"])(Object(n["createVNode"])(l,{openCout:e.showCoutFace,onCloseSee:i.closeSee},null,8,["openCout","onCloseSee"]),[[n["vShow"],e.showCoutFace]])])}var Un=o("b364"),Wn=o.n(Un);const Gn={class:"dialog_header"},Xn={class:"drag-right",ref:"dragRight"},Yn={class:"drag-bottom",ref:"dragBottom"};function Jn(e,t,o,i,r,c){const a=Object(n["resolveDirective"])("drag");return Object(n["withDirectives"])((Object(n["openBlock"])(),Object(n["createElementBlock"])("div",{class:"ndp3-my-card",ref:"cardRef",onContextmenu:t[1]||(t[1]=Object(n["withModifiers"])(()=>{},["right","stop","prevent"])),onMouseenter:t[2]||(t[2]=(...e)=>i.mourseBigMenu&&i.mourseBigMenu(...e)),onMouseleave:t[3]||(t[3]=(...e)=>i.mourseBigMenuLeave&&i.mourseBigMenuLeave(...e))},[Object(n["createElementVNode"])("header",Gn,[Object(n["renderSlot"])(e.$slots,"header",{},void 0,!0)]),o.hideClose?Object(n["createCommentVNode"])("",!0):(Object(n["openBlock"])(),Object(n["createElementBlock"])("img",{key:0,class:"close-icon",src:Wn.a,onClick:t[0]||(t[0]=(...e)=>i.close&&i.close(...e)),alt:""})),Object(n["renderSlot"])(e.$slots,"default",{},void 0,!0),Object(n["withDirectives"])(Object(n["createElementVNode"])("div",Xn,null,512),[[n["vShow"],o.canDrag]]),Object(n["withDirectives"])(Object(n["createElementVNode"])("div",Yn,null,512),[[n["vShow"],o.canDrag]])],32)),[[a]])}var Zn={name:"",props:["hideClose","canDrag","sizeDrag"],setup(e,t){const o=Object(n["reactive"])({});let i=Object(n["ref"])(null),r=Object(n["ref"])(null),c=Object(n["ref"])(null);Object(n["onBeforeMount"])(()=>{}),Object(n["onMounted"])(()=>{e.canDrag&&s()});const a=()=>{t.emit("close"),nt.sendCenter(2),setTimeout(()=>{nt.sendCenter(3)})},s=()=>{i.value.onmousedown=function(e){let o=e.clientX,n=1*c.value.clientWidth;document.onmousemove=function(e){let t=n+e.clientX-o;e.clientX>document.body.clientWidth-10||t>=240&&(c.value.style.width=t+"px")},document.onmouseup=function(){document.onmousemove=null,document.onmouseup=null,t.emit("sizeDrag",{cardWidth:c.value.style.width,cardHeight:c.value.style.height})}},r.value.onmousedown=function(e){let o=e.clientY,n=1*c.value.clientHeight;document.onmousemove=function(e){let t=n+e.clientY-o;e.clientY>document.body.clientHeight-10||t>=300&&(c.value.style.height=t+"px")},document.onmouseup=function(){document.onmousemove=null,document.onmouseup=null,t.emit("sizeDrag",{cardWidth:c.value.style.width,cardHeight:c.value.style.height})}}},l=()=>{const e=document.querySelector(".pc-alert");e&&(e.style.display="none")},d=()=>{const e=document.querySelector(".pc-alert");e&&e.innerText&&(e.style.display="block")},m=Object(n["toRefs"])(o);return{...m,close:a,mourseBigMenu:l,mourseBigMenuLeave:d,dragRight:i,dragBottom:r,cardRef:c}}};o("9160");const Kn=ht()(Zn,[["render",Jn],["__scopeId","data-v-bea37340"]]);var Qn=Kn,qn=o("6264"),ei=o.n(qn),ti=o("ec6b"),oi=o.n(ti),ni=o("51cb"),ii=o.n(ni),ri=o("4521"),ci=o.n(ri),ai=o("4568"),si=o.n(ai);const li=e=>(Object(n["pushScopeId"])("data-v-660c2d18"),e=e(),Object(n["popScopeId"])(),e),di={class:"flex-right cout-operate"},mi=["data-tip2"],ui=["data-tip2"],hi=["data-tip2"],pi=li(()=>Object(n["createElementVNode"])("p",{class:"cut-line"},null,-1)),gi=["data-tip2"],vi={class:"img-round"},bi={class:"drag-div",ref:"dragImgRef1"},wi=["src"],Si={class:"big-viewer-title"},Ci={class:"big-title"},yi={class:"right-btn-list"},Oi=["data-tip2"],fi=["data-tip2"],ji=["data-tip2"],xi=li(()=>Object(n["createElementVNode"])("p",{class:"cut-line"},null,-1)),Ti=["data-tip2"],Mi={class:"bigimg-content"},Di={class:"drag-div",ref:"dragImgRef2"},Ei=["src"];function ki(e,t,o,i,r,c){const a=Object(n["resolveComponent"])("card"),s=Object(n["resolveComponent"])("xd-dialog"),l=Object(n["resolveDirective"])("drag");return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",null,[Object(n["createVNode"])(a,{onClose:i.closeSee,class:"y-page cout-see cout-see-card"},{header:Object(n["withCtx"])(()=>[Object(n["createElementVNode"])("div",di,[Object(n["createElementVNode"])("div",{"data-tip2":e.$t("pcCoutTip1")},[Object(n["createElementVNode"])("img",{src:ei.a,onClick:t[0]||(t[0]=e=>i.rotateClick(22.5)),alt:""})],8,mi),Object(n["createElementVNode"])("div",{"data-tip2":e.$t("pcCoutTip4")},[Object(n["createElementVNode"])("img",{src:oi.a,onClick:t[1]||(t[1]=(...e)=>i.rotateTurnClick&&i.rotateTurnClick(...e)),alt:""})],8,ui),Object(n["createElementVNode"])("div",{"data-tip2":e.$t("pcCoutTip2")},[Object(n["createElementVNode"])("img",{src:ii.a,onClick:t[2]||(t[2]=e=>i.rotateClick(-22.5)),alt:""})],8,hi),pi,Object(n["createElementVNode"])("div",{"data-tip2":e.$t("pcCoutTip3")},[Object(n["createElementVNode"])("img",{src:ci.a,onClick:t[3]||(t[3]=(...e)=>i.resetModel&&i.resetModel(...e)),alt:""})],8,gi)])]),default:Object(n["withCtx"])(()=>[Object(n["createElementVNode"])("div",vi,[Object(n["withDirectives"])((Object(n["openBlock"])(),Object(n["createElementBlock"])("div",bi,[Object(n["createElementVNode"])("img",{class:"dialog_header",src:e.imgUrl,alt:"",onMousewheel:t[4]||(t[4]=(...e)=>i.rollImg&&i.rollImg(...e)),style:Object(n["normalizeStyle"])({transform:"rotateY("+e.overturn+"deg) rotate("+e.rotate+"deg) scale("+e.scale+")"})},null,44,wi)])),[[l,"openLimit"]])])]),_:1},8,["onClose"]),Object(n["createVNode"])(s,{visible:e.showBigModel,title:e.$t("pcSeePlan"),hideFoot:"true",hideTitle:"true",class:"dialog",width:"90%",height:"90%"},{default:Object(n["withCtx"])(()=>[Object(n["createElementVNode"])("div",Si,[Object(n["createElementVNode"])("div",Ci,Object(n["toDisplayString"])(e.$t("pcSeePlan")),1),Object(n["createElementVNode"])("div",yi,[Object(n["createElementVNode"])("div",{"data-tip2":e.$t("pcCoutTip1")},[Object(n["createElementVNode"])("img",{src:ei.a,onClick:t[5]||(t[5]=e=>i.rotateClick(22.5)),alt:""})],8,Oi),Object(n["createElementVNode"])("div",{"data-tip2":e.$t("pcCoutTip4")},[Object(n["createElementVNode"])("img",{src:oi.a,onClick:t[6]||(t[6]=(...e)=>i.rotateTurnClick&&i.rotateTurnClick(...e)),alt:""})],8,fi),Object(n["createElementVNode"])("div",{"data-tip2":e.$t("pcCoutTip2")},[Object(n["createElementVNode"])("img",{src:ii.a,onClick:t[7]||(t[7]=e=>i.rotateClick(-22.5)),alt:""})],8,ji),xi,Object(n["createElementVNode"])("div",{"data-tip2":e.$t("pcCoutTip5")},[Object(n["createElementVNode"])("img",{src:si.a,onClick:t[8]||(t[8]=(...e)=>i.closeBigCoutSee&&i.closeBigCoutSee(...e)),alt:""})],8,Ti)])]),Object(n["createElementVNode"])("div",Mi,[Object(n["withDirectives"])((Object(n["openBlock"])(),Object(n["createElementBlock"])("div",Di,[Object(n["createElementVNode"])("img",{class:"dialog_header big_img",src:e.imgUrl,onMousewheel:t[9]||(t[9]=(...e)=>i.rollImg&&i.rollImg(...e)),alt:"",style:Object(n["normalizeStyle"])({transform:"rotateY("+e.overturn+"deg) rotate("+e.rotate+"deg) scale("+e.scale+")"})},null,44,Ei)])),[[l,"openLimit"]])])]),_:1},8,["visible","title"])])}const Bi=e=>(Object(n["pushScopeId"])("data-v-355382a3"),e=e(),Object(n["popScopeId"])(),e),Ni={class:"my-dialog"},Ai=Bi(()=>Object(n["createElementVNode"])("div",{class:"dialog-cover"},null,-1)),_i={key:0,class:"dialog-title"},Ii={class:"dialog-content"},Vi={key:1,class:"dialog-footer"};function Pi(e,t,o,i,r,c){return Object(n["withDirectives"])((Object(n["openBlock"])(),Object(n["createElementBlock"])("div",Ni,[Ai,Object(n["createElementVNode"])("div",{class:"dialog-model",style:Object(n["normalizeStyle"])({width:o.width,height:o.height})},[o.hideTitle?Object(n["createCommentVNode"])("",!0):(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",_i,[Object(n["createTextVNode"])(Object(n["toDisplayString"])(o.title)+" ",1),Object(n["createElementVNode"])("img",{class:"dialog-cancel-img",onClick:t[0]||(t[0]=(...e)=>i.close&&i.close(...e)),src:Wn.a,alt:""})])),Object(n["createElementVNode"])("div",Ii,[Object(n["renderSlot"])(e.$slots,"default",{},void 0,!0)]),o.hideFoot?Object(n["createCommentVNode"])("",!0):(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",Vi,[Object(n["createElementVNode"])("button",{class:"dialog-cancel-btn dialog-btn",onClick:t[1]||(t[1]=(...e)=>i.cancel&&i.cancel(...e))},Object(n["toDisplayString"])(o.cancelTxt||e.$t("cancel")),1),Object(n["createElementVNode"])("button",{class:"dialog-sure-btn dialog-btn",onClick:t[2]||(t[2]=(...e)=>i.sure&&i.sure(...e))},Object(n["toDisplayString"])(o.sureTxt||e.$t("sure")),1)]))],4)],512)),[[n["vShow"],o.visible]])}var Li={name:"",props:["visible","title","sureTxt","cancelTxt","hideTitle","hideFoot","width","height"],setup(e){const t=Object(n["reactive"])({}),{proxy:o}=(Object(l["useStore"])(),Object(n["getCurrentInstance"])());Object(n["onBeforeMount"])(()=>{}),Object(n["onMounted"])(()=>{});const i=()=>{o.$emit("close")},r=()=>{o.$emit("cancel")},c=()=>{o.$emit("sure")},a=Object(n["toRefs"])(t);return{...a,close:i,cancel:r,sure:c}}};o("2094");const $i=ht()(Li,[["render",Pi],["__scopeId","data-v-355382a3"]]);var Ri=$i,zi={name:"",props:["openCout"],components:{card:Qn,xdDialog:Ri},setup(e,t){const o=Object(n["reactive"])({imgUrl:"",showBigModel:!1,rotate:0,overturn:0,scale:1}),i=Object(n["ref"])(null),r=Object(n["ref"])(null),{proxy:c,appContext:a}=(Object(l["useStore"])(),Object(n["getCurrentInstance"])());Object(n["nextTick"])(()=>{a.config.globalProperties.$coutSee=o}),Object(n["watch"])(()=>c.openCout,()=>{o.rotate=0,o.overturn=0,o.scale=1,o.showBigModel=!1,i.value&&i.value.removeAttribute("style"),r.value&&i.value.removeAttribute("style")}),c.$eventBus.on("coutBaseImg",e=>{o.imgUrl=e,o.scale=1,i.value&&i.value.removeAttribute("style"),r.value&&i.value.removeAttribute("style")}),Object(n["onBeforeMount"])(()=>{}),Object(n["onMounted"])(()=>{});const s=()=>{t.emit("closeSee")},d=e=>{o.rotate=o.rotate+e,nt.sendCenter(4)},m=()=>{180==o.overturn?o.overturn=0:o.overturn=180,nt.sendCenter(4)},u=e=>{e.wheelDelta>0?o.scale=o.scale+.05:o.scale=o.scale-.05,o.scale<1&&(o.scale=1),o.scale>5&&(o.scale=5)},h=()=>{o.showBigModel=!0,o.scale=1,nt.sendCenter(4)},p=()=>{o.showBigModel=!1,o.scale=1,nt.sendCenter(4)},g=Object(n["toRefs"])(o);return{...g,closeSee:s,rotateClick:d,rotateTurnClick:m,rollImg:u,resetModel:h,closeBigCoutSee:p,dragImgRef1:i,dragImgRef2:r}},methods:{}};o("4aa6");const Fi=ht()(zi,[["render",ki],["__scopeId","data-v-660c2d18"]]);var Hi=Fi;function Ui(e,t,o,i,r,c){return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",{onClick:t[0]||(t[0]=(...e)=>i.switchVal&&i.switchVal(...e)),class:Object(n["normalizeClass"])(["my-switch",o.modelValue?"open":"close"])},null,2)}var Wi={name:"",props:{modelValue:{type:Boolean}},setup(e,t){const o=Object(n["reactive"])({}),{proxy:i}=Object(n["getCurrentInstance"])();Object(n["onBeforeMount"])(()=>{}),Object(n["onMounted"])(()=>{});const r=()=>{i.$emit("update:modelValue",!e.modelValue),t.emit("change",!e.modelValue)},c=Object(n["toRefs"])(o);return{...c,switchVal:r}},methods:{}};o("f8a0");const Gi=ht()(Wi,[["render",Ui],["__scopeId","data-v-804911c4"]]);var Xi=Gi,Yi={name:"",components:{card:Qn,coutSee:Hi,xdSwitch:Xi},setup(){const e=Object(n["reactive"])({coutType:1,coutFace:["XY"],coutLight:"XY",showCoutFace:!1,openCout:!0,hideCout:!1,reverseCout:!1,openBigCout:!1}),t=Object(l["useStore"])(),{proxy:o,appContext:i}=Object(n["getCurrentInstance"])();Object(n["nextTick"])(()=>{i.config.globalProperties.$coutSelect=e}),Object(n["watch"])(()=>t.state.menuStore.coutMenu,e=>{if(!e)return;const t=ke._viewer.isSectionViewEnabled();t||d()}),o.$eventBus.on("closeCoutState",e=>{r(!1),m()}),o.$eventBus.on("shareCoutSub",t=>{e.coutFace=t.cutList,(!t.cutList||t.cutList.length<1)&&(e.coutFace=["XY"]),e.coutLight=t.active_cur||"XY",e.hideCout=!t.isCutoutShow,e.openCout=t.isCutout,e.reverseCout=t.isReverse}),Object(n["onMounted"])(()=>{});const r=t=>{t?ke.onSectionView(!0):(e.hideCout=!1,e.reverseCout=!1,e.openBigCout=!1,e.showCoutFace=!1,e.coutFace=["XY"],e.coutLight="XY",ke.onSectionView(!1)),v()},c=t=>{e.openCout||(e.openCout=!0,ke.onSectionView(!0)),setTimeout(()=>{ke._viewer.setActiveSectionPlane(e.coutLight),t?(ke.hideShowClipPlane(!1),B("coutFaceHide")):(ke.hideShowClipPlane(!0),B("coutFaceShow")),v()},100)},a=t=>{e.openCout||(e.openCout=!0,ke.onSectionView(!0)),setTimeout(()=>{ke._viewer.setActiveSectionPlane(e.coutLight),ke.reverseClipDirection(),e.hideCout&&ke.hideShowClipPlane(!1)},100),v(),B("reverseCout")},s=t=>{t?(e.openCout||(e.openCout=!0,ke.onSectionView(!0)),e.showCoutFace=!0):e.showCoutFace=!1,v()},d=()=>{e.openCout=!0,e.hideCout=!1,e.showCoutFace=!1,e.openBigCout=!1,e.coutFace=["XY"],e.coutLight="XY",e.reverseCout=!1,setTimeout(()=>{ke.onSectionView(!1),ke.onSectionView(!0),v()},100)},m=()=>{"cout"==t.state.menuStore.menuChoose&&t.commit("menuStore/setMenuChoose",""),t.commit("menuStore/setCoutMenu",!1)},u=t=>{if(!(e.coutFace.length<=1&&e.coutLight==t)){if(e.openCout||(e.openCout=!0,ke.onSectionView(!0)),e.coutFace.indexOf(t)>-1){if(e.coutFace.length<=1)return;t==e.coutLight?(e.coutFace=z(e.coutFace,t),ke._viewer.deleteSectionPlane(t),h(e.coutFace[0])):(e.coutFace=z(e.coutFace,t),ke._viewer.deleteSectionPlane(t),e.hideCout=!1)}else e.coutFace.push(t),ke._viewer.addSectionPlane(t),h(t),e.hideCout=!1;ke._viewer.setActiveSectionPlane(e.coutLight),v()}},h=t=>{e.coutLight!=t&&(e.openCout||(e.openCout=!0,ke.onSectionView(!0)),e.reverseCout=!1,e.hideCout=!1,e.coutLight=t,ke._viewer.setActiveSectionPlane(t),e.coutFace.indexOf(t)<0&&(e.coutFace.push(t),ke._viewer.addSectionPlane(t)),v())},p=t=>e.coutFace&&e.coutFace.includes(t),g=()=>{e.showCoutFace=!1,e.openBigCout=!1,nt.sendCenter(4)},v=()=>{const o={active_cur:e.coutLight,cutList:e.coutFace,cutType:"advanced",isBoxing:!1,isCutout:e.openCout,isCutoutShow:!e.hideCout,isReverse:e.reverseCout};t.commit("modelStore/setCoutShareInfo",o),nt.sendCenter(4)},b=Object(n["toRefs"])(e);return{...b,store:t,closeCout:m,chooseAxis:u,chooseAxisAll:h,judgeCludeChoose:p,closeSee:g,resetClick:d,openCountChange:r,hideCoutChange:c,reverseCoutChange:a,openBigChange:s}}};o("640d");const Ji=ht()(Yi,[["render",Hn],["__scopeId","data-v-39243521"]]);var Zi=Ji;const Ki=e=>(Object(n["pushScopeId"])("data-v-7915ce95"),e=e(),Object(n["popScopeId"])(),e),Qi={class:"btn-ul",id:"ico-distance-list"},qi={class:"return-menu"},er=Ki(()=>Object(n["createElementVNode"])("img",{src:wo.a},null,-1)),tr=[er],or={key:0,id:"ico-smartdis","track-name":"smartDis"},nr=["selected"],ir={key:1,id:"ico-pt2pt","track-name":"pointToPoint"},rr=["selected"],cr={key:2,id:"ico-pt2line","track-name":"pointToLine"},ar=["selected"],sr={key:3,id:"ico-pt2face","track-name":"pointToFace"},lr=["selected"],dr={key:4,id:"ico-line2line","track-name":"lineToLine"},mr=["selected"],ur={key:5,id:"ico-line2face","track-name":"lineToFace"},hr=["selected"],pr={key:6,id:"ico-face2face","track-name":"faceToFace"},gr=["selected"],vr={key:7,id:"ico-holeDist","track-name":"circleDistance"},br=["selected"],wr={key:8,id:"ico-axis2pt","track-name":"dotToPoint"},Sr=["selected"],Cr={key:9,id:"ico-axis2line","track-name":"dotToLine"},yr=["selected"],Or={key:10,id:"ico-axis2face","track-name":"dotToFace"},fr=["selected"];function jr(e,t,o,i,r,c){const a=Object(n["resolveDirective"])("click-track"),s=Object(n["resolveDirective"])("img-switch"),l=Object(n["resolveDirective"])("tooltip");return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",null,[Object(n["createElementVNode"])("ul",Qi,[Object(n["withDirectives"])((Object(n["openBlock"])(),Object(n["createElementBlock"])("li",qi,tr)),[[a,i.returnOneMenu]]),i.checkBtnExit("#ico-smartdis")?Object(n["withDirectives"])((Object(n["openBlock"])(),Object(n["createElementBlock"])("li",or,[Object(n["withDirectives"])(Object(n["createElementVNode"])("img",{selected:10===e.meterStartIdx},null,8,nr),[[s,["view-tool-smart","ico-smartdis"]]])])),[[a,i.smartDistance],[l,e.$t("pcMtxtSmartMeter")]]):Object(n["createCommentVNode"])("",!0),i.checkBtnExit("#ico-pt2pt")?Object(n["withDirectives"])((Object(n["openBlock"])(),Object(n["createElementBlock"])("li",ir,[Object(n["withDirectives"])(Object(n["createElementVNode"])("img",{selected:0===e.meterStartIdx},null,8,rr),[[s,["view-tool-pointToPoint","ico-pt2pt"]]])])),[[a,i.meterP2P],[l,e.$t("pcMtxtP2P")]]):Object(n["createCommentVNode"])("",!0),i.checkBtnExit("#ico-pt2line")?Object(n["withDirectives"])((Object(n["openBlock"])(),Object(n["createElementBlock"])("li",cr,[Object(n["withDirectives"])(Object(n["createElementVNode"])("img",{selected:1===e.meterStartIdx},null,8,ar),[[s,["view-tool-pointToLine","ico-pt2line"]]])])),[[a,i.meterP2L],[l,e.$t("pcMtxtP2L")]]):Object(n["createCommentVNode"])("",!0),i.checkBtnExit("#ico-pt2face")?Object(n["withDirectives"])((Object(n["openBlock"])(),Object(n["createElementBlock"])("li",sr,[Object(n["withDirectives"])(Object(n["createElementVNode"])("img",{selected:2===e.meterStartIdx},null,8,lr),[[s,["view-tool-pointToFace","ico-pt2face"]]])])),[[a,i.meterP2F],[l,e.$t("pcMtxtP2F")]]):Object(n["createCommentVNode"])("",!0),i.checkBtnExit("#ico-line2line")?Object(n["withDirectives"])((Object(n["openBlock"])(),Object(n["createElementBlock"])("li",dr,[Object(n["withDirectives"])(Object(n["createElementVNode"])("img",{selected:3===e.meterStartIdx},null,8,mr),[[s,["view-tool-lineToLine","ico-line2line"]]])])),[[a,i.meterL2L],[l,e.$t("pcMtxtL2L")]]):Object(n["createCommentVNode"])("",!0),i.checkBtnExit("#ico-line2face")?Object(n["withDirectives"])((Object(n["openBlock"])(),Object(n["createElementBlock"])("li",ur,[Object(n["withDirectives"])(Object(n["createElementVNode"])("img",{selected:4===e.meterStartIdx},null,8,hr),[[s,["view-tool-lineToFace","ico-line2face"]]])])),[[a,i.meterL2F],[l,e.$t("pcMtxtL2F")]]):Object(n["createCommentVNode"])("",!0),i.checkBtnExit("#ico-face2face")?Object(n["withDirectives"])((Object(n["openBlock"])(),Object(n["createElementBlock"])("li",pr,[Object(n["withDirectives"])(Object(n["createElementVNode"])("img",{selected:5===e.meterStartIdx},null,8,gr),[[s,["view-tool-faceToFace","ico-face2face"]]])])),[[a,i.meterF2F],[l,e.$t("pcMtxtF2F")]]):Object(n["createCommentVNode"])("",!0),i.checkBtnExit("#ico-holeDist")?Object(n["withDirectives"])((Object(n["openBlock"])(),Object(n["createElementBlock"])("li",vr,[Object(n["withDirectives"])(Object(n["createElementVNode"])("img",{selected:6===e.meterStartIdx},null,8,br),[[s,["view-tool-centreOfCircle","ico-holeDist"]]])])),[[a,i.meterCD],[l,e.$t("pcMtxtCpoint")]]):Object(n["createCommentVNode"])("",!0),i.checkBtnExit("#ico-axis2pt")?Object(n["withDirectives"])((Object(n["openBlock"])(),Object(n["createElementBlock"])("li",wr,[Object(n["withDirectives"])(Object(n["createElementVNode"])("img",{selected:7===e.meterStartIdx},null,8,Sr),[[s,["view-tool-holeToPoint","ico-axis2pt"]]])])),[[a,i.meterD2P],[l,e.$t("pcMtxtX2P")]]):Object(n["createCommentVNode"])("",!0),i.checkBtnExit("#ico-axis2line")?Object(n["withDirectives"])((Object(n["openBlock"])(),Object(n["createElementBlock"])("li",Cr,[Object(n["withDirectives"])(Object(n["createElementVNode"])("img",{selected:8===e.meterStartIdx},null,8,yr),[[s,["view-tool-holeToLine","ico-axis2line"]]])])),[[a,i.meterD2L],[l,e.$t("pcMtxtX2L")]]):Object(n["createCommentVNode"])("",!0),i.checkBtnExit("#ico-axis2face")?Object(n["withDirectives"])((Object(n["openBlock"])(),Object(n["createElementBlock"])("li",Or,[Object(n["withDirectives"])(Object(n["createElementVNode"])("img",{selected:9===e.meterStartIdx},null,8,fr),[[s,["view-tool-holeToFace","ico-axis2face"]]])])),[[a,i.meterD2F],[l,e.$t("pcMtxtX2F")]]):Object(n["createCommentVNode"])("",!0)])])}var xr={name:"",components:{},setup(){const e=Object(n["reactive"])({meterStartIdx:-1}),t=Object(l["useStore"])(),{proxy:o,appContext:i}=Object(n["getCurrentInstance"])();Object(n["nextTick"])(()=>{i.config.globalProperties.$diastanceBtn=e}),o.$eventBus.on("openTagPointSub",()=>{e.meterStartIdx=-1}),Object(n["onBeforeMount"])(()=>{}),Object(n["onMounted"])(()=>{});const r=()=>{ke.setMeasureOpType(""),t.commit("menuStore/setMenuChoose","meter"),t.commit("menuStore/setMenuChoose2",""),t.commit("menuStore/setShowManyConfig",!0),e.meterStartIdx=-1,nt.sendCenter(2),nt.sendCenter(3)},c=e=>ne(e),a=()=>{ke.setMeasureOpType("bodyDistance"),e.meterStartIdx=10,B("distanceSmart"),nt.sendCenter(2)},s=()=>{ke.setMeasureOpType("pt2pt"),e.meterStartIdx=0,B("pointToPoint"),nt.sendCenter(2)},d=()=>{ke.setMeasureOpType("PointToLine"),e.meterStartIdx=1,B("pointToLine"),nt.sendCenter(2)},m=()=>{ke.setMeasureOpType("PointToFace"),e.meterStartIdx=2,B("pointToFace"),nt.sendCenter(2)},u=()=>{ke.setMeasureOpType("LineToLine"),e.meterStartIdx=3,B("lineToLine"),nt.sendCenter(2)},h=()=>{ke.setMeasureOpType("LineToFace"),e.meterStartIdx=4,B("lineToFace"),nt.sendCenter(2)},p=()=>{ke.setMeasureOpType("faceDist"),e.meterStartIdx=5,B("faceToFace"),nt.sendCenter(2)},g=()=>{ke.setMeasureOpType("holeDist"),e.meterStartIdx=6,B("circleDistance"),nt.sendCenter(2)},v=()=>{ke.setMeasureOpType("AxisToPoint"),e.meterStartIdx=7,B("dotToPoint"),nt.sendCenter(2)},b=()=>{ke.setMeasureOpType("AxisToLine"),e.meterStartIdx=8,B("dotToLine"),nt.sendCenter(2)},w=()=>{ke.setMeasureOpType("AxisToFace"),e.meterStartIdx=9,B("dotToFace"),nt.sendCenter(2)},S=Object(n["toRefs"])(e);return{returnOneMenu:r,checkBtnExit:c,smartDistance:a,meterP2P:s,meterP2L:d,meterP2F:m,meterL2L:u,meterL2F:h,meterF2F:p,meterCD:g,meterD2P:v,meterD2L:b,meterD2F:w,...S}}};o("dd43");const Tr=ht()(xr,[["render",jr],["__scopeId","data-v-7915ce95"]]);var Mr=Tr;const Dr=e=>(Object(n["pushScopeId"])("data-v-3e5917e4"),e=e(),Object(n["popScopeId"])(),e),Er={class:"btn-ul",id:"ico-length-list"},kr={class:"return-menu"},Br=Dr(()=>Object(n["createElementVNode"])("img",{src:wo.a},null,-1)),Nr=[Br],Ar={key:0,id:"ico-smartlen","track-name":"smartLen"},_r=["selected"],Ir={key:1,id:"ico-edges","track-name":"meterLine"},Vr=["selected"],Pr={key:2,id:"ico-perimeter","track-name":"circleLength"},Lr=["selected"];function $r(e,t,o,i,r,c){const a=Object(n["resolveDirective"])("click-track"),s=Object(n["resolveDirective"])("img-switch"),l=Object(n["resolveDirective"])("tooltip");return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",null,[Object(n["createElementVNode"])("ul",Er,[Object(n["withDirectives"])((Object(n["openBlock"])(),Object(n["createElementBlock"])("li",kr,Nr)),[[a,i.returnOneMenu]]),i.checkBtnExit("#ico-smartlen")?Object(n["withDirectives"])((Object(n["openBlock"])(),Object(n["createElementBlock"])("li",Ar,[Object(n["withDirectives"])(Object(n["createElementVNode"])("img",{selected:10===e.meterStartIdx},null,8,_r),[[s,["view-tool-smart","ico-smartlen"]]])])),[[a,i.smartLength],[l,e.$t("pcMtxtSmartMeter")]]):Object(n["createCommentVNode"])("",!0),i.checkBtnExit("#ico-edges")?Object(n["withDirectives"])((Object(n["openBlock"])(),Object(n["createElementBlock"])("li",Ir,[Object(n["withDirectives"])(Object(n["createElementVNode"])("img",{selected:0===e.meterStartIdx},null,8,Vr),[[s,["view-tool-lineMeasure","ico-edges"]]])])),[[a,i.meterLine],[l,e.$t("pcMtxtLmeter")]]):Object(n["createCommentVNode"])("",!0),i.checkBtnExit("#ico-perimeter")?Object(n["withDirectives"])((Object(n["openBlock"])(),Object(n["createElementBlock"])("li",Pr,[Object(n["withDirectives"])(Object(n["createElementVNode"])("img",{selected:1===e.meterStartIdx},null,8,Lr),[[s,["view-tool-perimeter","ico-perimeter"]]])])),[[a,i.meterCL],[l,e.$t("pcMtxtPmeter")]]):Object(n["createCommentVNode"])("",!0)])])}const Rr={class:"line-content"},zr={class:"table-header"},Fr={class:"tb-header-lf"},Hr={class:"table-content tb-ul"};function Ur(e,t,o,i,r,c){const a=Object(n["resolveComponent"])("card");return Object(n["openBlock"])(),Object(n["createBlock"])(a,{onClose:i.close,class:"ndp3-my-page girth-card"},{header:Object(n["withCtx"])(()=>[Object(n["createElementVNode"])("div",null,Object(n["toDisplayString"])(e.$t("circleLength"))+"("+Object(n["toDisplayString"])(e.unitDensitySwitch)+")",1)]),default:Object(n["withCtx"])(()=>[Object(n["createElementVNode"])("div",Rr,[Object(n["createElementVNode"])("div",zr,[Object(n["createElementVNode"])("p",Fr,Object(n["toDisplayString"])(e.$t("noTxt")),1),Object(n["createElementVNode"])("p",null,Object(n["toDisplayString"])(e.$t("sizeTxt")),1)]),Object(n["createElementVNode"])("div",Hr,[(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(e.perimeters,(e,t)=>(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",{class:"tb-li",key:t},[Object(n["createElementVNode"])("p",null,Object(n["toDisplayString"])(t+1),1),Object(n["createElementVNode"])("span",null,Object(n["toDisplayString"])(e),1)]))),128))])])]),_:1},8,["onClose"])}var Wr={name:"",components:{card:Qn},setup(){const e=Object(n["reactive"])({perimeters:[],unitDensitySwitch:""}),t=Object(l["useStore"])(),{proxy:o,appContext:i}=Object(n["getCurrentInstance"])();Object(n["nextTick"])(()=>{i.config.globalProperties.$girthCom=e}),o.$eventBus.on("VolumnChange",o=>{if("lengthGirth"==t.state.menuStore.menuChoose3){if(!nt.judgeCanWatch())return;e.unitDensitySwitch=K(o.modelUnit),e.perimeters=o.perimeters,e.perimeters.length>0?t.commit("menuStore/setGrithMenu",!0):t.commit("menuStore/setGrithMenu",!1),nt.sendCenter(3),nt.sendCenter(4)}}),Object(n["onBeforeMount"])(()=>{}),Object(n["onMounted"])(()=>{});const r=()=>{t.commit("menuStore/setGrithMenu",!1)},c=Object(n["toRefs"])(e);return{...c,close:r}}};o("51e7");const Gr=ht()(Wr,[["render",Ur],["__scopeId","data-v-45106623"]]);var Xr=Gr,Yr={name:"",components:{grith:Xr},setup(){const e=Object(n["reactive"])({meterStartIdx:-1}),t=Object(l["useStore"])(),{proxy:o,appContext:i}=Object(n["getCurrentInstance"])();Object(n["nextTick"])(()=>{i.config.globalProperties.$lengthBtn=e}),o.$eventBus.on("openTagPointSub",()=>{e.meterStartIdx=-1}),Object(n["onBeforeMount"])(()=>{}),Object(n["onMounted"])(()=>{});const r=()=>{ke.setMeasureOpType(""),t.commit("menuStore/setMenuChoose","meter"),t.commit("menuStore/setMenuChoose2",""),t.commit("menuStore/setMenuChoose3",""),t.commit("menuStore/setGrithMenu",!1),e.meterStartIdx=-1,nt.sendCenter(2),nt.sendCenter(3)},c=e=>ne(e),a=()=>{ke.setMeasureOpType("bodyEdgeLength"),e.meterStartIdx=10,t.commit("menuStore/setMenuChoose3","lengthSmart"),t.commit("menuStore/setGrithMenu",!1),B("lengthSmart"),nt.sendCenter(2)},s=()=>{ke.setMeasureOpType("measureEdges"),t.commit("menuStore/setMenuChoose3","lengthLine"),e.meterStartIdx=0,t.commit("menuStore/setGrithMenu",!1),B("meterLine"),nt.sendCenter(2)},d=()=>{ke.setMeasureOpType("facePerimeter"),t.commit("menuStore/setMenuChoose3","lengthGirth"),e.meterStartIdx=1,B("circleLength"),nt.sendCenter(2)},m=Object(n["toRefs"])(e);return{returnOneMenu:r,checkBtnExit:c,smartLength:a,meterLine:s,meterCL:d,...m}}};o("58d7");const Jr=ht()(Yr,[["render",$r],["__scopeId","data-v-3e5917e4"]]);var Zr=Jr;const Kr=e=>(Object(n["pushScopeId"])("data-v-36a8e10a"),e=e(),Object(n["popScopeId"])(),e),Qr={class:"btn-ul",id:"ico-angle-list"},qr={class:"return-menu"},ec=Kr(()=>Object(n["createElementVNode"])("img",{src:wo.a},null,-1)),tc=[ec],oc={key:0,id:"ico-smartang","track-name":"smartAng"},nc=["selected"],ic={key:1,id:"ico-lineAngel","track-name":"lineToAngle"},rc=["selected"],cc={key:2,id:"ico-faceAngle","track-name":"faceToAngle"},ac=["selected"],sc={key:3,id:"ico-linefaceAngle","track-name":"lineToFaceAngle"},lc=["selected"];function dc(e,t,o,i,r,c){const a=Object(n["resolveDirective"])("click-track"),s=Object(n["resolveDirective"])("img-switch"),l=Object(n["resolveDirective"])("tooltip");return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",null,[Object(n["createElementVNode"])("ul",Qr,[Object(n["withDirectives"])((Object(n["openBlock"])(),Object(n["createElementBlock"])("li",qr,tc)),[[a,i.returnOneMenu]]),i.checkBtnExit("#ico-smartang")?Object(n["withDirectives"])((Object(n["openBlock"])(),Object(n["createElementBlock"])("li",oc,[Object(n["withDirectives"])(Object(n["createElementVNode"])("img",{selected:10===e.meterStartIdx},null,8,nc),[[s,["view-tool-smart","ico-smartang"]]])])),[[a,i.smartAngle],[l,e.$t("pcMtxtSmartMeter")]]):Object(n["createCommentVNode"])("",!0),i.checkBtnExit("#ico-lineAngel")?Object(n["withDirectives"])((Object(n["openBlock"])(),Object(n["createElementBlock"])("li",ic,[Object(n["withDirectives"])(Object(n["createElementVNode"])("img",{selected:0===e.meterStartIdx},null,8,rc),[[s,["view-tool-lineAngle","ico-lineAngel"]]])])),[[a,i.meterL2A],[l,e.$t("pcMtxtAngleL")]]):Object(n["createCommentVNode"])("",!0),i.checkBtnExit("#ico-faceAngle")?Object(n["withDirectives"])((Object(n["openBlock"])(),Object(n["createElementBlock"])("li",cc,[Object(n["withDirectives"])(Object(n["createElementVNode"])("img",{selected:1===e.meterStartIdx},null,8,ac),[[s,["view-tool-surfaceAngle","ico-faceAngle"]]])])),[[a,i.meterF2A],[l,e.$t("pcMtxtAngleF")]]):Object(n["createCommentVNode"])("",!0),i.checkBtnExit("#ico-linefaceAngle")?Object(n["withDirectives"])((Object(n["openBlock"])(),Object(n["createElementBlock"])("li",sc,[Object(n["withDirectives"])(Object(n["createElementVNode"])("img",{selected:2===e.meterStartIdx},null,8,lc),[[s,["view-tool-lineSurfaceAngle","ico-linefaceAngle"]]])])),[[a,i.meterL2FA],[l,e.$t("pcMtxtAngleLF")]]):Object(n["createCommentVNode"])("",!0)])])}var mc={name:"",components:{},setup(){const e=Object(n["reactive"])({meterStartIdx:-1}),t=Object(l["useStore"])(),{proxy:o,appContext:i}=Object(n["getCurrentInstance"])();Object(n["nextTick"])(()=>{i.config.globalProperties.$angleBtn=e}),o.$eventBus.on("openTagPointSub",()=>{e.meterStartIdx=-1}),Object(n["onBeforeMount"])(()=>{}),Object(n["onMounted"])(()=>{});const r=()=>{ke.setMeasureOpType(""),t.commit("menuStore/setMenuChoose","meter"),t.commit("menuStore/setMenuChoose2",""),e.meterStartIdx=-1,nt.sendCenter(2)},c=e=>ne(e),a=()=>{ke.setMeasureOpType("bodyAngle"),e.meterStartIdx=10,B("angleSmart"),nt.sendCenter(2)},s=()=>{ke.setMeasureOpType("LineAngle"),e.meterStartIdx=0,B("lineToAngle"),nt.sendCenter(2)},d=()=>{ke.setMeasureOpType("faceAngle"),e.meterStartIdx=1,B("faceToAngle"),nt.sendCenter(2)},m=()=>{ke.setMeasureOpType("LineFaceAngle"),e.meterStartIdx=2,B("lineToFaceAngle"),nt.sendCenter(2)},u=Object(n["toRefs"])(e);return{returnOneMenu:r,checkBtnExit:c,smartAngle:a,meterL2A:s,meterF2A:d,meterL2FA:m,...u}}};o("1c56");const uc=ht()(mc,[["render",dc],["__scopeId","data-v-36a8e10a"]]);var hc=uc;const pc=e=>(Object(n["pushScopeId"])("data-v-5adc0156"),e=e(),Object(n["popScopeId"])(),e),gc={class:"btn-ul",id:"ico-drag-list"},vc={class:"return-menu"},bc=pc(()=>Object(n["createElementVNode"])("img",{src:wo.a},null,-1)),wc=[bc],Sc={key:0,id:"ico-dragMove","track-name":"singleDrag"},Cc=["selected"],yc={key:1,id:"ico-dragRestore","track-name":"singleDragResert"},Oc=["selected"],fc={key:2,id:"ico-dragRestoreAll","track-name":"allDragResert"};function jc(e,t,o,i,r,c){const a=Object(n["resolveDirective"])("click-track"),s=Object(n["resolveDirective"])("img-switch"),l=Object(n["resolveDirective"])("tooltip");return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",null,[Object(n["createElementVNode"])("ul",gc,[Object(n["withDirectives"])((Object(n["openBlock"])(),Object(n["createElementBlock"])("li",vc,wc)),[[a,i.returnOneMenu]]),i.checkBtnExit("#ico-dragMove")?Object(n["withDirectives"])((Object(n["openBlock"])(),Object(n["createElementBlock"])("li",Sc,[Object(n["withDirectives"])(Object(n["createElementVNode"])("img",{selected:0===e.dragMode},null,8,Cc),[[s,["view-tool-singalDrag","ico-dragMove"]]])])),[[a,i.drawSingle],[l,e.$t("singleDrag")]]):Object(n["createCommentVNode"])("",!0),i.checkBtnExit("#ico-dragRestore")?Object(n["withDirectives"])((Object(n["openBlock"])(),Object(n["createElementBlock"])("li",yc,[Object(n["withDirectives"])(Object(n["createElementVNode"])("img",{selected:1===e.dragMode},null,8,Oc),[[s,["view-tool-singalReset","ico-dragRestore"]]])])),[[a,i.singleDragResert],[l,e.$t("singleDragResert")]]):Object(n["createCommentVNode"])("",!0),i.checkBtnExit("#ico-dragRestoreAll")?Object(n["withDirectives"])((Object(n["openBlock"])(),Object(n["createElementBlock"])("li",fc,[Object(n["withDirectives"])(Object(n["createElementVNode"])("img",null,null,512),[[s,["view-tool-allReset","ico-dragRestoreAll"]]])])),[[a,i.allDragResert],[l,e.$t("allDragResert")]]):Object(n["createCommentVNode"])("",!0)])])}var xc={name:"",components:{},setup(){const e=Object(n["reactive"])({dragMode:-1}),t=Object(l["useStore"])(),{proxy:o,appContext:i}=Object(n["getCurrentInstance"])();Object(n["nextTick"])(()=>{i.config.globalProperties.$drawBtn=e}),Object(n["onBeforeMount"])(()=>{}),Object(n["onMounted"])(()=>{o.$eventBus.on("openTagPointSub",()=>{e.dragMode>-1&&(ke._viewer.showprompt(!1),e.dragMode=-1)}),o.$eventBus.on("cfgSwitchSub",()=>{e.dragMode>-1&&(ke._viewer.showprompt(!1),e.dragMode=-1)}),o.$eventBus.on("closeDrag",()=>{d(),"draw"==t.state.menuStore.menuChoose&&r()})});const r=()=>{e.dragMode=-1,t.commit("menuStore/setShowOneMenu",!0),t.commit("menuStore/setMenuChoose",""),ke._viewer.showprompt(!1),ke.clearSelection(),ke.setOperatorByID("OpOrbit"),nt.sendCenter(2)},c=e=>ne(e),a=()=>{ke.setPmiVisible(!1),ke._viewer.showprompt(!0,o.$t("pcClickSurePart")),e.dragMode=0,ke.onSelectAndMoveModel(),B("singleDrag"),nt.sendCenter(2)},s=()=>{e.dragMode=1,ke._viewer.showprompt(!0,o.$t("pcClickSurePart")),ke.onSelectAndRestoreModel(),B("singleDragResert"),nt.sendCenter(2)},d=()=>{ke._viewer.showprompt(!1),e.dragMode=2,ke.restoreAllDraggedObjects(),B("allDragResert"),nt.sendCenter(2)},m=Object(n["toRefs"])(e);return{returnOneMenu:r,checkBtnExit:c,drawSingle:a,singleDragResert:s,allDragResert:d,...m}}};o("7d74");const Tc=ht()(xc,[["render",jc],["__scopeId","data-v-5adc0156"]]);var Mc=Tc;const Dc=e=>(Object(n["pushScopeId"])("data-v-9ea8f424"),e=e(),Object(n["popScopeId"])(),e),Ec={class:"btn-ul",id:"ico-property-list"},kc={class:"return-menu"},Bc=Dc(()=>Object(n["createElementVNode"])("img",{src:wo.a},null,-1)),Nc=[Bc],Ac={key:0,id:"ico-proEntity",class:"zhidingshiti","track-name":"selectToObj"},_c=["selected"],Ic={key:1,id:"ico-proTotal",class:"zongshuxing","track-name":"totalAttr"},Vc=["selected"];function Pc(e,t,o,i,r,c){const a=Object(n["resolveDirective"])("click-track"),s=Object(n["resolveDirective"])("img-switch"),l=Object(n["resolveDirective"])("tooltip");return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",null,[Object(n["createElementVNode"])("ul",Ec,[Object(n["withDirectives"])((Object(n["openBlock"])(),Object(n["createElementBlock"])("li",kc,Nc)),[[a,i.returnOneMenu]]),i.checkBtnExit("#ico-proEntity")?Object(n["withDirectives"])((Object(n["openBlock"])(),Object(n["createElementBlock"])("li",Ac,[Object(n["withDirectives"])(Object(n["createElementVNode"])("img",{selected:"attrSingle"==i.menuStore.menuChoose3},null,8,_c),[[s,["view-tool-specifyEntityAttr","ico-proEntity"]]])])),[[a,i.meterATSO],[l,e.$t("pcMtxtToSingle")]]):Object(n["createCommentVNode"])("",!0),i.checkBtnExit("#ico-proTotal")?Object(n["withDirectives"])((Object(n["openBlock"])(),Object(n["createElementBlock"])("li",Ic,[Object(n["withDirectives"])(Object(n["createElementVNode"])("img",{selected:"attrAll"==i.menuStore.menuChoose3},null,8,Vc),[[s,["view-tool-totalAttr","ico-proTotal"]]])])),[[a,i.meterATTA],[l,e.$t("pcMtxtToAllAttr")]]):Object(n["createCommentVNode"])("",!0)])])}var Lc={name:"",components:{},setup(){const e=Object(n["reactive"])({saveAttrType:""}),t=Object(l["useStore"])(),{menuStore:o}=t.state,{proxy:i,appContext:r}=Object(n["getCurrentInstance"])();Object(n["nextTick"])(()=>{r.config.globalProperties.$property=i}),i.$eventBus.on("openTagPointSub",()=>{ke._viewer.showprompt(!1),t.commit("menuStore/setMenuChoose3","")}),Object(n["onBeforeMount"])(()=>{}),Object(n["onMounted"])(()=>{});const c=()=>{ke._viewer.showprompt(!1),t.commit("menuStore/setAttrMenu",!1),t.commit("menuStore/setShowOneMenu",!0),t.commit("menuStore/setMenuChoose",""),t.commit("menuStore/setMenuChoose3",""),nt.sendCenter(2),nt.sendCenter(3)},a=e=>ne(e),s=()=>{ke._viewer.showprompt(!0,i.$t("pcCursorTip")),t.commit("menuStore/setCoutMenu",!1),t.commit("menuStore/setMenuChoose3","attrSingle"),t.commit("menuStore/setPreAttrType","attrSingle"),"attrSingle"!=t.state.menuChoose3&&ke.clearSelection(),t.commit("menuStore/setAttrMenu",!1),e.saveAttrType="attrSingle",B("singleAttr"),nt.sendCenter(2),nt.sendCenter(3)},d=()=>{ke._viewer.showprompt(!1),t.commit("menuStore/setAttrMenu",!0),t.commit("menuStore/setCoutMenu",!1),t.commit("menuStore/setMenuChoose3","attrAll"),t.commit("menuStore/setPreAttrType","attrAll"),e.saveAttrType="attrAll",B("totalAttr"),nt.sendCenter(2),nt.sendCenter(3)},m=Object(n["toRefs"])(e);return{returnOneMenu:c,checkBtnExit:a,menuStore:o,meterATSO:s,meterATTA:d,...m}}};o("27f8");const $c=ht()(Lc,[["render",Pc],["__scopeId","data-v-9ea8f424"]]);var Rc=$c;const zc={class:"tag-write-icon dialog_header"};function Fc(e,t,o,i,r,c){const a=Object(n["resolveDirective"])("drag");return Object(n["withDirectives"])((Object(n["openBlock"])(),Object(n["createElementBlock"])("div",{class:Object(n["normalizeClass"])([{hhiden:e.isLoading},"tag-write-card"])},[Object(n["createElementVNode"])("div",zc,[Object(n["createElementVNode"])("div",{class:"can-click",onClick:t[0]||(t[0]=Object(n["withModifiers"])((...e)=>i.openTag&&i.openTag(...e),["prevent","stop"])),onMousedown:t[1]||(t[1]=Object(n["withModifiers"])(()=>{},["prevent","stop"])),onMousemove:t[2]||(t[2]=Object(n["withModifiers"])(()=>{},["prevent","stop"]))},null,32)])],2)),[[n["vShow"],e.showWrite],[a]])}var Hc={name:"",setup(e,t){const o=Object(n["reactive"])({isLoading:!0,showWrite:!1}),{proxy:i}=(Object(l["useStore"])(),Object(n["getCurrentInstance"])());Object(n["onBeforeMount"])(()=>{}),Object(n["onMounted"])(()=>{i.$eventBus.on("loadComplete",()=>{o.isLoading=!1}),"sync"==nd_viewCtrl.viewMode&&(o.showWrite=!0)});const r=()=>{t.emit("tagClick")},c=Object(n["toRefs"])(o);return{openTag:r,...c}}};o("d206");const Uc=ht()(Hc,[["render",Fc],["__scopeId","data-v-8ed81b34"]]);var Wc=Uc,Gc={name:"",components:{meterBtn:Bo,tagBtn:zo,settingsBtn:rn,showHideBtn:fn,coutSelect:Zi,distanceBtn:Mr,lengthBtn:Zr,angleBtn:hc,drawBtn:Mc,attrChooseBtn:Rc,tagWrite:Wc,TagWrite:Wc},setup(e,t){const o=Object(n["reactive"])({pmiShowAsync:!1,isPMIVisible:!1,pmiSetShowAsync:!1,isAddcolor:!1,showDrag:!1,showAttr:!1,resizeTimer:null,overButtom:!1,isBottomRight:!1,pmiBtnShow:!1}),i=Object(l["useStore"])(),{menuStore:r,modelStore:c}=i.state,{proxy:a,appContext:s}=Object(n["getCurrentInstance"])();Object(n["nextTick"])(()=>{s.config.globalProperties.$bottomBtn=a}),Object(n["watch"])(()=>r.menuChoose,(e,t)=>{a.$eventBus.emit("rigthClickEvent",{showPop:!1});const o=["explode","tag","meter","none"];o.includes(e)||a.$tag.tcChecktag?i.commit("menuStore/setShowManyConfig",!1):i.commit("menuStore/setShowManyConfig",!0);const n=["tag","meter","cout","none"];if(!n.includes(e)){const e=ke._viewer.isSectionViewEnabled(),t=i.state.tagStore.tagShow;t&&ke._viewer.setAnnotationsVisibility(e?0:1)}"tag"!=t||e||ke._viewer.displayViewBox(!0),"pmi"==t&&e&&i.commit("menuStore/setPmiMenu",!1)}),Object(n["watch"])(()=>c.isShowPmi,e=>{o.isPMIVisible=e}),Object(n["watch"])(()=>c.isAddColor,e=>{o.isAddcolor=e}),Object(n["watch"])(()=>r.menuChoose3,(e,t)=>{"volumeWeight"==e||"areaEntity"==e?i.commit("menuStore/setStructEasyMenu",!0):i.commit("menuStore/setStructEasyMenu",!1)}),Object(n["watch"])(()=>r.showOneMenu,e=>{e?ke._viewer.onChangeCursor("OpOrbit"):ke._viewer.onChangeCursor("")});let d=Object(n["computed"])(()=>o.pmiSetShowAsync?a.$t("pmiTxt1"):o.isPMIVisible?a.$t("pmiHide"):a.$t("pmiShow"));Object(n["onMounted"])(()=>{a.$eventBus.on("loadComplete",()=>{const e=w();window.ndViewer=ke._viewer,Y(e),g(),o.isPMIVisible=ke._viewer.pmiVisible,window.addEventListener("resize",m),m()})});const m=()=>{clearTimeout(o.resizeTimer),o.resizeTimer=setTimeout(()=>{const e=$("#bottomMainMenu li"),t=$("#vueMain");t.width()<950&&e.length>10?(u("reset"),o.overButtom=!0):(p(),o.overButtom=!1)},200)},u=e=>{(o.isBottomRight||"reset"==e)&&Ie.hideRightBottom(()=>{o.isBottomRight=!1})},h=e=>{o.isBottomRight&&"reset"!=e||Ie.hideLeftBottom(()=>{o.isBottomRight=!0})},p=()=>{Ie.showAllBottom(()=>{o.overButtom=!1})},g=()=>{const e=ke._viewer.isAssemblyPmi()&&ke._viewer.isPartPmi();e&&(o.pmiSetShowAsync=!0)},v=e=>("#ico-measure"!=e||!i.state.modelStore.hideItem.measure)&&(("#ico-structure"!=e||!i.state.modelStore.hideItem.structTree)&&(("#ico-pmi"!=e||!i.state.modelStore.hideItem.pmi)&&ne(e))),b=()=>{i.state.modelStore._geometryload&&(i.commit("menuStore/setShowOneMenu",!1),i.commit("menuStore/setMenuChoose","settingShow"),ke._viewer.setOperatorByID("OpOrbit"),ke.onSectionView(!1),G(),nt.sendCenter(2),nt.sendCenter(3))},S=(e,t)=>{if(!i.state.modelStore._geometryload)return;i.commit("menuStore/setShowOneMenu",!1),i.commit("menuStore/setMenuChoose","tag"),ke.clearSelection(),ke._viewer.setOperatorByID("OpOrbit"),ke.onSectionView(!1),ke._viewer.displayViewBox(!1),ke._viewer.setAnnotationsVisibility(0);const o=document.getElementById("tagTooltips");o&&(o.style.display="none"),nt.sendCenter(1),G(),a.$eventBus.emit("addtagEvent",t),B("pcMtxtTagTxtImg")},C=()=>{i.state.modelStore._geometryload&&(i.commit("menuStore/setShowOneMenu",!1),i.commit("menuStore/setMenuChoose","meter"),ke._viewer.setAnnotationsVisibility(0),ke.setOperatorByID("OpMeasure"),ke.clearSelection(),ke._viewer.onCloseClipControl(),G(),nt.sendCenter(2),nt.sendCenter(3))},y=()=>{i.state.modelStore._geometryload&&(i.state.menuStore.coutMenu||(i.commit("menuStore/setMenuChoose","cout"),i.commit("menuStore/setMenuChoose2",""),i.commit("menuStore/setMenuChoose3","")),ke.clearSelection(),ke._viewer.setOperatorByID("OpOrbit"),i.commit("menuStore/setStructMenu",!1),i.commit("menuStore/setCoutMenu",!0),i.commit("menuStore/setAttrMenu",!1),i.commit("menuStore/setUnitMenu",!1),i.commit("menuStore/setSettingsMenu",!1),ke._viewer.setSectionImageFlag(!0),ke.restoreAllDraggedObjects(),i.commit("modelStore/setBombScale",0),ke.onExplode(0),ke._viewer.setAnnotationsVisibility(0),B("coutObj"),setTimeout(()=>{nt.sendCenter(2),nt.sendCenter(3)}))},O=()=>{i.state.modelStore._geometryload&&"explode"!=i.state.menuStore.menuChoose&&(i.commit("menuStore/setMenuChoose","explode"),i.commit("expStore/setShowExplode",!0),i.commit("modelStore/setIsShowPmi",!1),ke.setPmiVisible(!1),ke._viewer.setOperatorByID("OpOrbit"),ke.clearSelection(),ke.onSectionView(!1),a.$eventBus.emit("closePmiSetSub"),G(),nt.sendCenter(2),nt.sendCenter(3),setTimeout(()=>{nt.sendCenter(4)}))},f=()=>{if(i.state.modelStore._geometryload&&(!i.state.menuStore.structMenu||"explode"!=i.state.menuStore.menuChoose)){if(i.state.menuStore.structMenu)return i.commit("menuStore/setMenuChoose",""),i.commit("menuStore/setStructMenu",!1),nt.sendCenter(2),void nt.sendCenter(3);i.commit("menuStore/setMenuChoose","struct"),i.commit("menuStore/setMenuChoose2",""),i.commit("menuStore/setMenuChoose3",""),i.commit("menuStore/setCoutMenu",!1),i.commit("menuStore/setStructMenu",!0),i.commit("menuStore/setSettingsMenu",!1),i.commit("menuStore/setPmiMenu",!1),ke.onSectionView(!1),ke._viewer.setOperatorByID("OpOrbit"),a.$eventBus.emit("closeCfg"),B("structureTree"),nt.sendCenter(2),nt.sendCenter(3),setTimeout(()=>{nt.sendCenter(5)},100)}},j=()=>{i.state.modelStore._geometryload&&(i.commit("menuStore/setMenuChoose","attr"),i.commit("menuStore/setShowOneMenu",!1),i.commit("menuStore/setAttrMenu",!1),i.commit("menuStore/setCoutMenu",!1),i.commit("menuStore/setStructMenu",!1),i.commit("menuStore/setUnitMenu",!1),i.commit("menuStore/setSettingsMenu",!1),i.commit("menuStore/setPmiMenu",!1),i.commit("menuStore/setMenuChoose3",""),ke._viewer.setOperatorByID("OpOrbit"),ke.clearSelection(),ke.onSectionView(!1),nt.sendCenter(2),nt.sendCenter(3))},x=()=>{i.state.modelStore._geometryload&&(i.commit("menuStore/setShowOneMenu",!1),i.commit("menuStore/setMenuChoose","showHide"),ke.onSectionView(!1),ke.clearSelection(),ke._viewer.setOperatorByID("OpOrbit"),G(),nt.sendCenter(2),nt.sendCenter(3))},T=()=>{i.state.modelStore._geometryload&&(i.commit("menuStore/setShowOneMenu",!1),i.commit("menuStore/setMenuChoose","draw"),ke.setOperatorByID("drag"),ke.onSectionView(!1),ke.clearSelection(),ke._viewer.setOperatorByID("OpOrbit"),ke.onBoxSectionView(!1),ke.closeClipControl(),i.commit("modelStore/setIsShowPmi",!1),ke.setPmiVisible(!1),a.$eventBus.emit("closePmiSetSub"),G(),nt.sendCenter(2),nt.sendCenter(3))},M=()=>{i.state.modelStore._geometryload&&(ke.onSectionView(!1),ke.onBoxSectionView(!1),ke.closeClipControl(),ke._viewer.setOperatorByID("OpOrbit"),i.commit("menuStore/setMenuChoose","pmi"),!o.isPMIVisible&&i.state.modelStore.bombScale||(i.commit("modelStore/setIsShowPmi",o.isPMIVisible),o.isPMIVisible=!o.isPMIVisible,ke.setPmiVisible(o.isPMIVisible),i.commit("modelStore/setIsShowPmi",o.isPMIVisible),B(o.isPMIVisible?"pmiShow":"pmiHide"),G(),nt.sendCenter(2),nt.sendCenter(3),nt.sendCenter(4)))},D=()=>{i.state.modelStore._geometryload&&("iconPlus"!=r.menuChoose?(i.commit("menuStore/setMenuChoose","iconPlus"),ke.onSectionView(!1),ke._viewer.setOperatorByID("OpZoomWindow"),B("pcMtxtIplus")):(i.commit("menuStore/setMenuChoose",""),ke._viewer.setOperatorByID("OpOrbit")),G(),nt.sendCenter(2),nt.sendCenter(3))},E=()=>{i.state.modelStore._geometryload&&(i.state.menuStore.attrMenu||(ke._viewer.setOperatorByID("OpOrbit"),ke.onSectionView(!1),i.commit("menuStore/setCoutMenu",!1),"unitChange"!=r.menuChoose?(i.commit("menuStore/setMenuChoose","unitChange"),i.commit("menuStore/setUnitMenu",!0)):(i.commit("menuStore/setMenuChoose",""),i.commit("menuStore/setUnitMenu",!1)),nt.sendCenter(2),nt.sendCenter(3)))},k=()=>{if(!i.state.modelStore._geometryload)return;const e=c.nowConfig,t=c.autoColorHex,o=c.partAddColor,n=t[e];if(ke._viewer.setOperatorByID("OpOrbit"),i.commit("menuStore/setMenuChoose",""),i.commit("menuStore/setColorMenu",!1),G(),n)ke._viewer.autoChangeObjectColor(!1),t[e]="",o[e]="",i.commit("modelStore/setAutoColorHex",t),i.commit("modelStore/sertPartAddColor",o),nd_viewCtrl.shareInfo&&(nd_viewCtrl.shareInfo.autoColorHex=!1),nd_viewCtrl.shareInfo&&(nd_viewCtrl.shareInfo.partAddColor={}),B("colorTxt2");else{const n=ke._viewer.autoChangeObjectColor(!0);t[e]=n,o[e]={},i.commit("modelStore/setAutoColorHex",t),i.commit("modelStore/sertPartAddColor",o),B("colorTxt1")}nt.sendCenter(2),nt.sendCenter(3),nt.sendCenter(4)},N=()=>{i.state.modelStore._geometryload&&(ke._viewer.setOperatorByID("OpOrbit"),ke.onSectionView(!1),G(),i.commit("menuStore/setCoutMenu",!1),i.commit("menuStore/setMenuChoose","settings"),i.commit("menuStore/setSettingsMenu",!r.settingsMenu),nt.sendCenter(2),nt.sendCenter(3))},A=()=>{i.commit("menuStore/setMenuChoose","attr"),i.commit("menuStore/setAttrMenu",!0),i.commit("menuStore/setCoutMenu",!1),i.commit("menuStore/setMenuChoose3","attrSingle"),ke.onSectionView(!1)},_=()=>{i.commit("menuStore/setMenuChoose","attr"),i.commit("menuStore/setAttrMenu",!0),i.commit("menuStore/setCoutMenu",!1),i.commit("menuStore/setMenuChoose3","attrAll"),ke.onSectionView(!1)},I=()=>{F(),i.commit("menuStore/setMenuChoose3","dragSingle"),ke.setPmiVisible(!1),ke.onSelectAndMoveModel(),B("singleDrag")},V=()=>{F(),i.commit("menuStore/setMenuChoose3","dragSingleReset"),ke.onSelectAndRestoreModel(),B("singleDragResert")},P=()=>{F(),i.commit("menuStore/setMenuChoose3","dragAllReset"),ke.restoreAllDraggedObjects(),B("allDragResert")},L=e=>{X(),e&&(o[e]=!0)},R=()=>{const e=document.querySelector(".pc-alert");e&&(e.style.display="none")},z=()=>{const e=document.querySelector(".pc-alert");e&&e.innerText&&(e.style.display="block")},F=()=>{H(),i.commit("menuStore/setMenuChoose",""),ke.setOperatorByID("drag"),ke.onSectionView(!1),ke.onBoxSectionView(!1),ke.closeClipControl()},H=()=>{ke.clearSelection()},U=()=>{o.pmiSetShowAsync?W():M()},W=()=>{i.state.modelStore.bombScale||("pmi"!=r.menuChoose?(G(),ke._viewer.setOperatorByID("OpOrbit"),i.commit("menuStore/setPmiMenu",!0),i.commit("menuStore/setMenuChoose","pmi")):(i.commit("menuStore/setPmiMenu",!1),i.commit("menuStore/setMenuChoose","")),nt.sendCenter(2),nt.sendCenter(3))},G=()=>{i.commit("menuStore/setStructMenu",!1),i.commit("menuStore/setAttrMenu",!1),i.commit("menuStore/setCoutMenu",!1),i.commit("menuStore/setUnitMenu",!1),i.commit("menuStore/setSettingsMenu",!1),i.commit("menuStore/setPmiMenu",!1)},X=()=>{o.showAttr=!1,o.showDrag=!1},Y=e=>{let t=!0;if(e){let e;nd_viewCtrl.shareInfo&&void 0!=nd_viewCtrl.shareInfo.pmiVisible&&(nd_viewCtrl.shareInfo.configNum==i.state.modelStore._nowModel||i.state.modelStore.configs.length<2&&-1==nd_viewCtrl.shareInfo.configNum)&&(e=!0),e&&(t=nd_viewCtrl.shareInfo.pmiVisible)}else t=!1;ke.getViewerIntance()&&ke.getViewerIntance().pmiObject||(t=!1),o.pmiShowAsync=t;var n=v("#ico-pmi");o.pmiBtnShow=o.pmiShowAsync&&n},J=()=>{i.state.modelIsLoaded&&(a.$tag.tcStep0||a.$tag.tcStep1||a.$tag.tcChecktag||(ke.clearSelection(),a.$attrVolArea.isShowDataBox=!1,G(),i.commit("menuStore/setMenuChoose",""),i.commit("menuStore/setMenuChoose2",""),i.commit("menuStore/setMenuChoose3",""),nt.startTagChange(),S(null,!0),i.commit("setRtmNeedCover",!1)))},Z=Object(n["toRefs"])(o);return{...Z,store:i,menuStore:r,modelStore:c,pmiTipComputed:d,checkBtnExit:v,chooseSetting:b,chooseToTag:S,chooseToMeter:C,chooseToCout:y,chooseToStructureTree:f,chooseToAttr:j,chooseShowhide:x,chooseToBang:O,chooseToDrag:T,choosePmiVisible:M,chooseIcoPlus:D,chooseUnitChange:E,chooseSetPmi:W,choosePmiProx:U,chooseAddcolor:k,chooseSettings:N,meterATSO:A,meterATTA:_,writeTag:J,mourseMenu:L,mourseBigMenu:R,mourseBigMenuLeave:z,singleDrag:I,singleDragResert:V,allDragResert:P,hideRightBottom:u,hideLeftBottom:h}}};o("d90e");const Xc=ht()(Gc,[["render",vo],["__scopeId","data-v-1bc37d24"]]);var Yc=Xc,Jc=o("41c8"),Zc=o.n(Jc),Kc=o("86fc"),Qc=o.n(Kc);const qc=e=>(Object(n["pushScopeId"])("data-v-8dd73a80"),e=e(),Object(n["popScopeId"])(),e),ea=qc(()=>Object(n["createElementVNode"])("div",{class:"hd_title header"},null,-1)),ta={src:Zc.a,alt:""},oa={src:Qc.a,alt:""},na={src:Zc.a,alt:""},ia={src:Qc.a,alt:""},ra={class:"explode-flex"},ca={class:"explode-flex"},aa={class:"explode-flex"},sa={class:"explode-free"},la=qc(()=>Object(n["createElementVNode"])("img",{src:xn.a,alt:""},null,-1));function da(e,t,o,i,r,c){const a=Object(n["resolveComponent"])("xd-switch"),s=Object(n["resolveComponent"])("xd-progress"),l=Object(n["resolveComponent"])("card");return Object(n["openBlock"])(),Object(n["createBlock"])(l,{class:"ndp3-my-page explode-card",onClose:i.close},{header:Object(n["withCtx"])(()=>[ea]),default:Object(n["withCtx"])(()=>[Object(n["createElementVNode"])("div",{onClick:t[0]||(t[0]=e=>c.modeChange(0)),class:"explode-flex flex-start-radio"},[Object(n["withDirectives"])(Object(n["createElementVNode"])("img",ta,null,512),[[n["vShow"],0==i.expStore.modeIndex]]),Object(n["withDirectives"])(Object(n["createElementVNode"])("img",oa,null,512),[[n["vShow"],0!=i.expStore.modeIndex]]),Object(n["createTextVNode"])(" "+Object(n["toDisplayString"])(e.$t("expFree")),1)]),Object(n["createElementVNode"])("div",{onClick:t[1]||(t[1]=e=>c.modeChange(1)),class:"explode-flex flex-start-radio"},[Object(n["withDirectives"])(Object(n["createElementVNode"])("img",na,null,512),[[n["vShow"],1==i.expStore.modeIndex]]),Object(n["withDirectives"])(Object(n["createElementVNode"])("img",ia,null,512),[[n["vShow"],1!=i.expStore.modeIndex]]),Object(n["createTextVNode"])(" "+Object(n["toDisplayString"])(e.$t("expAdv")),1)]),Object(n["withDirectives"])(Object(n["createElementVNode"])("div",null,[Object(n["createElementVNode"])("div",ra,[Object(n["createElementVNode"])("p",null,Object(n["toDisplayString"])(e.$t("expDirect")),1),Object(n["createElementVNode"])("div",{class:Object(n["normalizeClass"])({active:1==i.expStore.axis}),onClick:t[2]||(t[2]=e=>c.axisChange(1,"x"))},Object(n["toDisplayString"])(e.$t("expDirectX")),3),Object(n["createElementVNode"])("div",{class:Object(n["normalizeClass"])({active:2==i.expStore.axis}),onClick:t[3]||(t[3]=e=>c.axisChange(2,"y"))},Object(n["toDisplayString"])(e.$t("expDirectY")),3),Object(n["createElementVNode"])("div",{class:Object(n["normalizeClass"])({active:4==i.expStore.axis}),onClick:t[4]||(t[4]=e=>c.axisChange(4,"z"))},Object(n["toDisplayString"])(e.$t("expDirectZ")),3)]),Object(n["createElementVNode"])("div",ca,[Object(n["createElementVNode"])("p",null,Object(n["toDisplayString"])(e.$t("pcStructLv")),1),Object(n["createElementVNode"])("div",{class:Object(n["normalizeClass"])({active:1==i.expStore.level}),onClick:t[5]||(t[5]=e=>c.levelChange(1))},Object(n["toDisplayString"])(e.$t("expLevel1")),3),Object(n["createElementVNode"])("div",{class:Object(n["normalizeClass"])({active:2==i.expStore.level}),onClick:t[6]||(t[6]=e=>c.levelChange(2))},Object(n["toDisplayString"])(e.$t("expLevel2")),3),Object(n["createElementVNode"])("div",{class:Object(n["normalizeClass"])({active:3==i.expStore.level}),onClick:t[7]||(t[7]=e=>c.levelChange(3))},Object(n["toDisplayString"])(e.$t("expLevel3")),3),Object(n["createElementVNode"])("div",{class:Object(n["normalizeClass"])({active:4==i.expStore.level}),onClick:t[8]||(t[8]=e=>c.levelChange(4))},Object(n["toDisplayString"])(e.$t("expLevel4")),3),Object(n["createElementVNode"])("div",{class:Object(n["normalizeClass"])({active:5==i.expStore.level}),onClick:t[9]||(t[9]=e=>c.levelChange(5))},Object(n["toDisplayString"])(e.$t("expLevel5")),3)]),Object(n["createElementVNode"])("div",aa,[Object(n["createElementVNode"])("p",null,Object(n["toDisplayString"])(e.$t("pcStructCon")),1),Object(n["createVNode"])(a,{modelValue:e.openPartCout,"onUpdate:modelValue":t[10]||(t[10]=t=>e.openPartCout=t),onChange:i.changeOpenPart},null,8,["modelValue","onChange"])])],512),[[n["vShow"],1==i.expStore.modeIndex]]),Object(n["createElementVNode"])("div",sa,[Object(n["createVNode"])(s,{class:"process",ref:"progressRef",onMouseRatio:c.dragMove,onMouseRatioUp:c.dragMoveUp,onMouseStart:c.dragStart,defaultRatio:e.progressRatio},null,8,["onMouseRatio","onMouseRatioUp","onMouseStart","defaultRatio"]),Object(n["createElementVNode"])("div",{class:"reset-content",onClick:t[11]||(t[11]=(...e)=>c.resertClick&&c.resertClick(...e))},[la,Object(n["createElementVNode"])("span",null,Object(n["toDisplayString"])(e.$t("reset")),1)])])]),_:1},8,["onClose"])}function ma(e,t,o,i,r,c){return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",{class:"my-progress",ref:"progressRef",onClick:t[4]||(t[4]=(...e)=>i.clickPress&&i.clickPress(...e))},[Object(n["createElementVNode"])("i",{class:"circle",ref:"circleRef",style:Object(n["normalizeStyle"])({left:e.offLeft+"px"}),onClick:t[0]||(t[0]=(...e)=>i.clickCircle&&i.clickCircle(...e)),onMousedown:t[1]||(t[1]=e=>i.onDragStart(e)),onMouseup:t[2]||(t[2]=e=>i.onDragOver(e,"end")),onMouseout:t[3]||(t[3]=e=>i.onDragOver(e))},null,36)],512)}var ua={name:"",props:["defaultRatio"],setup(e,t){const o=Object(n["reactive"])({offLeft:"0"}),i=Object(n["ref"])(null),r=Object(n["ref"])(null);Object(n["onMounted"])(()=>{}),Object(n["watch"])(()=>e.defaultRatio,e=>{c(e)});const c=e=>{Object(n["nextTick"])(()=>{const t=i.value.offsetWidth-24;o.offLeft=t*e})},a=function(e){const n=e.clientX-r.value.offsetLeft,c=i.value.offsetWidth,a=c-24;t.emit("mouseStart"),document.onmousemove=null,document.onmousemove=function(e){const i=e.clientX-n;o.offLeft=i<0?0:i>a?a:i;let r=i/a||0;r>1&&(r=1),r<0&&(r=0),t.emit("mouseRatio",r)},document.onmouseup=function(){document.onmousemove=null,t.emit("mouseRatioUp")}},s=e=>{},l=e=>{const n=i.value.offsetWidth-24;o.offLeft=e.offsetX,o.offLeft<24&&(o.offLeft=0),o.offLeft>n&&(o.offLeft=n);let r=o.offLeft/n;t.emit("mouseRatio",r),t.emit("mouseRatioUp")},d=e=>{e.preventDefault(),e.stopPropagation()},m=Object(n["toRefs"])(o);return{...m,progressRef:i,circleRef:r,onDragStart:a,onDragOver:s,clickPress:l,clickCircle:d,resetRatio:c}}};o("e41c");const ha=ht()(ua,[["render",ma],["__scopeId","data-v-169cb3dc"]]);var pa=ha;let ga=null;var va={name:"",components:{card:Qn,xdProgress:pa,xdSwitch:Xi},setup(){const{proxy:e,appContext:t}=Object(n["getCurrentInstance"])(),o=Object(l["useStore"])(),{expStore:i}=o.state,r=Object(n["ref"])(null),c=Object(n["reactive"])({expRatio:0,expLeft:0,expDistance:0,explodeMode:0,explodeObjects:[],tiped:!1,openPartCout:!1,progressRatio:0,resetTag:!1});Object(n["nextTick"])(()=>{t.config.globalProperties.$explodeCom=e}),Object(n["watch"])(()=>o.state.menuStore.menuChoose,(t,r)=>{if(nt.judgeCanWatch()){if(NDSWebViewer.SETTING.enableSelect="explode"!=t,"explode"==t){o.commit("modelStore/setIsShowPmi",!1),ke.setPmiVisible(!1);const t=ke._viewer.isExploded();t?(c.expRatio=ke.getExplodeFactor(),Object(n["nextTick"])(()=>{e.progressRef.resetRatio(c.expRatio)}),0==i.modeIndex&&(o.commit("menuStore/setStructMenu",!1),c.resetTag=!0)):(e.progressRef.resetRatio(0),e.modeChange(0),c.openPartCout=!1),c.openPartCout&&(o.commit("menuStore/setStructMenu",!0),e.show());const r=o.state.tagStore.tagShow;r&&ke._viewer.setAnnotationsVisibility(1)}"cout"==t&&"explode"==r&&o.commit("menuStore/setStructMenu",!1),"explode"==r&&e.closeToMain()}}),Object(n["watch"])(()=>o.state.menuStore.structMenu,t=>{if(nt.judgeCanWatch()&&"explode"==o.state.menuStore.menuChoose){if(c.resetTag)return void(c.resetTag=!1);c.openPartCout=t,t||(e.resert(),ke.clearSelection())}}),e.$eventBus.on("selectChange",()=>{if("explode"==o.state.treeMode){e.resetExplodeMode(),e.resert(),o.commit("expStore/setLevel",0);var t=ke.getSelectedObjects().length>0;t&&(c.tiped||(c.tiped=!0)),c.explodeObjects=ke._viewer.explodeObjects.concat(),o.commit("setShowAreaTips",!1)}}),e.$eventBus.on("structSelectSub",()=>{c.openPartCout&&(e.progressRef.resetRatio(0),ke.onExplode(0))}),e.$eventBus.on("clearExplode",()=>{e.clearExplode()}),e.$eventBus.on("CloseExpbox",()=>{e.closeToMain(!0)}),e.$eventBus.on("geometrySub",()=>{e.clearExplode()}),e.$eventBus.on("shareExplodeSub",t=>{try{e.initExplodeParams(t)}catch(o){}}),e.$eventBus.on("resetExplode",t=>{try{e.modeChange(0),e.resertClick(),e.close()}catch(o){}}),Object(n["onMounted"])(()=>{c.progressRatio=o.state.modelStore.bombScale}),Object(n["onUnmounted"])(()=>{});const a=t=>{t?(o.commit("menuStore/setStructMenu",!0),o.commit("expStore/setLevel",0),e.resert(),e.$eventBus.emit("closeCfg")):(o.commit("menuStore/setStructMenu",!1),ke.clearSelection(),e.resetExplodeMode(),e.progressRef.resetRatio(0),o.commit("modelStore/setBombScale",0)),nt.sendCenter(4),nt.sendCenter(3),setTimeout(()=>{nt.sendCenter(5)},100)},s=()=>{o.commit("menuStore/setMenuChoose",""),o.commit("menuStore/setAttrMenu",!1),o.commit("menuStore/setStructMenu",!1),o.commit("menuStore/setShowManyConfig",!0),e.$eventBus.emit("closeAttrBox")};return{...Object(n["toRefs"])(c),store:o,expStore:i,close:s,progressRef:r,changeOpenPart:a}},methods:{initExplodeParams(e){void 0!=e.expRatio?this.expRatio=e.expRatio:this.expRatio=ke.getExplodeFactor(),this.progressRatio=this.expRatio,this.store.commit("modelStore/setBombScale",this.expRatio),this.explodeObjects=e.explodeObjects,this.store.commit("expStore/setMode",32==e.explodeMode?0:1),this.explodeMode=e.explodeMode,32!=e.explodeMode&&(this.store.commit("expStore/setAxis",e.axis),e.explodeObjects&&e.explodeObjects.length>0?(this.openPartCout=!0,this.store.commit("expStore/setLevel",0)):this.store.commit("expStore/setLevel",e.level))},dragMove(e){this.store.commit("modelStore/setBombScale",e);const t=ke.getSelectedObjects();if(this.openPartCout&&t.length>0){let e=NDS.EXPLODEMODE.SELECTED+this.store.state.expStore.axis;ke._viewer.setExplodeMode(e)}e&&(this.store.commit("modelStore/setIsShowPmi",!1),ke.setPmiVisible(!1)),ke.onExplode(e)},dragMoveUp(){nt.sendCenter(4)},dragStart(){},choiceNode(){this.store.commit("setTreemode","explode"),this.store.commit("expStore/setLevel",0),this.resert(),this.$emit("showTree")},clearExplode(){this.store.commit("expStore/setMode",0),this.explodeObjects=[],ke._viewer.explodeObjects=[],this.store.commit("expStore/setAxis",0),this.store.commit("expStore/setLevel",0),this.resetExplodeMode(),this.resert()},resetExplodeMode(){try{if(0==this.store.state.expStore.modeIndex)this.explodeMode=NDS.EXPLODEMODE.NORMAL,ke._viewer.setExplodeMode(NDS.EXPLODEMODE.NORMAL);else{var e=this.store.state.expStore.axis,t=this.store.state.expStore.level,o=e;0==e&&(o+=NDS.EXPLODEMODE.NORMAL),t>0&&(o+=NDS.EXPLODEMODE.LEVEL);var n=ke.getSelectedObjects().length>0;n&&(o+=NDS.EXPLODEMODE.SELECTED),this.explodeMode=o,ke._viewer.setExplodeMode(this.explodeMode,t+1)}}catch(i){}},show(){var e=this.store.state.expStore.level;this.store.commit("expStore/setShowHide",!0);var t=ke._viewer.isExploded();0==this.explodeObjects.length&&(this.explodeObjects=ke._viewer.explodeObjects),1==this.store.state.expStore.modeIndex&&this.explodeObjects.length>0?(t||(ke._viewer.explodeObjects=this.explodeObjects,ke._viewer.setExplodeMode(this.explodeMode,e+1,!0)),ke._viewer.selectionManager.selectObjectByList(this.explodeObjects),ke._viewer.render()):t||ke._viewer.setExplodeMode(this.explodeMode,e+1);const o=this.store.state.modelStore.bombScale;ke.onExplode(o)},modeChange(e){this.store.state.expStore.modeIndex!=e&&(ke.clearSelection(),this.resert()),0==e&&this.store.commit("menuStore/setStructMenu",!1),this.store.commit("expStore/setMode",e),this.resetExplodeMode();var t=0==e?"expFree":"expAdv";B(t),nt.sendCenter(3),nt.sendCenter(4)},levelChange(e){if(!this.openPartCout){this.tiped||(this.tiped=!0);var t=this.store.state.expStore.level;t==e?this.store.commit("expStore/setLevel",0):this.store.commit("expStore/setLevel",e),this.explodeObjects=[],ke._viewer.explodeObjects=[],ke.clearSelection(),this.resetExplodeMode(),this.resert(),nt.sendCenter(4)}},axisChange(e,t){var o=this.store.state.expStore.axis;ga&&clearTimeout(ga),this.tiped||(this.tiped=!0),o==e?(ke._viewer.setExplodeAxisVisible(!1),this.store.commit("expStore/setAxis",0),this.resetExplodeMode()):(this.store.commit("expStore/setAxis",e),this.resetExplodeMode(),ke._viewer.setExplodeAxisVisible(!0,t),ga=setTimeout(()=>{ke._viewer.setExplodeAxisVisible(!1)},2e3)),this.resert(),nt.sendCenter(4)},resert(){this.expRatio=0,this.expLeft=0,this.expDistance=0,this.progressRef&&this.progressRef.resetRatio(0),this.store.commit("modelStore/setBombScale",this.expRatio),ke.onExplode(this.expRatio)},resertClick(){ke.clearSelection(),this.progressRatio=0,1==this.store.state.expStore.modeIndex&&(this.explodeObjects=[],ke._viewer.explodeObjects=[],this.store.commit("expStore/setAxis",0),this.store.commit("expStore/setLevel",0)),this.resetExplodeMode(),this.resert(),this.openPartCout=!1,this.store.commit("menuStore/setStructMenu",!1),nt.sendCenter(3),nt.sendCenter(4)},chooseToBang(){this.store.commit("expStore/setShowHide",!0),this.store.commit("hideCtrlBtn"),this.store.commit("setShowAreaTips",!1),ke.onSectionView(!1),ke.onBoxSectionView(!1),ke.closeClipControl(),B("bigBang"),this.clearObJStatus()},getExpRatio(){return 100*this.expRatio+"%"},onDragStart(e){e.targetTouches?this.expLeft=e.targetTouches[0].clientX:this.expLeft=e.touches[0].clientX,1==this.explodeMode&&0==this.store.state.expStore.level&&(this.explodeObjects=ke._viewer.explodeObjects.concat())},OnDragOver(e,t){if(e.targetTouches)var o=e.targetTouches[0].clientX;else o=e.touches[0].clientX;let n=document.getElementById("ratioAll").clientWidth-18;this.expDistance+=o-this.expLeft,this.expDistance=this.expDistance<0?0:this.expDistance,this.expDistance=this.expDistance>n?n:this.expDistance,this.expLeft=o,this.expRatio=this.expDistance/n,this.store.commit("modelStore/setBombScale",this.expRatio),this.expRatio&&(this.store.commit("modelStore/setIsShowPmi",!1),this.isPMIVisible=!1,ke.setPmiVisible(!1)),ke.onExplode(this.expRatio)},closeToMain(e){if(this.store.commit("expStore/setShowHide",!1),1!=e){var t=this.store.state.expStore.level;this.explodeObjects=0==t?ke._viewer.explodeObjects.concat():[]}ke._viewer.selectExplodeEvent(!1),this.store.commit("setTreemode","normal"),NDSWebViewer.SETTING.enableSelect=!0,this.store.commit("showCtrlBtn"),this.store.commit("setShowAreaTips",!0),ke.clearSelection(),ke._viewer.setExplodeAxisVisible(!1)},resetRatio(e){this.progressRef.resetRatio(e||0)}}};o("e163");const ba=ht()(va,[["render",da],["__scopeId","data-v-8dd73a80"]]);var wa=ba,Sa=o("b4dc"),Ca=o.n(Sa);const ya=["title"],Oa={class:"cfg-content"},fa=["onClick"],ja=["data-nopic"],xa=["src"],Ta={class:"cfg-bottom"},Ma=["title"];function Da(e,t,o,i,r,c){return i.store.state.modelStore.configs.length>1&&i.checkBtnExit("#ico-multipleSetting")?(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",{key:0,class:"ndp3-my-page config-switch",onContextmenu:t[2]||(t[2]=Object(n["withModifiers"])(()=>{},["right","stop","prevent"])),onMouseenter:t[3]||(t[3]=(...e)=>i.cfgMouseEnter&&i.cfgMouseEnter(...e)),onMouseleave:t[4]||(t[4]=(...e)=>i.cfgMouseLeave&&i.cfgMouseLeave(...e))},[Object(n["createElementVNode"])("div",{class:"cfg-top",onClick:t[0]||(t[0]=(...e)=>i.showCfgList&&i.showCfgList(...e))},[Object(n["createElementVNode"])("p",{title:e.configList[e.cfgIdx]&&e.configList[e.cfgIdx].Name},Object(n["toDisplayString"])(e.$t("pcNowConfig"))+"："+Object(n["toDisplayString"])(e.configList[e.cfgIdx]&&e.configList[e.cfgIdx].Name),9,ya),Object(n["createElementVNode"])("img",{class:Object(n["normalizeClass"])(["menu-ctrl-icon",{open:e.showCfgContent}]),src:Ca.a,alt:""},null,2)]),Object(n["withDirectives"])(Object(n["createElementVNode"])("div",Oa,[Object(n["createElementVNode"])("ul",null,[(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(e.configList,(o,r)=>(Object(n["openBlock"])(),Object(n["createElementBlock"])("li",{class:"cfg-list",key:r,onClick:e=>i.chooseCfg(r)},[Object(n["createElementVNode"])("div",{class:"cfg-list-pic","data-nopic":e.$t("pcNoPic")},[Object(n["createElementVNode"])("img",{class:"cfg-img-cap",src:o.captureImg,onError:t[1]||(t[1]=(...e)=>i.imgLoadError&&i.imgLoadError(...e)),alt:""},null,40,xa)],8,ja),Object(n["createElementVNode"])("div",Ta,[Object(n["createElementVNode"])("i",{class:Object(n["normalizeClass"])(e.cfgIdx==r?"icon-radio-checked":"icon-radio-nocheck")},null,2),Object(n["createElementVNode"])("span",{title:o.Name,class:Object(n["normalizeClass"])({light:e.cfgIdx==r})},Object(n["toDisplayString"])(o.Name),11,Ma)])],8,fa))),128))])],512),[[n["vShow"],e.showCfgContent]])],32)):Object(n["createCommentVNode"])("",!0)}var Ea={name:"",setup(){const e=Object(n["reactive"])({showCfgContent:!1,configList:[],cfgIdx:0,isStartToChange:!1,timer:null,needUpdateRtm:!1,rtmSwitchTimer:null,rtmSwitchTimer2:null}),t=Object(l["useStore"])(),{proxy:i,appContext:r}=Object(n["getCurrentInstance"])();Object(n["nextTick"])(()=>{r.config.globalProperties.$configSwitch=i}),Object(n["watch"])(()=>t.state.modelStore.configs,t=>{e.configList=t}),Object(n["onBeforeMount"])(()=>{}),Object(n["onMounted"])(()=>{i.$eventBus.on("loadAndInitSub",d),i.$eventBus.on("loadFail",m),i.$eventBus.on("closeCfg",()=>{e.showCfgContent=!1})});const c=(o,n)=>{const r=()=>{-1!==e.cfgIdx&&(t.commit("menuStore/setStructMenu",!1),t.commit("menuStore/setAttrMenu",!1),t.commit("menuStore/setCoutMenu",!1),t.commit("menuStore/setShowOneMenu",!0),t.commit("menuStore/setMenuChoose",""),t.commit("menuStore/setMenuChoose2",""),t.commit("menuStore/setMenuChoose3",""),t.commit("tagStore/setTagshow",!0),ke._viewer.showprompt(!1),i.$eventBus.emit("clearbroadTimer"),setTimeout(()=>{i.$eventBus.emit("closeTagSeeSub"),nt.sendCenter(6),t.commit("modelStore/changeMultipleCfg",e.cfgIdx),e.isStartToChange=!0}))};clearTimeout(e.timer),e.timer=setTimeout(()=>{e.cfgIdx!=o&&(n&&(e.needUpdateRtm=!0),clearTimeout(e.rtmSwitchTimer),clearTimeout(e.rtmSwitchTimer2),e.cfgIdx=o,r())},200)},a=e=>{let t=event.srcElement;t.src=o("3c8f")(`./nomsg-${i.$i18n.locale}.png`),t.classList.add("nomsg")},s=()=>{e.showCfgContent=!e.showCfgContent,e.showCfgContent&&(t.commit("menuStore/setStructMenu",!1),"struct"==t.state.menuStore.menuChoose&&(t.commit("menuStore/setMenuChoose",""),nt.sendCenter(2))),nt.sendCenter(3)},d=()=>{i.$eventBus.emit("resertALL"),i.$eventBus.emit("cfgSwitchSub");const o=n=>{clearTimeout(e.rtmSwitchTimer),e.rtmSwitchTimer=setTimeout(()=>{ke._viewer.getScreenCapturethumbnail((function(i){if(i){let e=t.state.modelStore.configs[n];nd_viewCtrl.configImgUpload&&nd_viewCtrl.configImgUpload(e,i),t.state.modelStore.configs[n].imgURL=i,t.state.modelStore.configs[n].captureImg=i}else e.rtmSwitchTimer2=setTimeout(()=>{o(n)},1e3)}))},1e3)};e.cfgIdx=t.state.modelStore.nowConfig,t.state.modelStore.configs[e.cfgIdx]&&!t.state.modelStore.configs[e.cfgIdx].imgURL&&o(e.cfgIdx),e.isStartToChange=!1,e.needUpdateRtm&&(nt.receiveAllMsg(null,[8]),e.needUpdateRtm=!1),t.state.modelIsLoaded||nt.sendCenter(6),nt.sendCenter(3),nt.sendCenter(5),nt.sendCenter(8)},m=()=>{e.isStartToChange=!1},u=e=>ne(e),h=()=>{const e=document.querySelector(".pc-alert");e&&(e.style.display="none")},p=()=>{const e=document.querySelector(".pc-alert");e&&e.innerText&&(e.style.display="block")},g=Object(n["toRefs"])(e);return{...g,store:t,chooseCfg:c,showCfgList:s,checkBtnExit:u,imgLoadError:a,cfgMouseEnter:h,cfgMouseLeave:p}},methods:{}};o("17b4");const ka=ht()(Ea,[["render",Da],["__scopeId","data-v-d8c29644"]]);var Ba=ka;const Na=e=>(Object(n["pushScopeId"])("data-v-07db4674"),e=e(),Object(n["popScopeId"])(),e),Aa={class:"ndp3-win-frame tijizhongliang"},_a={class:"ndp3-win-content tijizhongliang-lavel"},Ia={class:"select-material-attr"},Va={class:"select-con"},Pa=Na(()=>Object(n["createElementVNode"])("em",null,null,-1)),La={key:0,class:"select-subBox test-1"},$a=["onClick","title"],Ra=["title"],za=Na(()=>Object(n["createElementVNode"])("em",null,null,-1)),Fa={key:0,class:"select-subBox test-1"},Ha=["onClick"],Ua=["title"],Wa={class:"select-material-attr"},Ga={class:"select-con",style:{"padding-top":"0"}},Xa={class:"select-custom"},Ya=["placeholder"],Ja={class:"error-ts"},Za={class:"select-parameter"};function Ka(e,t,o,i,r,c){const a=Object(n["resolveComponent"])("card");return Object(n["openBlock"])(),Object(n["createBlock"])(a,{onClose:i.closeVw,class:"ndp3-my-page volume-weight"},{header:Object(n["withCtx"])(()=>[Object(n["createElementVNode"])("div",null,Object(n["toDisplayString"])(e.$t("volumeWeight")),1)]),default:Object(n["withCtx"])(()=>[Object(n["createElementVNode"])("div",Aa,[Object(n["createElementVNode"])("div",_a,[Object(n["createElementVNode"])("div",Ia,[Object(n["createElementVNode"])("div",{onClick:t[0]||(t[0]=e=>i.chooseAttrType(1)),class:Object(n["normalizeClass"])(["select-tit",{active:1==e.chooseType}])},Object(n["toDisplayString"])(e.$t("pcChooseCommonMt")),3),Object(n["withDirectives"])(Object(n["createElementVNode"])("div",Va,[Object(n["createElementVNode"])("div",{class:Object(n["normalizeClass"])(["select-name",{"select-name-en":"en"==e.$i18n.locale}])},Object(n["toDisplayString"])(e.$t("pcMtType"))+"：",3),Object(n["createElementVNode"])("div",{class:Object(n["normalizeClass"])(["select-drop-down",{"select-drop-down-en":"en"==e.$i18n.locale}]),onMouseenter:t[1]||(t[1]=t=>e.showMTList=!0)},[Object(n["createElementVNode"])("span",{class:Object(n["normalizeClass"])({"gray-txt":!i.returnName()})},Object(n["toDisplayString"])(i.returnName()||e.$t("pcChooseMtType")),3),Pa,e.showMTList?(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",La,[(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(i.materialDatas,(t,o)=>(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",{onClick:e=>i.chooseMT(o),key:o,class:Object(n["normalizeClass"])(["select-drop-name",{select:e.nowMTidx===o}]),title:t.type},Object(n["toDisplayString"])(t.type),11,$a))),128))])):Object(n["createCommentVNode"])("",!0)],34)],512),[[n["vShow"],1==e.chooseType]]),Object(n["withDirectives"])(Object(n["createElementVNode"])("div",{class:Object(n["normalizeClass"])(["select-con",{no:!i.returnName()}])},[Object(n["createElementVNode"])("div",{class:Object(n["normalizeClass"])(["select-name",{"select-name-en":"en"==e.$i18n.locale}])},Object(n["toDisplayString"])(e.$t("pcMtName"))+"：",3),Object(n["createElementVNode"])("div",{class:Object(n["normalizeClass"])(["select-drop-down",{"select-drop-down-en":"en"==e.$i18n.locale}]),onMouseenter:t[2]||(t[2]=t=>e.showMTDList=!0),title:e.nowMTDname},[Object(n["createElementVNode"])("span",{class:Object(n["normalizeClass"])(["select-txt-only",{"no-choose-txt":!e.nowMTDname}])},Object(n["toDisplayString"])(e.nowMTDname||e.$t("pcChooseMtDe")),3),za,e.showMTDList&&i.returnChild().length>0?(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",Fa,[(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(i.returnChild(),(t,o)=>(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",{onClick:e=>i.chooseMTD(o,t),class:Object(n["normalizeClass"])(["select-drop",{select:e.nowMTDTidx===o}]),key:o},[Object(n["createElementVNode"])("span",{class:"select-drop-name",title:t.name+" "+e.unitDensitySwitch},Object(n["toDisplayString"])(t.name),9,Ua),Object(n["createElementVNode"])("span",null,Object(n["toDisplayString"])(t.density)+"("+Object(n["toDisplayString"])(e.unitDensitySwitch)+")",1)],10,Ha))),128))])):Object(n["createCommentVNode"])("",!0)],42,Ra)],2),[[n["vShow"],1==e.chooseType]])]),Object(n["createElementVNode"])("div",Wa,[Object(n["createElementVNode"])("div",{onClick:t[3]||(t[3]=e=>i.chooseAttrType(2)),class:Object(n["normalizeClass"])(["select-tit",{active:2==e.chooseType}])},Object(n["toDisplayString"])(e.$t("selfMaterial")),3),Object(n["withDirectives"])(Object(n["createElementVNode"])("div",Ga,[Object(n["createElementVNode"])("div",Xa,[Object(n["createTextVNode"])(Object(n["toDisplayString"])(e.$t("enterSelfMaterial"))+"("+Object(n["toDisplayString"])(e.unitDensitySwitch)+"): ",1),Object(n["createElementVNode"])("p",{class:Object(n["normalizeClass"])({"no-txt":!e.selfMaterialData||e.selfMTDErr})},[Object(n["withDirectives"])(Object(n["createElementVNode"])("input",{class:"error self_input",maxlength:"10",onInput:t[4]||(t[4]=(...e)=>i.selfMTDchange&&i.selfMTDchange(...e)),"onUpdate:modelValue":t[5]||(t[5]=t=>e.selfMaterialData=t),placeholder:e.$t("enterSelfMaterial2"),type:"number",name:"fname"},null,40,Ya),[[n["vModelText"],e.selfMaterialData]]),Object(n["createElementVNode"])("span",{onClick:t[6]||(t[6]=(...e)=>i.sureSelfMTD&&i.sureSelfMTD(...e))},Object(n["toDisplayString"])(e.$t("sure")),1)],2)]),Object(n["createElementVNode"])("div",Ja,Object(n["toDisplayString"])(e.selfMTDErr),1)],512),[[n["vShow"],2==e.chooseType]])]),Object(n["createElementVNode"])("div",Za,[Object(n["createElementVNode"])("ul",null,[Object(n["createElementVNode"])("li",null,[Object(n["createTextVNode"])(Object(n["toDisplayString"])("volumeWeight"==i.menuStore.menuChoose3?e.$t("selectedVolumn"):e.$t("pcAllVol")),1),Object(n["createElementVNode"])("span",null,Object(n["toDisplayString"])(i.judgeNaN(e.volume)||"0"),1)]),Object(n["createElementVNode"])("li",null,[Object(n["createTextVNode"])(Object(n["toDisplayString"])("volumeWeight"==i.menuStore.menuChoose3?e.$t("selectedWeight"):e.$t("pcAllWeight")),1),Object(n["createElementVNode"])("span",null,Object(n["toDisplayString"])(i.judgeNaN(e.weight)||"0"),1)])])])])])]),_:1},8,["onClose"])}var Qa={name:"",components:{card:Qn},setup(){const e=Object(n["reactive"])({chooseType:1,volume:"",weight:"",density:"",nowMTidx:-1,nowMTDTidx:0,nowMTDTitem:null,nowMTDname:"",showMTList:!1,showMTDList:!1,selfMaterialData:"",selfMTDErr:"",selectBodyEvent:null,unitDensitySwitch:""}),{proxy:t,appContext:i}=Object(n["getCurrentInstance"])(),r=Object(l["useStore"])(),{menuStore:c}=r.state;Object(n["nextTick"])(()=>{i.config.globalProperties.$volumeWeight=e}),Object(n["watch"])(()=>e.selfMaterialData,(t,o)=>{let n=t+"";n.length>10&&(e.selfMaterialData=1*n.slice(0,10))}),t.$eventBus.on("VolumnChange",N(t=>{nt.judgeCanWatch()&&("volumeWeight"==c.menuChoose3||"volumeWeightAll"==c.menuChoose3||e.volume)&&(e.selectBodyEvent=t,t&&m(t.volume,e.density,t.modelUnit),t||(e.volume=0,e.weight=0,nt.sendCenter(4)))})),Object(n["onBeforeMount"])(()=>{}),Object(n["onMounted"])(()=>{e.unitDensitySwitch="g/cm³"});const a="en"==t.$i18n.locale?"_en":"",s=o("60ca")("./materialDensity"+a),d=s.default[0].materials.concat(s.default[1].materials),m=(t,o,n)=>{e.volume=te(t)+" "+Q(n),e.weight=Y(u(o,n),parseFloat(t),K(n||"millimeter")),nt.sendCenter(4)},u=(e,t)=>{const o=Z(K(t||"millimeter"));if("in"==o){if("string"==typeof e&&e.indexOf("~")>0){const t=e.split("~");let o=t[0],n=t[1];return o*=.036127,n*=.036127,`${o}~${n}`}return.036127*e}return e},h=t=>{e.chooseType=t,nt.sendCenter(4),e.weight=0,1==t?-1!=e.nowMTDTidx&&e.nowMTDTitem&&g(e.nowMTDTidx,e.nowMTDTitem):2==t&&v()},p=t=>{e.nowMTidx=t,e.nowMTDTidx=-1,e.nowMTDname="",e.nowMTDTitem=null,e.showMTList=!1,nt.sendCenter(4)},g=(o,n)=>{e.nowMTDTidx=o,e.nowMTDTitem=n,e.nowMTDname=`${n.name} ${n.density}(${e.unitDensitySwitch})`,e.showMTDList=!1,e.density=n.density,e.selectBodyEvent&&m(e.selectBodyEvent.volume,e.density,t.selectBodyEvent.modelUnit),e.selectBodyEvent||nt.sendCenter(4)},v=()=>{e.selfMTDErr||(e.density=e.selfMaterialData,e.selectBodyEvent&&m(e.selectBodyEvent.volume,e.density,t.selectBodyEvent.modelUnit))};let b=Object(n["ref"])(null);const w=t=>{e.selfMTDErr=O(e.selfMaterialData),clearTimeout(b),b=setTimeout(()=>{nt.sendCenter(4)},200)},S=()=>{r.commit("menuStore/setMenuChoose3",""),ke.setMeasureOpType("")},C=()=>e.nowMTidx<0?"":d[e.nowMTidx].type,y=()=>e.nowMTidx<0?[]:d[e.nowMTidx].childs,O=o=>{let n=String(o),i="",r=t.$i18n.locale;try{(/[^0-9\+\.]/g.test(n)||n.split(".").length>2||n.lastIndexOf(".")+1==n.length)&&(i="en"==r?"Please fill out the correct density":"请输入正确的密度"),""==n.trim()&&(i="en"==r?"Please fill out the density":"请输入密度",e.selfMaterialData=" ")}catch{i="en"==r?"Please fill out the correct density":"请输入正确的密度"}return i},f=e=>e!==e?0:e,j=Object(n["toRefs"])(e);return{...j,menuStore:c,closeVw:S,chooseAttrType:h,materialDatas:d,chooseMT:p,chooseMTD:g,sureSelfMTD:v,selfMTDchange:w,returnName:C,returnChild:y,judgeNaN:f}}};o("c671");const qa=ht()(Qa,[["render",Ka],["__scopeId","data-v-07db4674"]]);var es=qa,ts=o("a016"),os=o.n(ts);const ns={class:"search-cont"},is=["placeholder"],rs=["title"],cs={key:0,class:"struc-content"},as={key:0,style:{"padding-left":"16px"}},ss=["onContextmenu"],ls=["onClick"],ds=["onClick","title"],ms={key:1,class:"nomsg-txt"};function us(e,t,o,i,r,c){const a=Object(n["resolveComponent"])("tree-node"),s=Object(n["resolveComponent"])("card");return Object(n["openBlock"])(),Object(n["createBlock"])(s,{class:Object(n["normalizeClass"])(["ndp3-my-page structure-tree tree-card",{"struct-top":i.store.state.modelStore.configs.length<2||"explode"==i.menuStore.menuChoose}]),onClose:i.close,canDrag:!0,onSizeDrag:i.structSizeDrag,ref:"structCardRef"},{header:Object(n["withCtx"])(()=>[Object(n["createTextVNode"])(Object(n["toDisplayString"])(e.$t("structureTree")),1)]),default:Object(n["withCtx"])(()=>[Object(n["createElementVNode"])("div",ns,[Object(n["withDirectives"])(Object(n["createElementVNode"])("input",{class:Object(n["normalizeClass"])(["search-inp",{"en-inp":"en"==e.$i18n.locale}]),placeholder:e.$t("searchTree2"),"onUpdate:modelValue":t[0]||(t[0]=t=>e.keyWord=t),onKeyup:t[1]||(t[1]=Object(n["withKeys"])((...e)=>i.goToSearch&&i.goToSearch(...e),["enter"])),maxlength:"20",type:"text"},null,42,is),[[n["vModelText"],e.keyWord]]),e.searchMode?(Object(n["openBlock"])(),Object(n["createElementBlock"])("img",{key:0,class:Object(n["normalizeClass"])(["clear-icon",{"en-icon-clear":"en"==e.$i18n.locale}]),onClick:t[2]||(t[2]=(...e)=>i.exitSearch&&i.exitSearch(...e)),src:os.a,alt:""},null,2)):Object(n["createCommentVNode"])("",!0),Object(n["createElementVNode"])("span",{class:"search-txt",onClick:t[3]||(t[3]=(...e)=>i.goToSearch&&i.goToSearch(...e))},Object(n["toDisplayString"])(e.$t("search")),1)]),Object(n["withDirectives"])(Object(n["createElementVNode"])("div",{class:"struc-content",onScrollPassive:t[8]||(t[8]=(...e)=>i.getTreeScroll&&i.getTreeScroll(...e)),ref:"scrollRef"},[Object(n["withDirectives"])(Object(n["createElementVNode"])("ul",null,[Object(n["createElementVNode"])("li",{class:Object(n["normalizeClass"])(["tree-node-item",{select:e.modelTreeData.isHighlight&&e.modelTreeData.isChecked}])},[Object(n["createElementVNode"])("div",{class:"treenode-node-item",onContextmenu:t[7]||(t[7]=Object(n["withModifiers"])(t=>i.rightEvent(t,e.modelTreeData),["right","stop","prevent"]))},[e.modelTreeData.children&&e.modelTreeData.children.length>0?(Object(n["openBlock"])(),Object(n["createElementBlock"])("i",{key:0,class:Object(n["normalizeClass"])({"tree-node-open":e.modelTreeData.isOpenChild,"tree-node-close":!e.modelTreeData.isOpenChild}),onClick:t[4]||(t[4]=(...e)=>i.toggleOpenChild&&i.toggleOpenChild(...e))},null,2)):Object(n["createCommentVNode"])("",!0),Object(n["createElementVNode"])("i",{class:Object(n["normalizeClass"])(["tree-node-checkbox",{"ico-tree-checkedbox":e.modelTreeData.isChecked}]),onClick:t[5]||(t[5]=t=>i.toggleVisible(e.modelTreeData))},null,2),Object(n["createElementVNode"])("span",{class:"tree-node-txt",onClick:t[6]||(t[6]=t=>i.selectNode(e.modelTreeData)),title:e.modelTreeData.name},Object(n["toDisplayString"])(e.modelTreeData.name),9,rs)],32),e.modelTreeData.isOpenChild&&e.modelTreeData.children&&e.modelTreeData.children.length?(Object(n["openBlock"])(),Object(n["createBlock"])(a,{key:Math.random(),treeData:e.modelTreeData,defaulOpen:!0,level:"2"},null,8,["treeData"])):Object(n["createCommentVNode"])("",!0)],2)],512),[[n["vShow"],e.hasData]]),Object(n["withDirectives"])(Object(n["createElementVNode"])("p",null,Object(n["toDisplayString"])(e.$t("noTreeData2")),513),[[n["vShow"],!e.hasData]])],544),[[n["vShow"],!e.searchMode]]),e.searchMode?(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",cs,[e.searchData&&e.searchData.length>0?(Object(n["openBlock"])(),Object(n["createElementBlock"])("ul",as,[(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(e.searchData,(e,t)=>(Object(n["openBlock"])(),Object(n["createElementBlock"])("li",{class:Object(n["normalizeClass"])(["tree-node-item",{select:e.isHighlight}]),key:t},[Object(n["createElementVNode"])("div",{class:"treenode-node-item",onContextmenu:Object(n["withModifiers"])(t=>i.rightEvent(t,e),["right","stop","prevent"])},[Object(n["createElementVNode"])("i",{onClick:t=>i.toggleVisible(e),class:Object(n["normalizeClass"])(["tree-node-checkbox",{"ico-tree-checkedbox":e.isChecked}])},null,10,ls),Object(n["createElementVNode"])("span",{class:"tree-node-txt",onClick:t=>i.selectSearchNode(e),title:e.fullpath},Object(n["toDisplayString"])(e.name),9,ds)],40,ss)],2))),128))])):(Object(n["openBlock"])(),Object(n["createElementBlock"])("p",ms,Object(n["toDisplayString"])(e.$t("noTreeData2")),1))])):Object(n["createCommentVNode"])("",!0)]),_:1},8,["onClose","onSizeDrag","class"])}const hs=["lev"],ps=["onContextmenu"],gs=["onClick"],vs={class:"tree-module"},bs=["onClick"],ws=["onClick","title"];function Ss(e,t,o,i,r,c){const a=Object(n["resolveComponent"])("tree-node",!0);return Object(n["openBlock"])(),Object(n["createElementBlock"])("ul",null,[(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(o.treeData.children,(e,t)=>(Object(n["openBlock"])(),Object(n["createElementBlock"])("li",{class:Object(n["normalizeClass"])(["tree-node-item",{select:e.isHighlight}]),key:t,lev:o.level},[Object(n["createElementVNode"])("div",{class:"treenode-node-item",onContextmenu:Object(n["withModifiers"])(t=>i.rightEvent(t,e),["right","stop","prevent"])},[(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(i.getLevel(e),(e,t)=>(Object(n["openBlock"])(),Object(n["createElementBlock"])("b",{key:t}))),128)),Object(n["withDirectives"])(Object(n["createElementVNode"])("i",{class:Object(n["normalizeClass"])({"tree-node-open":e.isOpenChild,"tree-node-close":!e.isOpenChild}),onClick:t=>i.toggleOpen(e)},null,10,gs),[[n["vShow"],e.children.length>0]]),Object(n["withDirectives"])(Object(n["createElementVNode"])("i",vs,null,512),[[n["vShow"],!e||!e.children.length]]),Object(n["createElementVNode"])("i",{onClick:t=>i.toggleVisible(e),class:Object(n["normalizeClass"])(["tree-node-checkbox",{"ico-tree-checkedbox":e.isChecked}])},null,10,bs),Object(n["createElementVNode"])("span",{onClick:t=>i.selectNode(e),class:"tree-node-txt",title:e.name},Object(n["toDisplayString"])(e.name),9,ws)],40,ps),e.children.length&&e.isOpenChild?(Object(n["openBlock"])(),Object(n["createBlock"])(a,{key:Math.random(),treeData:e,level:o.level+1},null,8,["treeData","level"])):Object(n["createCommentVNode"])("",!0)],10,hs))),128))])}var Cs={name:"",props:["treeData","defaulOpen","level"],setup(e,t){const o=Object(n["reactive"])({}),{proxy:i}=Object(n["getCurrentInstance"])(),r=Object(l["useStore"])();Object(n["onMounted"])(()=>{e.defaulOpen?e.treeData.children&&e.treeData.children.map((t,o)=>{t.parent||(t.parent=e.treeData),!nt.judgeCanWatch()&&nt.getTreeData||(t.isRendered=!0,t.isChecked=!ke.isObjectOrSomeChildHidden(t)),ke._viewer.isEmptyNode(t)&&e.treeData.remove(t)}):e.treeData.children&&e.treeData.children.map((t,o)=>{t.parent||(t.parent=e.treeData),e.treeData.isChecked?t.isChecked=!0:t.isChecked=!ke.isObjectOrSomeChildHidden(t),e.treeData.isHighlight&&(t.isHighlight=!0),ke._viewer.isEmptyNode(t)&&e.treeData.remove(t)})});const c=e=>{var t=0;while(null!==e.parent)t++,e=e.parent;return t},a=e=>{e.isRendered=!0,e.isOpenChild=!e.isOpenChild,nt.sendCenter(1),nt.sendCenter(5)},s=e=>{e.isChecked=!e.isChecked;const t=JSON.parse(JSON.stringify(e.isChecked));e.isChecked?ce(e):(re(e),ue(e),pe(e,!1)),window.structflag=!0,ae(e,e.isChecked),ke.showObject(e,e.isChecked),ke.render(),setTimeout(()=>{e.isChecked=t}),nt.sendCenter(1),nt.sendCenter(5)},d=e=>{let t=r.state.modelStore._highLightNode.indexOf(e.uuid);if(t>-1)return t>-1},m=(e,t)=>{if(e.isChecked){if(!r.state.isInShift||!e.isHighlight||t){"explode"==r.state.menuStore.menuChoose&&i.$eventBus.emit("structSelectSub"),e.isHighlight=!e.isHighlight,window.structflag=!0;var o=e.isHighlight?"select":"deselect";nd_viewCtrl&&nd_viewCtrl.selectChangeEvent&&nd_viewCtrl.selectChangeEvent(o),e.isHighlight?(he(e),ke.selectObject(e),!t&&r.state.isInShift&&u(e)):(ue(e),ke.deselectObject(e)),pe(e,e.isHighlight),ke.render(),i.$eventBus.emit("selectChange"),nt.sendCenter(1),nt.sendCenter(5)}}else!t&&r.state.isInShift&&u(e)},u=e=>{if(!r.state.isInShift)return void r.commit("setPreShiftNode",{});if(!r.state.preShiftNode.uuid)return void r.commit("setPreShiftNode",e);const t=r.state.preShiftNode;if(e.parent.uuid!=t.parent.uuid)return void r.commit("setPreShiftNode",e);const o=e.parent;let n=-1,i=o.children.length,c=[];o.children.forEach((o,r)=>{o.uuid!=e.uuid&&o.uuid!=t.uuid||(n<0?n=r:i=r),n>-1&&r>n&&r<i&&!o.isHighlight&&c.push(o)}),window.structShift=!0,c.map(e=>{m(e,"noShift")}),setTimeout(()=>{window.structShift=!1,r.commit("setPreShiftNode",{})},100)},h=(e,t)=>{t.isChecked&&(t.isHighlight||m(t),i.$eventBus.emit("rigthClickEvent",{clientX:e.clientX,clientY:e.clientY,innerHeight:e.view.innerHeight,innerWidth:e.view.innerWidth,structData:t,fromStruct:!0,showPop:!0}))},p=Object(n["toRefs"])(o);return{...p,getLevel:c,toggleOpen:a,toggleVisible:s,checkIsHighLight:d,selectNode:m,rightEvent:h}}};o("6703");const ys=ht()(Cs,[["render",Ss],["__scopeId","data-v-26bda346"]]);var Os=ys,fs={name:"",components:{card:Qn,treeNode:Os},setup(){const e=Object(n["reactive"])({modelTreeData:{},searchMode:!1,keyWord:"",hasData:!0,searchData:[],structFlash:!1,scrollTimer:null,scrollTop:0,structWidth:null,structHeight:null}),t=Object(l["useStore"])(),{menuStore:o}=t.state,{proxy:i,appContext:r}=Object(n["getCurrentInstance"])(),c=Object(n["ref"])(null),a=Object(n["ref"])(null);Object(n["nextTick"])(()=>{r.config.globalProperties.$structureTree=i}),Object(n["watch"])(()=>t.state.menuStore.structMenu,o=>{nt.judgeCanWatch()&&(o?(t.commit("setPreShiftNode",{}),nt.judgeCanWatch()&&(e.keyWord="",e.searchMode&&d()),s(),e.structWidth=a.value.cardRef.clientWidth,e.structHeight=a.value.cardRef.clientHeight,nt.sendCenter(7)):window.structChangeTag=!1)}),Object(n["watch"])(()=>e.searchMode,()=>{nt.judgeCanWatch()&&t.commit("setPreShiftNode",{})}),Object(n["onMounted"])(()=>{i.$eventBus.on("loadAndInitSub",()=>{g()}),i.$eventBus.on("VolumnChange",()=>{if(nt.judgeCanWatch()&&(window.structChangeTag=!0,t.state.menuStore.structMenu||t.state.menuStore.structEasyMenu)){if(window.structflag)return void(window.structflag=!1);if(window.structShift)return;s(),nt.sendCenter(1),nt.sendCenter(3),nt.sendCenter(5)}}),i.$eventBus.on("structAllShow",()=>{e.modelTreeData.isChecked||p(e.modelTreeData)}),i.$eventBus.on("nodeShowChange",()=>{nt.judgeCanWatch()&&(g(),nt.sendCenter(1),nt.sendCenter(5))}),i.$eventBus.on("clearSelectionSub",()=>{nt.judgeCanWatch()&&(t.commit("setPreShiftNode",{}),t.state.menuStore.structMenu&&(g(),nt.sendCenter(1),nt.sendCenter(5)))})}),Object(n["onUnmounted"])(()=>{});const s=()=>{e.modelTreeData.isChecked=!ke.isObjectOrSomeChildHidden(e.modelTreeData);let t=ke.getSelectedObjects();e.modelTreeData.isHighlight=!1,ge(e.modelTreeData,!1),t&&t.length>0&&t.map(e=>{!e.isHighlight&&e.isChecked&&(e.isHighlight=!0,pe(e,!0),he(e),window.structChangeTag&&ve(e))}),i.$forceUpdate()},d=()=>{e.keyWord="",m(),v()},m=()=>{v(),ue(e.modelTreeData),pe(e.modelTreeData,!1),""==e.keyWord?(e.searchMode=!1,e.searchData=[]):(e.searchData=oe(e.keyWord,"name",e.modelTreeData),e.searchData.map(e=>{e.isChecked=!ke.isObjectOrSomeChildHidden(e)}),e.searchMode=!0),nt.sendCenter(5),nt.sendCenter(10)},u=e=>{if(e.isChecked){"explode"==t.state.menuStore.menuChoose&&i.$eventBus.emit("structSelectSub"),e.isHighlight=!e.isHighlight;var o=e.isHighlight?"select":"deselect";nd_viewCtrl&&nd_viewCtrl.selectChangeEvent&&nd_viewCtrl.selectChangeEvent(o),window.structflag=!0,e.isHighlight?(he(e),ke.selectObject(e)):(ue(e),ke.deselectObject(e)),pe(e,e.isHighlight),ke.render(),i.$eventBus.emit("selectChange"),nt.sendCenter(1),nt.sendCenter(5)}},h=(e,o)=>{e.isChecked?t.state.isInShift&&e.isHighlight&&!o||("explode"==t.state.menuStore.menuChoose&&i.$eventBus.emit("structSelectSub"),e.isHighlight=!e.isHighlight,window.structflag=!0,e.isHighlight?(ke.selectObject(e),!o&&t.state.isInShift&&S(e)):ke.deselectObject(e),ke.render(),i.$eventBus.emit("selectChange"),nt.sendCenter(5),nt.sendCenter(10)):!o&&t.state.isInShift&&S(e)},p=e=>{e.isChecked=!e.isChecked,e.isChecked?ce(e):(re(e),ue(e),pe(e,!1)),ae(e,e.isChecked),ke.showObject(e,e.isChecked),ke.render(),nt.sendCenter(1),nt.sendCenter(5),nt.sendCenter(10)},g=()=>{nd_viewCtrl.shareInfo&&nd_viewCtrl.shareInfo.camerainfo?e.modelTreeData=ke.getModelTree(!0)||{}:e.modelTreeData=ke.getModelTree()||{},b(e.modelTreeData),e.modelTreeData&&Object.keys(e.modelTreeData).length>0?e.modelTreeData.isOpenChild=!0:e.hasData=!1,e.modelTreeData.isChecked=!ke.isObjectOrSomeChildHidden(e.modelTreeData),e.modelTreeData.isRendered=!0,e.modelTreeData.level=1},v=()=>{t.commit("modelStore/setHighLightNode",[]),ke.clearSelection()},b=e=>{e.isRendered&&(e.isHighlight=!1),e.children&&e.children.map(e=>{e.children&&e.isRendered&&w(e)})},w=e=>(e&&(e.isChecked=!ke.isObjectOrSomeChildHidden(e)),e.isHighlight=!1,e.children.map(t=>{t.parent=e,t.children&&w(t)}),e),S=o=>{if(!t.state.isInShift)return void t.commit("setPreShiftNode",{});if(!t.state.preShiftNode.uuid)return void t.commit("setPreShiftNode",o);const n=t.state.preShiftNode;let i=-1,r=e.searchData.length,c=[];e.searchData.some((e,t)=>{if(e.uuid!=o.uuid&&e.uuid!=n.uuid||(i<0?i=t:r=t),i>-1&&t>i&&t<r&&!e.isHighlight&&c.push(e),t>r)return!0}),window.structShift=!0,c.map(e=>{h(e,"noShift")}),setTimeout(()=>{window.structShift=!1,t.commit("setPreShiftNode",{})},100)},C=(e,t)=>{t.isChecked&&(t.isHighlight||u(t),i.$eventBus.emit("rigthClickEvent",{clientX:e.clientX,clientY:e.clientY,innerHeight:e.view.innerHeight,innerWidth:e.view.innerWidth,structData:t,fromStruct:!0,showPop:!0}))},y=t=>{t&&"{}"!=JSON.stringify(t)&&(be(t,e.modelTreeData),i.$forceUpdate())},O=t=>{t&&"[]"!=JSON.stringify(t)&&(we(t,e.searchData),i.$forceUpdate())},f=()=>{const e=t.state.menuStore;"struct"==e.menuChoose&&t.commit("menuStore/setMenuChoose",""),t.commit("menuStore/setStructMenu",!1)},j=()=>{e.modelTreeData.isOpenChild=!e.modelTreeData.isOpenChild,nt.sendCenter(1),nt.sendCenter(5)},x=t=>{clearTimeout(e.scrollTimer),e.scrollTimer=setTimeout(()=>{e.scrollTop=t.target.scrollTop,nt.sendCenter(7)},100)},T=t=>{e.scrollTop=t,Object(n["nextTick"])(()=>{c.value.scrollTop=t})},M=e=>{a.value.cardRef.style.width=e.structWidth||null,a.value.cardRef.style.height=e.structHeight||null},D=t=>{e.structWidth=t.cardWidth,e.structHeight=t.cardHeight,nt.sendCenter(7)},E=Object(n["toRefs"])(e);return{...E,close:f,exitSearch:d,goToSearch:m,store:t,menuStore:o,toggleOpenChild:j,toggleVisible:p,selectNode:u,selectSearchNode:h,rightEvent:C,coverTreeData:y,coverSearchData:O,getTreeScroll:x,setTreeScroll:T,setTreeSize:M,structSizeDrag:D,scrollRef:c,structCardRef:a}}};o("c155");const js=ht()(fs,[["render",us],["__scopeId","data-v-d7af79a8"]]);var xs=js,Ts=o("2748"),Ms=o.n(Ts),Ds=o("3261"),Es=o.n(Ds);const ks=e=>(Object(n["pushScopeId"])("data-v-6ff02e46"),e=e(),Object(n["popScopeId"])(),e),Bs=["title"],Ns={class:"ndp3-win-content ndp3-shuxin-lavel"},As=["title"],_s={class:"ndp3-text-box-wth"},Is=["title"],Vs=["title"],Ps=["title"],Ls=["title"],$s=["title"],Rs={class:"ndp3-text-box-wth"},zs=["title"],Fs=["title"],Hs=["title"],Us=["title"],Ws=["title"],Gs=["title"],Xs=["title"],Ys=["title"],Js=["title"],Zs=["title"],Ks={key:0},Qs=["title"],qs=["title"],el=["title"],tl={key:0,class:"action-icon"},ol=["onClick"],nl=["onClick"],il={class:"hover-con two"},rl={key:0,class:"no-attr-word"},cl={key:1,class:"add-attribute"},al=ks(()=>Object(n["createElementVNode"])("img",{src:Ms.a},null,-1)),sl={class:"ndp3-win-content edit-box"},ll={class:"select-con"},dl=ks(()=>Object(n["createElementVNode"])("a",{class:"red_a"},"*",-1)),ml=ks(()=>Object(n["createElementVNode"])("em",null,null,-1)),ul={key:0,class:"select-subBox test-1"},hl=["onClick"],pl={class:"position-rel"},gl=ks(()=>Object(n["createElementVNode"])("a",{class:"red_a"},"*",-1)),vl=["placeholder"],bl=ks(()=>Object(n["createElementVNode"])("a",null," ",-1)),wl=["placeholder"],Sl={class:"dialog-warn-title"},Cl=ks(()=>Object(n["createElementVNode"])("img",{src:Es.a,alt:""},null,-1)),yl={class:"dialog-warn-content"};function Ol(e,t,o,i,r,c){const a=Object(n["resolveComponent"])("card"),s=Object(n["resolveComponent"])("xd-dialog");return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",null,[Object(n["createVNode"])(a,{class:"ndp3-my-page ndp3-attr-page ndp3-win-frame",onClose:i.close},{header:Object(n["withCtx"])(()=>[Object(n["createElementVNode"])("div",{class:"ndp3-attr_title",title:0==e.attrMode?e.attrTitle:e.attrTitleSelf},Object(n["toDisplayString"])(0==e.attrMode?e.attrTitle:e.attrTitleSelf)+"   ",9,Bs)]),default:Object(n["withCtx"])(()=>[Object(n["createElementVNode"])("div",Ns,[Object(n["createElementVNode"])("div",{class:Object(n["normalizeClass"])(["ndp3-tab-box",{"one-attr-tab":i.store.state.modelStore.hideItem.userdyAttr}])},[Object(n["createElementVNode"])("span",{onClick:t[0]||(t[0]=e=>i.chooseAttrType(0)),class:Object(n["normalizeClass"])({select:0==e.attrMode})},Object(n["toDisplayString"])(e.$t("normalAttr")),3),1==i.store.state.modelStore.hideItem.userdyAttr||e.hideSelfAttr?Object(n["createCommentVNode"])("",!0):(Object(n["openBlock"])(),Object(n["createElementBlock"])("span",{key:0,onClick:t[1]||(t[1]=e=>i.chooseAttrType(1)),class:Object(n["normalizeClass"])({select:1==e.attrMode})},Object(n["toDisplayString"])(e.$t("selfAttr")),3))],2),Object(n["withDirectives"])(Object(n["createElementVNode"])("div",{class:"ndp3-tab-content test-1",onScrollPassive:t[2]||(t[2]=(...e)=>i.getAttrScroll&&i.getAttrScroll(...e)),ref:"scrollRef_1",style:{height:"calc(100% - 55px)",padding:"0"}},[Object(n["createElementVNode"])("ul",null,[Object(n["createElementVNode"])("li",null,[Object(n["createElementVNode"])("p",{title:e.$t("material")},Object(n["toDisplayString"])(e.$t("material")),9,As),Object(n["createElementVNode"])("span",_s,Object(n["toDisplayString"])(e.modelAttrData.material||"/"),1)]),Object(n["createElementVNode"])("li",null,[Object(n["createElementVNode"])("p",{title:e.$t("faceFace")},Object(n["toDisplayString"])(e.$t("faceFace")),9,Is),Object(n["createElementVNode"])("span",{title:e.modelAttrData.area,class:"ndp3-text-box-wth"},Object(n["toDisplayString"])(e.modelAttrData.area||"/"),9,Vs)]),Object(n["createElementVNode"])("li",null,[Object(n["createElementVNode"])("p",{title:e.$t("volumn")},Object(n["toDisplayString"])(e.$t("volumn")),9,Ps),Object(n["createElementVNode"])("span",{title:e.modelAttrData.volume,class:"ndp3-text-box-wth"},Object(n["toDisplayString"])(e.modelAttrData.volume||"/"),9,Ls)]),Object(n["createElementVNode"])("li",null,[Object(n["createElementVNode"])("p",{title:e.$t("weight")},Object(n["toDisplayString"])(e.$t("weight")),9,$s),Object(n["createElementVNode"])("span",Rs,Object(n["toDisplayString"])(e.modelAttrData.weight||"/"),1)]),Object(n["createElementVNode"])("li",null,[Object(n["createElementVNode"])("p",{title:e.$t("boxVolume")},Object(n["toDisplayString"])(e.$t("boxVolume")),9,zs),Object(n["createElementVNode"])("span",{title:e.modelAttrData.boundingboxVolume,class:"ndp3-text-box-wth"},Object(n["toDisplayString"])(e.modelAttrData.boundingboxVolume||"/"),9,Fs)]),Object(n["createElementVNode"])("li",null,[Object(n["createElementVNode"])("p",{title:e.$t("meterBox")},Object(n["toDisplayString"])(e.$t("meterBox")),9,Hs),Object(n["createElementVNode"])("span",{title:e.modelAttrData.boundingbox,class:"ndp3-text-box-wth"},Object(n["toDisplayString"])(e.modelAttrData.boundingbox||"/"),9,Us)]),Object(n["createElementVNode"])("li",null,[Object(n["createElementVNode"])("p",{title:e.$t("objNum")},Object(n["toDisplayString"])(e.$t("objNum")),9,Ws),Object(n["createElementVNode"])("span",{title:e.modelAttrData.bodyNum,class:"ndp3-text-box-wth"},Object(n["toDisplayString"])(e.modelAttrData.bodyNum||"/"),9,Gs)]),Object(n["createElementVNode"])("li",null,[Object(n["createElementVNode"])("p",{title:e.$t("partNum")},Object(n["toDisplayString"])(e.$t("partNum")),9,Xs),Object(n["createElementVNode"])("span",{title:e.modelAttrData.meshNum,class:"ndp3-text-box-wth"},Object(n["toDisplayString"])(e.modelAttrData.meshNum||"/"),9,Ys)]),Object(n["createElementVNode"])("li",null,[Object(n["createElementVNode"])("p",{title:e.$t("pmiNum")},Object(n["toDisplayString"])(e.$t("pmiNum")),9,Js),Object(n["createElementVNode"])("span",{title:e.modelAttrData.pmiNum,class:"ndp3-text-box-wth"},Object(n["toDisplayString"])(e.modelAttrData.pmiNum||"/"),9,Zs)])])],544),[[n["vShow"],0==e.attrMode]]),Object(n["withDirectives"])(Object(n["createElementVNode"])("div",{class:"ndp3-tab-content test-1",onScrollPassive:t[4]||(t[4]=(...e)=>i.getAttrScroll2&&i.getAttrScroll2(...e)),ref:"scrollRef_2"},[Object(n["createElementVNode"])("ul",null,[(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(e.modelAttrData_self,(t,o)=>(Object(n["openBlock"])(),Object(n["createElementBlock"])(n["Fragment"],{key:o},[e.modelAttrData_self.length>1?(Object(n["openBlock"])(),Object(n["createElementBlock"])("li",Ks,[Object(n["createElementVNode"])("div",{title:t.name},Object(n["toDisplayString"])(t.name),9,Qs)])):Object(n["createCommentVNode"])("",!0),(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(t.value,(o,r)=>(Object(n["openBlock"])(),Object(n["createElementBlock"])("li",{key:r},[Object(n["createElementVNode"])("p",{title:o.key},Object(n["toDisplayString"])(o.key),9,qs),Object(n["createElementVNode"])("span",{title:o.value},Object(n["toDisplayString"])(c.judgeTxtNone(o.value)||"/"),9,el),i.store.state.modelStore._allowEditAttr?(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",tl,[Object(n["createElementVNode"])("i",{class:"icon-delete",onClick:e=>c.delAttrClick(o,t.name)},[Object(n["createElementVNode"])("div",{class:Object(n["normalizeClass"])(["hover-con two",{"en-del":"en"==e.$i18n.locale}])},Object(n["toDisplayString"])(e.$t("del")),3)],8,ol),Object(n["createElementVNode"])("i",{class:"icon-edit",onClick:e=>c.modifyAttr(o,t.name)},[Object(n["createElementVNode"])("div",il,Object(n["toDisplayString"])(e.$t("pcEdit")),1)],8,nl)])):Object(n["createCommentVNode"])("",!0)]))),128))],64))),128))]),e.modelAttrData_self.length<1?(Object(n["openBlock"])(),Object(n["createElementBlock"])("p",rl,Object(n["toDisplayString"])(e.$t("noAttr")),1)):Object(n["createCommentVNode"])("",!0),0!=e.modelAttrData_self.length&&i.store.state.modelStore._allowEditAttr?(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",cl,[Object(n["createElementVNode"])("a",{onClick:t[3]||(t[3]=e=>c.modifyAttr(!1))},[al,Object(n["createTextVNode"])(Object(n["toDisplayString"])(e.$t("addAttr2")),1)])])):Object(n["createCommentVNode"])("",!0)],544),[[n["vShow"],1==e.attrMode]])])]),_:1},8,["onClose"]),Object(n["createVNode"])(s,{title:e.dialogTitle,visible:e.showAddDialog,onClose:c.closeDialog,onCancel:c.closeDialog,onSure:c.sureDialog,class:"ndp3-shuxing-tc-box"},{default:Object(n["withCtx"])(()=>[Object(n["createElementVNode"])("div",sl,[Object(n["createElementVNode"])("ul",null,[Object(n["withDirectives"])(Object(n["createElementVNode"])("li",ll,[Object(n["createElementVNode"])("p",{class:Object(n["normalizeClass"])([{"en-txt":"en"==e.$i18n.locale},"position-rel"])},[dl,Object(n["createTextVNode"])(Object(n["toDisplayString"])(e.$t("attrType"))+"：",1)],2),Object(n["createElementVNode"])("div",{class:"select-drop-down",onMouseenter:t[5]||(t[5]=t=>e.isOpenList=!0)},[Object(n["createElementVNode"])("span",{class:Object(n["normalizeClass"])({"no-choose-txt":!e.modifyAttrData.type})},Object(n["toDisplayString"])(e.modifyAttrData.type||e.$t("chooseMateria2")),3),ml,e.isOpenList?(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",ul,[(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(e.modifyAttrData.alltype,(t,o)=>(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",{key:o,onClick:o=>{e.modifyAttrData.type=t,e.isOpenList=!1}},Object(n["toDisplayString"])(t),9,hl))),128))])):Object(n["createCommentVNode"])("",!0)],32)],512),[[n["vShow"],e.modifyAttrData.isNew&&e.modifyAttrData.alltype.length>1]]),Object(n["createElementVNode"])("li",null,[Object(n["createElementVNode"])("p",pl,[gl,Object(n["createTextVNode"])(Object(n["toDisplayString"])(e.$t("attrName"))+"：",1)]),Object(n["createElementVNode"])("span",null,[Object(n["withDirectives"])(Object(n["createElementVNode"])("input",{class:"input-common",type:"text","onUpdate:modelValue":t[6]||(t[6]=t=>e.modifyAttrData.key=t),placeholder:e.$t("pcInpAttrName2"),maxlength:"50"},null,8,vl),[[n["vModelText"],e.modifyAttrData.key]])])]),Object(n["createElementVNode"])("li",null,[Object(n["createElementVNode"])("p",null,[bl,Object(n["createTextVNode"])(Object(n["toDisplayString"])(e.$t("attrValue"))+"：",1)]),Object(n["createElementVNode"])("span",null,[Object(n["withDirectives"])(Object(n["createElementVNode"])("input",{class:"input-common",type:"text","onUpdate:modelValue":t[7]||(t[7]=t=>e.modifyAttrData.value=t),placeholder:e.$t("pcInpAttrValue"),maxlength:"50"},null,8,wl),[[n["vModelText"],e.modifyAttrData.value]])])])])])]),_:1},8,["title","visible","onClose","onCancel","onSure"]),Object(n["createVNode"])(s,{visible:e.showDelDialog,onClose:t[8]||(t[8]=t=>e.showDelDialog=!1),onCancel:t[9]||(t[9]=t=>e.showDelDialog=!1),onSure:c.sureDelDialog,sureTxt:e.$t("del")},{default:Object(n["withCtx"])(()=>[Object(n["createElementVNode"])("div",Sl,[Cl,Object(n["createElementVNode"])("span",null,Object(n["toDisplayString"])(e.$t("sureToDelAttr")),1)]),Object(n["createElementVNode"])("div",yl,Object(n["toDisplayString"])(e.$t("pcDelAttrTips")),1)]),_:1},8,["visible","onSure","sureTxt"])])}var fl={name:"",props:["isSelectMode"],components:{card:Qn,xdDialog:Ri},setup(){const e=Object(n["reactive"])({attrMode:0,modelAttrData:{},modelAttrData_self:[],delAttr:null,modelInitData:null,modelSelfData:null,isShowAttrModify:!1,modifyAttrData:{},oldAttr:{},isOpenList:!1,showAddDialog:!1,dialogTitle:"",showDelDialog:!1,attrTitle:"",attrTitleSelf:"",hideSelfAttr:!1,attrScroll_1:0,attrScroll_2:0,scrollTimer:null}),t=Object(l["useStore"])(),{menuStore:o,modelStore:i}=t.state,{proxy:r,appContext:c}=Object(n["getCurrentInstance"])(),a=Object(n["ref"])(null),s=Object(n["ref"])(null);Object(n["watch"])(()=>o.attrMenu,()=>{}),Object(n["nextTick"])(()=>{c.config.globalProperties.$attrCom=r}),r.$eventBus.on("VolumnChange",e=>{if(nt.judgeCanWatch())if("attrAll"==o.menuChoose3||"attrSingle"==o.menuChoose3){if("attrAll"==o.menuChoose3)return;const e=ke.getSelectedObjects();1==e.length?(d(o.menuChoose3,e),t.commit("menuStore/setAttrMenu",!0)):t.commit("menuStore/setAttrMenu",!1),nt.sendCenter(3)}else t.commit("menuStore/setAttrMenu",!1),setTimeout(()=>{nt.sendCenter(3)})}),r.$eventBus.on("rendAttrDataSub",e=>{nt.judgeCanWatch()&&(d(e.type,e.node),t.commit("menuStore/setAttrMenu",!0),nt.sendCenter(3))}),r.$eventBus.on("loadBack",()=>{e.hideSelfAttr=nd_viewCtrl.hideAttr}),Object(n["watch"])(()=>o.menuChoose3,e=>{nt.judgeCanWatch()&&"attrAll"==e&&d(o.menuChoose3)}),Object(n["onMounted"])(()=>{});const d=(t,o,n)=>{if("attrAll"==t){const t=ke.getModelTree();return e.attrMode=0,r.getModelAttr(t),e.attrTitle=t.name,void(e.attrTitleSelf=t.name)}o[0]&&(r.getModelAttr(o[0]),e.attrTitle=o[0].name,o[0].children.length>0?e.attrTitleSelf=o[0].name:o[0].parent?e.attrTitleSelf=o[0].parent.name:e.attrTitleSelf=o[0].name)},m=()=>{"meter"!=o.menuChoose&&"attrSingle"!=o.menuChoose3&&t.commit("menuStore/setMenuChoose3",""),t.commit("menuStore/setAttrMenu",!1),e.delAttr=null,e.modelInitData=null,e.modelSelfData=null,e.modifyAttrData={}},u=t=>{e.attrMode=t,nt.sendCenter(4)},h=(t,o)=>{e.attrScroll_1=t,e.attrScroll_2=o,Object(n["nextTick"])(()=>{a.value.scrollTop=t,s.value.scrollTop=o})},p=t=>{clearTimeout(e.scrollTimer),e.scrollTimer=setTimeout(()=>{e.attrScroll_1=t.target.scrollTop,nt.sendCenter(7)},100)},g=t=>{clearTimeout(e.scrollTimer),e.scrollTimer=setTimeout(()=>{e.attrScroll_2=t.target.scrollTop,nt.sendCenter(7)},100)},v=Object(n["toRefs"])(e);return{...v,store:t,close:m,modelStore:i,chooseAttrType:u,getAttrScroll:p,getAttrScroll2:g,setAttrScroll:h,scrollRef_1:a,scrollRef_2:s}},methods:{judgeTxtNone(e){return e&&"string"==typeof e&&""==e.replace(/^[ ]*$/g,"")?"":e},chooseEditAttrType(e){this.modifyAttrData.type=e},getModelAttr(e,t){var o=this;!t&&(this.attrMode=0),this.modelInitData=e;let n=e.children.length>0?e:e.parent;0!=e.children.length||e.parent||(n=e);const i=(e,t)=>{e=e||{},t=t||{},o.formatAttr(t,n.name),nd_viewCtrl.attrfromBusi||o.store.state.modelStore._allowEditAttr?ke.getObjectProperty(n,r):ke.getObjectProperty(n,(e,t)=>{o.formatAttr_self(e)})},r=(t,n)=>{if(nd_viewCtrl.getEditProperty){const n=ke.getfileguid(e.uuid);nd_viewCtrl.getEditProperty(n,(function(e){e&&e.PropertyCategories.length>0?o.formatAttr_self(o.handEnterToNeed(e)):o.formatAttr_self(t)}))}else o.formatAttr_self(t)};ke.getObjectProperty(e,i)},formatAttr(e,t){this.modelAttrData={},this.modelAttrData.name=t;const o=K(e.unit);if(e.area&&"Infinity"!=e.area&&(this.modelAttrData.area=ee(e.area)+" "+o+"²"),e.volume&&"Infinity"!=e.volume&&(this.modelAttrData.volume=ee(e.volume)+" "+o+"³"),e.boundingboxVolume&&"Infinity"!=e.boundingboxVolume&&(this.modelAttrData.boundingboxVolume=ee(e.boundingboxVolume)+" "+o+"³"),e.boundingbox&&e.boundingbox.x&&e.boundingbox.y&&e.boundingbox.z&&"Infinity"!=e.boundingbox.x&&"Infinity"!=e.boundingbox.y&&"Infinity"!=e.boundingbox.z){var n=ee(e.boundingbox.x)+"×",i=ee(e.boundingbox.y)+"×",r=ee(e.boundingbox.z)+" "+o;this.modelAttrData.boundingbox=n+i+r}e.bodyNum&&"Infinity"!=e.bodyNum&&Number(e.bodyNum)>0&&(this.modelAttrData.bodyNum=e.bodyNum+this.$t("gUnit")),e.meshNum&&"Infinity"!=e.meshNum&&Number(e.meshNum)>0&&(this.modelAttrData.meshNum=e.meshNum+this.$t("gUnit")),e.pmiNum&&"Infinity"!=e.pmiNum&&Number(e.pmiNum)>0&&(this.modelAttrData.pmiNum=e.pmiNum+this.$t("gUnit"))},formatAttr_self(e){this.modelAttrData_self=[],this.modelSelfData=e,e=e?e.PropertyCategories:[];var t=this;e&&e.map(e=>{for(var o in e){var n=[];if(e[o]&&e[o].length>0)for(var i=0;i<e[o].length;)n.push({key:e[o][i],value:e[o][i+1]}),i+=2;t.modelAttrData_self.push({name:o,value:n})}}),setTimeout(()=>{nt.sendCenter(4)},100)},getProperty(e,t){var o=this,n=ndViewer.ObjectIdTouuid(e),i=ndViewer.getBodyNodeFromUuid(n);ke.getObjectProperty(i,(e,n)=>{o.formatAttr(n,i.name),fe(i,(function(e){ke.getObjectProperty(e,(n,i)=>{o.formatAttr_self(n);var r={partname:e.name,data:o.modelAttrData_self};t&&t(o.modelAttrData,r)})}))})},delAttrClick(e,t){this.delAttr={type:t,data:e},this.showDelDialog=!0},sureDelDialog(){this.syncDelAttr(),this.showDelDialog=!1},syncDelAttr(){const e=this.modelSelfData.PropertyCategories,t=this;e.map(e=>{for(var o in e)if(o==t.delAttr.type)for(var n=0;n<e[o].length;n+=2)if(e[o][n]==t.delAttr.data.key)return void e[o].splice(n,2)});const o=ke.getfileguid(this.modelInitData.uuid),n=this.handleAttrData(this.modelSelfData);nd_viewCtrl.eidtProperty(n,o,(function(e){e?t.getModelAttr(t.modelInitData,"noFresh"):t.store.commit("showMsgTip",{txt:this.$t("serveErrorTips")})}))},resetDialog(){this.modifyAttrData={key:"",value:""}},closeDialog(){this.showAddDialog=!1},sureDialog(){if(this.modifyAttrData.alltype.length<2&&(this.modifyAttrData.type=this.modifyAttrData.alltype[0]),this.dialogTitle==this.$t("addAttr")&&!this.modifyAttrData.type)return void this.$eventBus.emit("MsgTipEvent",this.$t("pcInpAttrType"));if(!this.modifyAttrData.key||""==this.modifyAttrData.key.replace(/^[ ]*$/g,""))return void this.$eventBus.emit("MsgTipEvent",this.$t("pcInpAttrName2"));const e=this.syncModifyAttr(this.modifyAttrData);e||(this.showAddDialog=!1)},modifyAttr(e,t){const o=[];this.modelAttrData_self.map(e=>{o.push(e.name)});const n=!1===e;this.modifyAttrData={type:t,alltype:o,key:e.key,value:e.value,isNew:n},this.oldAttr=JSON.parse(JSON.stringify(e)),e&&(this.showAddDialog=!0,this.dialogTitle=this.$t("editAttr")),e||(this.showAddDialog=!0,this.dialogTitle=this.$t("addAttr"))},closeModify(e){this.isShowAttrModify=!1,e&&this.syncModifyAttr(e)},syncModifyAttr(e){const t=this.modelSelfData.PropertyCategories,o=this;let n=!1;if(e.isNew?t.map(t=>{for(var i in t){if(i==o.modifyAttrData.type)for(var r=0;r<t[i].length;r+=2)if(t[i][r]==e.key){n=!0;break}if(n){o.$eventBus.emit("MsgTipEvent",this.$t("pcInpAttrName3"));break}i==e.type&&(t[i].push(e.key),t[i].push(e.value))}}):t.map(t=>{for(var i in t){if(i==o.modifyAttrData.type)for(var r=0;r<t[i].length;r+=2)if(t[i][r]==e.key&&e.key!=o.oldAttr.key){n=!0;break}if(n){o.$eventBus.emit("MsgTipEvent",this.$t("pcInpAttrName3"));break}if(i==o.modifyAttrData.type&&!n)for(r=0;r<t[i].length;r+=2)if(t[i][r]==o.oldAttr.key)return t[i][r]=e.key,void(t[i][r+1]=e.value)}}),n)return!0;const i=ke.getfileguid(this.modelInitData.uuid),r=this.handleAttrData();nd_viewCtrl.eidtProperty(r,i,(function(e){e?o.getModelAttr(o.modelInitData,"noFresh"):o.store.commit("showMsgTip",{txt:this.$t("serveErrorTips")})}))},handleAttrData(){const e=this.modelSelfData.PropertyCategories;let t={name:this.attrTitleSelf,PropertyCategories:[]};function o(e){return e.filter((e,t)=>t%2==0)}function n(e){return e.filter((e,t)=>t%2!=0)}return e.map((e,i)=>{for(let r in e)t.PropertyCategories.push({id:i,typename:r,keys:o(e[r]),values:n(e[r])})}),t},handEnterToNeed(e){if(!e)return{};let t={name:e.name,PropertyCategories:[]};return e.PropertyCategories.map(e=>{let o=e.typename,n=[],i={};e.keys.map((t,o)=>{n.push(t),n.push(e.values[o]||"")}),i[o]=n,t.PropertyCategories.push(i)}),t}}};o("2024");const jl=ht()(fl,[["render",Ol],["__scopeId","data-v-6ff02e46"]]);var xl=jl,Tl=o("82fc"),Ml=o.n(Tl),Dl=o("dd36"),El=o.n(Dl),kl=o("9718"),Bl=o.n(kl),Nl=o("0410"),Al=o.n(Nl),_l=o("0e31"),Il=o.n(_l);const Vl=e=>(Object(n["pushScopeId"])("data-v-1e585504"),e=e(),Object(n["popScopeId"])(),e),Pl=["uuid"],Ll={class:"ts-tcCnt dialog_header"},$l={class:"ndp3-Annotation2"},Rl={class:"textarea-box-SaveAnnotation"},zl={class:"textarea-img-wrap"},Fl={class:"textarea-img-box"},Hl=["src"],Ul=["placeholder"],Wl={id:"textarea-num"},Gl={class:"tool-box tool-box-SaveAnnotation"},Xl={class:"tool-title"},Yl={class:"tool-list"},Jl={class:"pen-box"},Zl={class:"pathline-img"},Kl={class:"arrow-img"},Ql={class:"straight-img"},ql={class:"circle-img"},ed={class:"rect-img"},td={class:"line-box"},od={class:"line-spread-box"},nd={class:"line1-img"},id={class:"line2-img"},rd={class:"line3-img"},cd={class:"color-box"},ad={class:"color-spread-box"},sd={class:"orange-img"},ld={class:"blue-img"},dd={class:"green-img"},md={class:"grey-img"},ud={class:"add-img-box"},hd=Vl(()=>Object(n["createElementVNode"])("div",{class:"line"},null,-1)),pd=["idx"],gd={key:1,class:"ndp3-save-btn no"},vd={class:"img-box"},bd=["src"],wd=["title","innerHTML"],Sd={class:"ndp3-file-markSub",id:"calcAudioShow"},Cd={class:"ndp3-file-markSub-main audio"},yd={class:"main voice-box"},Od={class:"ndp3-voice-block",style:{cursor:"pointer"}},fd={src:Al.a,width:"12"},jd={src:Il.a,width:"12"},xd={class:"ndp3-voice-number"};function Td(e,t,i,r,c,a){const s=Object(n["resolveComponent"])("bigimg"),l=Object(n["resolveComponent"])("confirm"),d=Object(n["resolveDirective"])("drag");return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",{style:{"z-index":"5"},onContextmenu:t[38]||(t[38]=Object(n["withModifiers"])(()=>{},["right","stop","prevent"]))},[Object(n["withDirectives"])(Object(n["createElementVNode"])("section",{class:"sign-out",onClick:t[0]||(t[0]=(...e)=>a.cancelSave&&a.cancelSave(...e)),onMouseenter:t[1]||(t[1]=(...e)=>a.tagMouseEnter&&a.tagMouseEnter(...e))},Object(n["toDisplayString"])(e.$t("tagExit2")),545),[[n["vShow"],e.tcStep0]]),Object(n["withDirectives"])(Object(n["createElementVNode"])("section",{class:"sign-out",onClick:t[2]||(t[2]=e=>a.exitChecktag("click")),uuid:r.store.state.tagStore.showonlyUuid,id:"tagShow"},Object(n["toDisplayString"])(e.$t("tagExitSee")),9,Pl),[[n["vShow"],e.tcChecktag]]),Object(n["withDirectives"])((Object(n["openBlock"])(),Object(n["createElementBlock"])("div",{class:"ndp3-tc-box_2 ts-tc comment-tc",id:"tcStep1",onMouseenter:t[34]||(t[34]=(...e)=>a.tagMouseEnter&&a.tagMouseEnter(...e))},[Object(n["createElementVNode"])("div",Ll,[Object(n["createElementVNode"])("div",$l,[Object(n["createElementVNode"])("section",Rl,[Object(n["createElementVNode"])("div",{class:"textarea-wrap",onMousedown:t[8]||(t[8]=(...e)=>a.inputMouse&&a.inputMouse(...e))},[Object(n["withDirectives"])(Object(n["createElementVNode"])("div",zl,[Object(n["createElementVNode"])("div",Fl,[Object(n["createElementVNode"])("img",{class:"textarea-img",src:e.imgSrc_add||o("0d85"),alt:"",onClick:t[3]||(t[3]=(...e)=>a.upimgClick&&a.upimgClick(...e))},null,8,Hl)]),Object(n["createElementVNode"])("div",{class:"delete-img-btn",onClick:t[4]||(t[4]=(...e)=>a.onDelimg&&a.onDelimg(...e))},Object(n["toDisplayString"])(e.$t("tagDelImg")),1)],512),[[n["vShow"],e.tcTagImg]]),Object(n["withDirectives"])(Object(n["createElementVNode"])("textarea",{id:"annoText",placeholder:e.$t("tagTips"),maxlength:"50",rows:"4","onUpdate:modelValue":t[5]||(t[5]=t=>e.annoText_add=t),onKeyup:t[6]||(t[6]=(...e)=>a.textChange&&a.textChange(...e)),onKeydown:t[7]||(t[7]=Object(n["withKeys"])((...e)=>a.textareaKeydown&&a.textareaKeydown(...e),["enter","native"]))},null,40,Ul),[[n["vModelText"],e.annoText_add]]),Object(n["createElementVNode"])("div",Wl,Object(n["toDisplayString"])(e.annoText_add.length)+"/50",1)],32)]),Object(n["createElementVNode"])("section",Gl,[Object(n["createElementVNode"])("p",Xl,Object(n["toDisplayString"])(e.$t("tagDraw")),1),Object(n["createElementVNode"])("div",Yl,[Object(n["withDirectives"])(Object(n["createElementVNode"])("div",Jl,[Object(n["createElementVNode"])("img",{src:Ml.a,alt:"",onClick:t[9]||(t[9]=e=>a.setSpreadType("pen"))})],512),[[n["vShow"],"pen"!=e.spreadType]]),Object(n["withDirectives"])(Object(n["createElementVNode"])("div",{class:"pen-spread-box",onClick:t[16]||(t[16]=Object(n["withModifiers"])((...e)=>a.none&&a.none(...e),["stop"]))},[Object(n["createElementVNode"])("img",{src:Ml.a,alt:"",onClick:t[10]||(t[10]=e=>a.setSpreadType(""))}),Object(n["withDirectives"])(Object(n["createElementVNode"])("div",Zl,[Object(n["createElementVNode"])("a",{class:Object(n["normalizeClass"])(["pathline",{active:"0"==e.selectIdx}]),onClick:t[11]||(t[11]=Object(n["withModifiers"])(e=>a.tagPenClick(0,"point"),["stop"]))},null,2)],512),[[n["vShow"],"sync"!=e.viewMode]]),Object(n["createElementVNode"])("div",Kl,[Object(n["createElementVNode"])("a",{class:Object(n["normalizeClass"])(["arrow",{active:"1"==e.selectIdx}]),onClick:t[12]||(t[12]=Object(n["withModifiers"])(e=>a.tagPenClick(1,"arrow"),["stop"]))},null,2)]),Object(n["createElementVNode"])("div",Ql,[Object(n["createElementVNode"])("a",{class:Object(n["normalizeClass"])(["straight",{active:"2"==e.selectIdx}]),onClick:t[13]||(t[13]=Object(n["withModifiers"])(e=>a.tagPenClick(2,"line"),["stop"]))},null,2)]),Object(n["createElementVNode"])("div",ql,[Object(n["createElementVNode"])("a",{class:Object(n["normalizeClass"])(["circle",{active:"3"==e.selectIdx}]),onClick:t[14]||(t[14]=Object(n["withModifiers"])(e=>a.tagPenClick(3,"circle"),["stop"]))},null,2)]),Object(n["createElementVNode"])("div",ed,[Object(n["createElementVNode"])("a",{class:Object(n["normalizeClass"])(["rect",{active:"4"==e.selectIdx}]),onClick:t[15]||(t[15]=Object(n["withModifiers"])(e=>a.tagPenClick(4,"rect"),["stop"]))},null,2)])],512),[[n["vShow"],"pen"==e.spreadType]]),Object(n["withDirectives"])(Object(n["createElementVNode"])("div",td,[Object(n["createElementVNode"])("img",{src:El.a,alt:"",onClick:t[17]||(t[17]=e=>a.setSpreadType("line"))})],512),[[n["vShow"],"line"!=e.spreadType]]),Object(n["withDirectives"])(Object(n["createElementVNode"])("div",od,[Object(n["createElementVNode"])("img",{src:El.a,alt:"",onClick:t[18]||(t[18]=e=>a.setSpreadType(""))}),Object(n["createElementVNode"])("div",nd,[Object(n["createElementVNode"])("a",{class:Object(n["normalizeClass"])(["line1",{active:2==e.strokeWidth}]),onClick:t[19]||(t[19]=Object(n["withModifiers"])(e=>a.tagLineClick(2),["stop"]))},null,2)]),Object(n["createElementVNode"])("div",id,[Object(n["createElementVNode"])("a",{class:Object(n["normalizeClass"])(["line2",{active:4==e.strokeWidth}]),onClick:t[20]||(t[20]=Object(n["withModifiers"])(e=>a.tagLineClick(4),["stop"]))},null,2)]),Object(n["createElementVNode"])("div",rd,[Object(n["createElementVNode"])("a",{class:Object(n["normalizeClass"])(["line3",{active:6==e.strokeWidth}]),onClick:t[21]||(t[21]=Object(n["withModifiers"])(e=>a.tagLineClick(6),["stop"]))},null,2)])],512),[[n["vShow"],"line"==e.spreadType]]),Object(n["withDirectives"])(Object(n["createElementVNode"])("div",cd,[Object(n["createElementVNode"])("img",{src:Bl.a,alt:"",onClick:t[22]||(t[22]=e=>a.setSpreadType("color"))})],512),[[n["vShow"],"color"!=e.spreadType]]),Object(n["withDirectives"])(Object(n["createElementVNode"])("div",ad,[Object(n["createElementVNode"])("img",{src:Bl.a,alt:"",onClick:t[23]||(t[23]=e=>a.setSpreadType(""))}),Object(n["createElementVNode"])("div",sd,[Object(n["createElementVNode"])("a",{class:Object(n["normalizeClass"])(["orange",{active:"rgb(255,99,2)"==e.strokeColor}]),onClick:t[24]||(t[24]=Object(n["withModifiers"])(e=>a.tagColorClick("rgb(255,99,2)"),["stop"]))},null,2)]),Object(n["createElementVNode"])("div",ld,[Object(n["createElementVNode"])("a",{class:Object(n["normalizeClass"])(["blue",{active:"rgb(34,131,249)"==e.strokeColor}]),onClick:t[25]||(t[25]=Object(n["withModifiers"])(e=>a.tagColorClick("rgb(34,131,249)"),["stop"]))},null,2)]),Object(n["createElementVNode"])("div",dd,[Object(n["createElementVNode"])("a",{class:Object(n["normalizeClass"])(["green",{active:"rgb(29,231,96)"==e.strokeColor}]),onClick:t[26]||(t[26]=Object(n["withModifiers"])(e=>a.tagColorClick("rgb(29,231,96)"),["stop"]))},null,2)]),Object(n["createElementVNode"])("div",md,[Object(n["createElementVNode"])("a",{class:Object(n["normalizeClass"])(["grey",{active:"rgb(51,51,51)"==e.strokeColor}]),onClick:t[27]||(t[27]=Object(n["withModifiers"])(e=>a.tagColorClick("rgb(51,51,51)"),["stop"]))},null,2)])],512),[[n["vShow"],"color"==e.spreadType]]),Object(n["withDirectives"])(Object(n["createElementVNode"])("div",ud,[Object(n["createElementVNode"])("span",{class:Object(n["normalizeClass"])(["add-img",{active:e.activeImg}]),onClick:t[29]||(t[29]=(...e)=>a.upimgClick&&a.upimgClick(...e))},[Object(n["createElementVNode"])("input",{style:{display:"none"},type:"file",onChange:t[28]||(t[28]=(...e)=>a.onChange&&a.onChange(...e)),ref:"picSelectInput",class:"choosepic",accept:"image/gif,image/jpeg,image/jpg,image/png,image/bmp"},null,544)],2)],512),[[n["vShow"],e.showImgTag]]),hd,Object(n["createElementVNode"])("div",{class:"revoke-box",onClick:t[30]||(t[30]=(...e)=>a.revokeClick&&a.revokeClick(...e))},[Object(n["createElementVNode"])("span",{class:Object(n["normalizeClass"])(["revoke",{no:!e.revokeEnable}])},null,2)]),Object(n["createElementVNode"])("div",{class:"empty-box",onClick:t[31]||(t[31]=(...e)=>a.clearClick&&a.clearClick(...e))},[Object(n["createElementVNode"])("span",{class:Object(n["normalizeClass"])(["empty",{no:!e.emptyEnable}])},null,2)])])]),Object(n["createElementVNode"])("section",{class:"btn-box",idx:e.selectIdx},[Object(n["createElementVNode"])("button",{class:"cancel-btn",onClick:t[32]||(t[32]=(...e)=>a.cancelSaveClick&&a.cancelSaveClick(...e))},Object(n["toDisplayString"])(e.$t("tagCancle")),1),e.saveEnable?(Object(n["openBlock"])(),Object(n["createElementBlock"])("button",{key:0,class:"ndp3-save-btn",onClick:t[33]||(t[33]=(...e)=>a.sureSave&&a.sureSave(...e))},Object(n["toDisplayString"])(e.$t("tagSave")),1)):(Object(n["openBlock"])(),Object(n["createElementBlock"])("button",gd,Object(n["toDisplayString"])(e.$t("tagSave")),1))],8,pd)])])],32)),[[n["vShow"],e.tcStep1],[d]]),(Object(n["openBlock"])(),Object(n["createBlock"])(n["Teleport"],{to:e.teleportTo},[Object(n["withDirectives"])(Object(n["createElementVNode"])("section",{class:Object(n["normalizeClass"])(["ndp3-Annotation-content",{"only-text":e.annoText_check&&!e.imgSrc_check}]),id:"calcPicTextShow"},[Object(n["withDirectives"])(Object(n["createElementVNode"])("div",vd,[Object(n["createElementVNode"])("img",{class:"Annotation-img",src:e.imgSrc_check,alt:"",onClick:t[35]||(t[35]=(...e)=>a.checkBigimg&&a.checkBigimg(...e))},null,8,bd)],512),[[n["vShow"],e.imgSrc_check]]),Object(n["createElementVNode"])("p",{class:Object(n["normalizeClass"])(["Annotation-desc",{mt8:e.imgSrc_check&&e.annoText_check}]),title:e.annoText_check,innerHTML:e.annoText_check},null,10,wd)],2),[[n["vShow"],e.tcCheckTI&&"checkaudio"!=e.tcType&&(e.imgSrc_check||a.judgeTxtEmpty(e.annoText_check))]]),Object(n["withDirectives"])(Object(n["createElementVNode"])("div",Sd,[Object(n["createElementVNode"])("div",Cd,[Object(n["createElementVNode"])("div",yd,[Object(n["createElementVNode"])("div",{class:"voice",onClick:t[36]||(t[36]=(...e)=>a.audioClick&&a.audioClick(...e))},[Object(n["createElementVNode"])("label",Od,[Object(n["withDirectives"])(Object(n["createElementVNode"])("img",fd,null,512),[[n["vShow"],!e.audioPlaying]]),Object(n["withDirectives"])(Object(n["createElementVNode"])("img",jd,null,512),[[n["vShow"],e.audioPlaying]]),Object(n["createElementVNode"])("span",xd,Object(n["toDisplayString"])(e.audioTime)+' "',1)])])])])],512),[[n["vShow"],e.tcCheckTI&&"checkaudio"==e.tcType]])],8,["to"])),Object(n["withDirectives"])(Object(n["createVNode"])(s,{ref:"bigImg","img-src":e.imgSrc_check,onClose:t[37]||(t[37]=t=>e.tcCheckBig=!1)},null,8,["img-src"]),[[n["vShow"],e.tcCheckBig]]),Object(n["createVNode"])(l,{ref:"msgBox"},null,512)],32)}var Md=o("04b3"),Dd=o.n(Md);const Ed={class:"tag-my-dialog dialog",style:{}},kd=Object(n["createElementVNode"])("div",{class:"dialog-cover"},null,-1),Bd={class:"dialog-model",style:{width:"90%",height:"90%"}},Nd={class:"dialog-content"},Ad={class:"big-viewer-title"},_d={class:"big-title"},Id=["data-tip2"],Vd=Object(n["createElementVNode"])("img",{src:Dd.a,alt:""},null,-1),Pd=[Vd],Ld={class:"bigimg-content"},$d={class:"drag-div",id:"drag-div",ref:"dragImgRef2"},Rd=["src"];function zd(e,t,o,i,r,c){return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",Ed,[kd,Object(n["createElementVNode"])("div",Bd,[Object(n["createElementVNode"])("div",Nd,[Object(n["createElementVNode"])("div",Ad,[Object(n["createElementVNode"])("div",_d,Object(n["toDisplayString"])(e.$t("tagSeeBigImg")),1),Object(n["createElementVNode"])("div",{"data-tip2":e.$t("tagSeeSmallImg"),onClick:t[0]||(t[0]=(...e)=>i.closeClick&&i.closeClick(...e)),style:{cursor:"pointer"}},Pd,8,Id)])]),Object(n["createElementVNode"])("div",Ld,[Object(n["createElementVNode"])("div",$d,[Object(n["createElementVNode"])("img",{id:"bigImg",class:"big_img",style:Object(n["normalizeStyle"])([{cursor:"pointer"},{transform:"rotateY("+e.overturn+"deg) rotate("+e.rotate+"deg) scale("+e.scale+")"}]),src:o.imgSrc,ondragStart:"return false",alt:""},null,12,Rd)],512)])])])}var Fd={props:{imgSrc:{type:String,default:""}},setup(e){const{proxy:t}=Object(n["getCurrentInstance"])(),o=(Object(l["useStore"])(),Object(n["reactive"])({showBigModel:!1,rotate:0,overturn:0,scale:1})),i=Object(n["ref"])(null);Object(n["watch"])(()=>t.imgSrc,()=>{r()}),Object(n["onBeforeMount"])(()=>{}),Object(n["onMounted"])(()=>{});const r=()=>{o.rotate=0,o.overturn=0,o.scale=1,i.value&&i.value.removeAttribute("style"),c()};function c(){var e=new Image;e.src=t.imgSrc,e.onload=function(){i.value&&i.value.removeAttribute("style");var t=e.width,o=e.height,n=1,r=$("#bigImg").parent().width(),c=$("#bigImg").parent().height();$("#bigImg").css("cursor","default"),o>c||t>r?(n=Math.min(c/o,r/t),$("#bigImg").css("width",n*t)):$("#bigImg").css("width","auto"),o*n<c&&$("#bigImg").parent().css("top",(c-o*n)/2),$("#bigImg").css("opacity",1)}}const a=()=>{ctx.emit("closeSee")},s=e=>{o.rotate=o.rotate+e},d=()=>{180==o.overturn?o.overturn=0:o.overturn=180},m=e=>{e.wheelDelta>0?o.scale=o.scale+.05:o.scale=o.scale-.05,o.scale<1&&(o.scale=1),o.scale>5&&(o.scale=5)},u=()=>{o.showBigModel=!0,o.scale=1};function h(){t.$emit("close")}return{...Object(n["toRefs"])(o),closeClick:h,closeSee:a,rotateClick:s,rotateTurnClick:d,rollImg:m,resetModel:u,resetStyle:r,dragImgRef2:i}}};o("67c4");const Hd=ht()(Fd,[["render",zd]]);var Ud=Hd,Wd=o("c7ac"),Gd=o.n(Wd);const Xd={key:0,class:"mask-box",style:{display:"flex"}},Yd={class:"dialog-box"},Jd={class:"warn-box"},Zd=Object(n["createElementVNode"])("img",{class:"warn-img",src:Gd.a,alt:""},null,-1),Kd={class:"btn-box"};function Qd(e,t,o,i,r,c){return e.isShow?(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",Xd,[Object(n["createElementVNode"])("div",Yd,[Object(n["createElementVNode"])("img",{class:"close-img",src:Dd.a,alt:"",onClick:t[0]||(t[0]=(...e)=>i.closeClick&&i.closeClick(...e))}),Object(n["createElementVNode"])("div",Jd,[Zd,Object(n["createTextVNode"])(" "+Object(n["toDisplayString"])(e.msg),1)]),Object(n["createElementVNode"])("section",Kd,[Object(n["withDirectives"])(Object(n["createElementVNode"])("button",{class:"cancel-btn",onClick:t[1]||(t[1]=(...e)=>i.cancelClick&&i.cancelClick(...e))},Object(n["toDisplayString"])(e.$t("cancel")),513),[[n["vShow"],e.showCancel]]),Object(n["createElementVNode"])("button",{class:"ndp3-save-btn",onClick:t[2]||(t[2]=(...e)=>i.sureClick&&i.sureClick(...e))},Object(n["toDisplayString"])(e.showCancel?e.$t("save"):e.$t("sure")),1)])])])):Object(n["createCommentVNode"])("",!0)}var qd={setup(){const{proxy:e,appContext:t}=Object(n["getCurrentInstance"])();Object(n["nextTick"])(()=>{t.config.globalProperties.$msgBox=e});const o=Object(n["reactive"])({msg:"",isShow:!1,showCancel:!0});var i=()=>{},r=()=>{},c=()=>{};function a(e,t,o,n){this.msg=e,this.isShow=!0,this.showCancel=!0,i=t,r=o,c=n||o}function s(e,t){this.msg=e,this.isShow=!0,this.showCancel=!1,i=t,c=t}function l(){this.isShow=!1,i&&i()}function d(){this.isShow=!1,r&&r()}function m(){this.isShow=!1,c&&c()}return{...Object(n["toRefs"])(o),showMsg:a,showTip:s,cancelClick:d,sureClick:l,closeClick:m}}};const em=ht()(qd,[["render",Qd]]);var tm=em,om={setup(){const{proxy:e,appContext:t}=Object(n["getCurrentInstance"])();Object(n["nextTick"])(()=>{t.config.globalProperties.$tag=e});const o=Object(l["useStore"])(),i=Object(n["reactive"])({language:"zh",selectIdx:"-1",teleportTo:"body",annoText_add:"",annoText_check:"",tcChecktag:!1,tcStep0:!1,tcStep1:!1,tagNum:0,tagNum_list:0,svgNum_list:[],ctrlDraw:{tagIdx:0,_openDraw:!1,setPen:function(){}},imgSrc_check:"",imgSrc_add:"",spreadType:"",colors:["rgb(255,99,2)","rgb(34,131,249)","rgb(29,231,96)","rgb(51,51,51)"],color:"orange",strokeColor:"rgb(255,99,2)",strokeWidth:2,activeImg:!1,tcTagImg:!1,tcCheckTI:!1,tcCheckBig:!1,saveEnable:!1,emptyEnable:!1,revokeEnable:!1,setTime0:null,curUuid:"",audioPlaying:!1,audioTime:0,audioObj:null,showImgTag:!0,tagSaveFlag:!1,viewMode:"",selectAnnoTimer:null}),r=Object(n["ref"])(null);var c=Object(n["computed"])(()=>o.state.nowTag);return Object(n["watch"])(()=>o.state.modelStore.delTagUuid,t=>{("sync"!=nd_viewCtrl.viewMode||nd_viewCtrl.rtmSDK.isRtmOperate||nd_viewCtrl.rtmSDK.isRtmFreeOper)&&i.curUuid&&e.exitChecktag()}),Object(n["watch"])(()=>i.annoText_add,t=>{t&&e.onCheckSaveEable()}),{...Object(n["toRefs"])(i),store:o,tagList:c,picSelectInput:r}},components:{bigimg:Ud,confirm:tm},computed:{name(){return this.data}},mounted(){var e=document.getElementById("viewer");e&&(this.ctrlDraw=new Qe(e,this),window.ctrlDraw=this.ctrlDraw),this.$eventBus.on("loadAndInitSub",()=>{this.listenersCoreviewEvent(),clearTimeout(this.selectAnnoTimer),this.store.state.modelStore.annotationTagId&&(this.selectAnnoTimer=setTimeout(()=>{ke.selectAnnotation(this.store.state.modelStore.annotationTagId),this.store.commit("modelStore/setAnnotationTagId","")},600))}),this.language=g(),this.viewMode=nd_viewCtrl.viewMode,this.$eventBus.on("addtagEvent",e=>{this.tcChecktag&&this.exitChecktag(!0),this.showImgTag=!e,this.startDrawTag()}),this.$eventBus.on("closeTagSeeSub",e=>{this.exitChecktag(!0)}),this.language="zh",setTimeout(()=>{this.teleportTo="#vueMain"})},methods:{pageChangedBack(){},listenersCoreviewEvent(){if(ke._viewer){if(!this.listenered){this.listenered=!0;var e=this;this.addViewListen(),ke._viewer.addEventListener("annotationSelectedEvent",t=>{this.audioObj&&this.audioObj.pause(),ke.clearSelection(),e.tcType="",e.tcAnnotext=!1;const o=document.getElementById("tagCancelButton"),n=document.getElementById("tagSaveButton"),i=document.getElementById("tagTooltips");o&&(o.style.display="none"),n&&(n.style.display="none"),i&&(i.style.display="none"),e.$eventBus.emit("openTagPointSub"),e.$eventBus.emit("rigthClickEvent",{showPop:!1}),e.$eventBus.emit("closeShowSetting"),e.$eventBus.emit("CloseExpbox"),setTimeout(()=>{NDSWebViewer.SETTING.enableArrowKeyOp=!0,e.store.commit("menuStore/setShowManyConfig",!0),ke._viewer.displayViewBox(!1),e.store.commit("menuStore/setShowOneMenu",!0)},200),e.store.commit("menuStore/setShowAllMenu",!1),ke._viewer.setOperatorByID("OpOrbit"),ke.setMeasureOpType(""),e.store.commit("menuStore/setGrithMenu",!1),e.store.commit("menuStore/setMenuChoose",""),e.store.commit("menuStore/setMenuChoose2",""),e.store.commit("menuStore/setMenuChoose3",""),e.store.commit("menuStore/setStructMenu",!1),e.store.commit("menuStore/setAttrMenu",!1),e.store.commit("menuStore/setCoutMenu",!1),e.store.commit("menuStore/setUnitMenu",!1),e.store.commit("menuStore/setPmiMenu",!1),e.curUuid=t.userData.uuid;var r=e.store.state.modelStore.nowTag,c=r.filter((function(t){return t.state.uuid==e.curUuid}))[0];e.curTagInfo=c,this.$emit("tagOperate","checkTag"),this.tcCheckTI=!1,this.imgSrc_check="",this.annoText_check="",this.tcCheckBig=!1;var a=c;"AudioAnno"==a.state.type?(this.tcCheckTI=!0,e.checkTag_Audio(a,a.imgURL)):(e.tcType="checkpic",this.imgSrc_check=a.imgURL,this.annoText_check=R(a.text||""),this.tcCheckTI=!0,e.store.state.modelStore.needOpenImg&&(e.checkBigimg(),e.store.commit("modelStore/setNeedOpenImg",!1))),this.tcStep0=!1,this.tcStep1=!1,this.imgSrc_add=!1,this.annoText_add=!1,this.tcTagImg=!1,NDSWebViewer.SETTING.enableSelect=!1,this.chectTag_Normal(a),nd_viewCtrl&&nd_viewCtrl.beSelectTag&&nd_viewCtrl.beSelectTag(c.state.uuid)});var t=document.querySelector(".canvas2DBIM"),o=function(t){e.tcChecktag&&e.chectTag_Normal(e.curTagInfo)},n=function(){t.removeEventListener("touchmove",o),t.removeEventListener("touchend",n),t.removeEventListener("touchcancle",n)};t.addEventListener("touchstart",(function(){t.addEventListener("touchmove",o,!1),t.addEventListener("touchend",n,!1),t.addEventListener("touchcancle",n,!1)}),!1)}}else setTimeout(()=>{this.listenersCoreviewEvent()},500)},addViewListen(){var e=this,t=document.querySelector(".canvas2DBIM"),o=function(t){e.tcChecktag&&e.ctrlDraw.resizeTags()},n=function(){t.removeEventListener("mousemove",o),t.removeEventListener("mouseup",n)};t.addEventListener("mousedown",(function(){t.addEventListener("mousemove",o,!1),t.addEventListener("mouseup",n,!1)}),!1),t.removeEventListener("DOMMouseScroll",o),t.removeEventListener("mousewheel",o),t.addEventListener("mousewheel",o,!1),t.addEventListener("DOMMouseScroll",o,!1),document.addEventListener("keydown",(function(e){switch(e.keyCode){case 37:case 39:setTimeout(()=>{o()},200);break}}))},textareaKeydown(){let e=window.event||arguments[0];if("Enter"==e.key||"Enter"==e.code||13==e.keyCode)return e.returnValue=!1,!1},textChange(){setTimeout(()=>{this.onCheckSaveEable()},0)},onCheckSaveEable(){var e=!1;this.annoText_add.trim().length>0&&(e=!0);var t=!1;this.ctrlDraw.drawInfo.list.length>1&&(e=!0,t=!0),this.imgSrc_add&&(e=!0),this.saveEnable=e,this.revokeEnable=t,this.emptyEnable=t},onShowstep1(){this.tcStep0=!1,window._this=this,this.selectIdx="-1",this.spreadType="",this.setTime0&&clearTimeout(this.setTime0),this.tcStep1=!0,NDSWebViewer.SETTING.enableArrowKeyOp=!1,this.ctrlDraw._openDraw=!1,this.setTime0=setTimeout(()=>{$("#annoText").focus(),"sync"==this.viewMode?this.tagPenClick(1,"arrow"):this.tagPenClick(0,"point"),this.ctrlDraw._openDraw=!1},800)},setSpreadType(e){this.spreadType=e,this.activeImg=!1,this.ctrlDraw._openDraw=!!e},checkBigimg(){this.tcCheckBig=!0,this.$refs.bigImg.resetStyle()},revokeClick(){this.revokeEnable&&(this.ctrlDraw&&this.ctrlDraw.revoke(),this.onCheckSaveEable())},clearClick(){this.emptyEnable&&(this.ctrlDraw&&this.ctrlDraw.clear(),this.onCheckSaveEable())},upimgClick(){this.activeImg=!0,setTimeout(()=>{this.activeImg=!1},1e3),this.$refs.picSelectInput.value="",this.picSelectInput.dispatchEvent(new MouseEvent("click"))},none(){},onDelimg(){this.imgSrc_add="",this.tcTagImg=!1,this.activeImg=!1,this.onCheckSaveEable()},onChange(e){var t=this,o=e.target.files[0];if(o){var n=o.name.slice(o.name.lastIndexOf(".")+1,o.name.length);if(n=n.toLowerCase(),-1!=["gif","jpeg","jpg","png","bmp"].indexOf(n))if(o.size>5242880)this.$msgBox.showTip("图片过大");else{var i=new FileReader;i.onload=function(e){t.imgSrc_add=e.target.result,t.tcTagImg=!0,t.onCheckSaveEable()},i.readAsDataURL(o),t.activeImg=!1}else this.$msgBox.showTip("图片格式不正确")}},chectTag_Normal:function(e){this.ctrlDraw.showTags(e),this.showTag_only(e),this.tcChecktag=!0},resetTagMsg(){this.selectIdx=-1,this.imgSrc_add="",this.annoText_add="",this.tcTagImg=!1,this.saveEnable=!1,this.revokeEnable=!1,this.emptyEnable=!1},startDrawTag(e){this.setTime0&&clearTimeout(this.setTime0),this.store.commit("tagStore/setTagshow",!1),this.resetTagMsg(),this.showTagTips(),this.tcStep0=!0,this.tcTagImg=!1,this.imgSrc_add="",this.tcStep1=!1,this.imgSrc_add="",this.annoText_add="",this.tagNum=this.store.state.modelStore.allTag.length+1,this.saveEnable=!1,this.revokeEnable=!1,this.emptyEnable=!1,this.ctrlDraw.setPen("text"),this.ctrlDraw.openDraw(this.tagNum),this.tagNum_list=0,setTimeout(()=>{$("#annoText").focus()},500)},showTagTips(){const e=document.getElementById("tagTooltips");e.style.display="block",e.innerHTML=this.$t("choosePoint"),e.style.left="-1000px"},hideTagTips(){const e=document.getElementById("tagTooltips");e.style.display="none"},sureSave:function(){if(this.tagSaveFlag)return;var e=this;e.ctrlDraw.closeDraw(),e.tagSaveFlag=!0,$(".nd-selector-box").css("display","none");var t=e.ctrlDraw.drawInfo;t.text=encodeURIComponent(this.annoText_add);const o=()=>{e.tcStep0=!1,e.tcStep1=!1,e.tcTagImg=!1,e.annoText_add="",e.imgSrc_add="",e.store.commit("menuStore/setMenuChoose",""),NDSWebViewer.SETTING.enableArrowKeyOp=!0,e.tagSaveFlag=!1,this.$eventBus.emit("openTagPointSub"),"sync"==nd_viewCtrl.viewMode&&setTimeout(()=>{window.nd_rtmReceiveAllMsg()})};if("yzp"==nd_viewCtrl.viewMode){var n=document.createElement("canvas");n.style.width=$("#t_container").width()+"px",n.style.height=$("#t_container").height()+"px",n.id="drawImg",$("#t_container").append(n),$(".ico-sign").hide();var i=new Image;i.setAttribute("crossOrigin","anonymous"),ke._viewer.getScreenCapture(e=>{i.src=e}),i.onload=function(){n.width=i.width,n.height=i.height,n.getContext("2d").drawImage(i,0,0),We((function(n){e.tcTagImg&&e.imgSrc_add?e.addTag(t,e.imgSrc_add,n):e.addTag(t,"",n),$("#drawImg").remove(),o()}))}}else e.tcTagImg&&e.imgSrc_add?e.addTag(t,this.imgSrc_add):e.addTag(t),o()},cancelSaveClick(){var e=this;this.onCheckSaveEable(),this.saveEnable?this.$msgBox.showMsg(this.$t("tagSaveConfirm2"),(function(){e.sureSave()}),(function(){e.cancelSave()})):this.cancelSave()},cancelSave(e){NDSWebViewer.SETTING.enableArrowKeyOp=!0,this.$emit("tagOperate","cancel"),this.hideTagTips(),this.ctrlDraw&&this.ctrlDraw.destroy(),this.tcChecktag=!1,this.store.commit("tagStore/setTagdrawing",!1),1!=e&&this.showTag(),this.saveEnable=!1,this.tcStep1=!1,this.tcStep0=!1,this.selectIdx=-1,this.tcType="",this.imgSrc_check="",this.imgSrc_add="",1!=e&&(this.store.commit("menuStore/setShowAllMenu",!0),this.store.commit("menuStore/setShowOneMenu",!0),setTimeout(()=>{this.store.commit("menuStore/setShowManyConfig",!0),nt.sendCenter(2),nt.sendCenter(3),nt.endTagChange()},200),this.store.commit("menuStore/setMenuChoose",""),this.store.commit("menuStore/setMenuChoose2",""),this.store.commit("menuStore/setMenuChoose3",""),"sync"==nd_viewCtrl.viewMode&&this.$eventBus.emit("openTagPointSub"))},exitChecktag(e){this.tcCheckBig=!1,this.tcChecktag=!1,this.tcCheckTI=!1,this.annoText_check="",this.imgSrc_check="",this.imgSrc_add="",this.curUuid="",ke._viewer.resetSelectAnnotation(),NDSWebViewer.SETTING.enableSelect=!0,this.audioObj&&this.audioObj.pause();try{this.ctrlDraw&&this.ctrlDraw.destroy(),e||"click"==e||ke.pdfTag.restoreState_BeforeCheckTag(),this.store.commit("tagStore/setTagdrawing",!1),this.cancelSave(e)}catch(n){}this.showTag();var t=document.querySelector(".imgAnnotationLogoSelected"),o=document.querySelectorAll(".imgAnnotationLogo");for(let i=0;i<o.length;i++){let e=o[i].getAttribute("uuid");t&&!e&&(e=t.getAttribute("uuid")),e&&ke._viewer.setAnnotationType("annotationLogo",e)}this.store.commit("setShowAreaTips",!0),this.store.commit("menuStore/setShowAllMenu",!0),ke._viewer.displayViewBox(!0),this.store.commit("menuStore/setShowManyConfig",!0),nd_viewCtrl&&nd_viewCtrl.exitTag&&nd_viewCtrl.exitTag(),e&&"click"==e&&nt.sendCenter(6,{closeTag:!0})},showTag_only:function(e){this.hideTag(),ke._viewer.setAnnotationsVisibilityByUuid(1,e.state.uuid),nt.sendCenter(6,{openTagId:e.state.uuid})},hideTag:function(){this.store.state.modelStore.nowTag.length>0&&(ke._viewer.setAnnotationsVisibility(0),this.store.commit("tagStore/setTagshow",!1))},showTag:function(){this.store.state.modelStore.nowTag.length>0&&(setTimeout(()=>{ke._viewer.setAnnotationsVisibility(1)},200),this.store.commit("tagStore/setTagshow",!0))},checkTag_Audio:function(e,t){this.tcChecktag&&(this.tcChecktag=!1,this.curTagInfo=!1,this.tcType="",this.store.commit("tagStore/setTagdrawing",!1)),this.tcType="checkaudio";var o=this;this.audioPlaying=!1;try{this.audioTime=0,e.state.stime&&(this.audioTime=e.state.stime);var n=document.createElement("audio");n.pause(),n.src=t||e.src,n.load(),n.oncanplay=function(){},n.onloadedmetadata=function(){n.play(),n.paused||(o.audioPlaying=!0),n.paused&&document.querySelector(".voice").click()},n.addEventListener("ended",(function(){o.audioPlaying=!1}),!1),this.audioObj=n}catch(i){}},audioClick:function(){try{this.audioObj.currentTime=0,this.audioPlaying=!0,this.audioObj.play().catch(e=>{this.audioPlaying=!1})}catch(e){this.audioPlaying=!1}},tagPenClick(e,t){this.selectIdx=e,this.ctrlDraw&&(this.ctrlDraw._openDraw=!0,this.ctrlDraw.setPen(t))},tagLineClick(e){this.strokeWidth=e,this.ctrlDraw&&(this.ctrlDraw._openDraw=!0,this.ctrlDraw.setLineWidth(e))},tagColorClick(e){this.strokeColor=e,this.ctrlDraw&&(this.ctrlDraw._openDraw=!0,this.ctrlDraw.setColor(e))},forceExit:function(){this.$msgBox.isShow&&(this.$msgBox.isShow=!1),this.tcCheckBig&&(this.tcCheckBig=!1),this.tcChecktag&&this.exitChecktag(),(this.tcStep0||this.tcStep1)&&this.cancelSave()},addTag:function(e,t,o){var n=this,i=n.store.state.modelStore.allTag.length+1,r=ze(e.cx,e.cy,e.cz),c=He(r.x,r.y);function a(){e.index=i,ke._viewer.addAnnotation(c),ke._viewer.setAnnotationsVisibility(1),n.store.commit("modelStore/addTag",e),n.store.commit("tagStore/setTagshow",!0),n.exitDrawtag(),n.$emit("tagOperate","sure"),n.store.commit("menuStore/setShowOneMenu",!0),n.store.commit("menuStore/setShowManyConfig",!0),n.store.commit("menuStore/setShowAllMenu",!0),n.ctrlDraw&&n.ctrlDraw.destroy(),setTimeout(()=>{nt.sendCenter(1),nt.sendCenter(2),nt.sendCenter(3),nt.sendCenter(6)},300),nt.endTagChange()}c=Object.assign({},c),c.version="5",c.uuid=ie(),c.origiType="ImageAnno",e.state=c,e.modelName=this.store.state.modelStore.nowConfigName,"yzp"!=nd_viewCtrl.viewMode&&"sync"!=nd_viewCtrl.viewMode||(e.screenShotImg=o||""),t?nd_viewCtrl&&nd_viewCtrl.addPicTag&&nd_viewCtrl.addPicTag(e,t,(function(t){c.index=i,e.imgURL=t,a()})):nd_viewCtrl&&nd_viewCtrl.addTags&&nd_viewCtrl.addTags(e,"",(function(){c.index=i,a()}))},updateTagText(e,t){e==this.curUuid&&(this.annoText_check=t)},exitDrawtag(){ke._viewer.displayViewBox(!0),this.ctrlDraw&&this.ctrlDraw.destroy(),this.curTagInfo=!1,this.store.commit("menuStore/setShowManyConfig",!0)},inputMouse(e){e.stopPropagation()},tagMouseEnter(){const e=document.getElementById("tagTooltips");e&&(e.style.left="-1000px")},judgeTxtEmpty(e){return!e.match(/^[ ]*$/)}}};o("a03f");const nm=ht()(om,[["render",Td],["__scopeId","data-v-1e585504"]]);var im=nm;const rm={class:"dialog_header pop-content"},cm={key:0,class:"pop-list"},am={key:1,class:"pop-list"},sm={key:2,class:"pop-list"},lm={key:3,class:"pop-list"};function dm(e,t,o,i,r,c){const a=Object(n["resolveDirective"])("drag");return Object(n["withDirectives"])((Object(n["openBlock"])(),Object(n["createElementBlock"])("div",{class:"ndp3-my-volare",onMouseenter:t[0]||(t[0]=(...e)=>i.mourseBigMenu&&i.mourseBigMenu(...e)),onMouseleave:t[1]||(t[1]=(...e)=>i.mourseBigMenuLeave&&i.mourseBigMenuLeave(...e))},[Object(n["createElementVNode"])("div",rm,[e.ypShowTips?Object(n["createCommentVNode"])("",!0):(Object(n["openBlock"])(),Object(n["createElementBlock"])(n["Fragment"],{key:0},[e.isShowArea?(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",cm,Object(n["toDisplayString"])(e.$t("areaBoxTxt"))+Object(n["toDisplayString"])(e.area),1)):Object(n["createCommentVNode"])("",!0),e.isShowAllArea?(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",am,Object(n["toDisplayString"])(e.$t("areaAllBoxTxt"))+Object(n["toDisplayString"])(e.allArea),1)):Object(n["createCommentVNode"])("",!0),e.isShowVolume?(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",sm,Object(n["toDisplayString"])(e.$t("volumnBoxTxt"))+Object(n["toDisplayString"])(e.volume),1)):Object(n["createCommentVNode"])("",!0),e.isShowAllVolume?(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",lm,Object(n["toDisplayString"])(e.$t("volumnAllBoxTxt"))+Object(n["toDisplayString"])(e.allVolume),1)):Object(n["createCommentVNode"])("",!0)],64)),e.ypAttrTips.length>0&&e.ypShowTips?(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],{key:1},Object(n["renderList"])(e.ypAttrTips,(e,t)=>(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",{class:"pop-list",key:t},Object(n["toDisplayString"])(e.key)+"："+Object(n["toDisplayString"])(e.value),1))),128)):Object(n["createCommentVNode"])("",!0)])],32)),[[n["vShow"],e.isShowDataBox],[a]])}const mm=["","rgb(242,242,242)","rgb(196,196,196)","rgb(136,198,255)","img/scene/bg4.png","img/scene/bg5.png"],um={A:["img/scene/1/right.jpg","img/scene/1/left.jpg","img/scene/1/up.jpg","img/scene/1/down.jpg","img/scene/1/front.jpg","img/scene/1/back.jpg"],B:["img/scene/2/right.jpg","img/scene/2/left.jpg","img/scene/2/up.jpg","img/scene/2/down.jpg","img/scene/2/front.jpg","img/scene/2/back.jpg"],C:["img/scene/3/right.jpg","img/scene/3/left.jpg","img/scene/3/up.jpg","img/scene/3/down.jpg","img/scene/3/front.jpg","img/scene/3/back.jpg"],D:["img/scene/4/right.jpg","img/scene/4/left.jpg","img/scene/4/up.jpg","img/scene/4/down.jpg","img/scene/4/front.jpg","img/scene/4/back.jpg"]},hm=[{key:"material",valueCN:"材料",valueEN:"Material"},{key:"area",valueCN:"表面积",valueEN:"Superficial Area"},{key:"volume",valueCN:"体积",valueEN:"Volume"},{key:"weight",valueCN:"重量",valueEN:"Weight"},{key:"boundingboxVolume",valueCN:"包围盒体积",valueEN:"Box volume"},{key:"boundingbox",valueCN:"包围盒",valueEN:"Bounding Box"},{key:"bodyNum",valueCN:"实体数",valueEN:"Entities"},{key:"meshNum",valueCN:"零件数",valueEN:"Parts"},{key:"pmiNum",valueCN:"PMI数量",valueEN:"PMI"}];var pm={name:"",setup(){const e=Object(n["reactive"])({isShowDataBox:!1,isShowPRDataBox:!1,prNums:[],prUnit:"",area:"",volume:"",allArea:"",allVolume:"",isShowArea:!1,isShowVolume:!1,isShowAllArea:!1,isShowAllVolume:!1,ypAttrTips:[],ypShowTips:!1}),t=Object(n["toRefs"])(e),o=Object(l["useStore"])(),{menuStore:i}=o.state,{proxy:r,appContext:c}=Object(n["getCurrentInstance"])();Object(n["nextTick"])(()=>{c.config.globalProperties.$attrVolArea=r});const a=t=>{const o=["areaFace","areaEntity","areaTotal","volumeWeight","volumeWeightAll"];if(t&&"BodyPerimeter"==t.type&&!t.modelUnit&&"[]"==JSON.stringify(t.perimeters))return;if(!t||"BodyAllVolume"==t.type||"BodyVolume"==t.type)return void(e.isShowDataBox=!1);const n=nd_viewCtrl.homeShowTipAttrs;"lengthGirth"!=i.menuChoose3?(n?o.includes(i.menuChoose3)?(t&&d(t),e.ypShowTips=!1):(t&&s(t),e.ypShowTips=!0):t&&d(t),e.isShowDataBox=!!t):e.isShowDataBox=!1};Object(n["onMounted"])(()=>{r.$eventBus.on("VolumnChange",a),r.$eventBus.on("clearSelectionSub",p),r.$eventBus.on("closeAttrBox",g),e.area="",e.volume=""});const s=()=>{const t=nd_viewCtrl.tipAttrs||[],o=ke._viewer.selectionManager.getSelectedObjects();r.$i18n.locale;let n={},i=o[0];i&&0==i.children.length&&i.parent&&(i=i.parent);const c=(o,r)=>{let c=b(r);c=C(c);for(let e in c)t.includes(e)&&(n[e]=c[e]);n=m(o,n,t);const a=ke.getfileguid(i.uuid);nd_viewCtrl.getEditProperty(a,(function(o){o&&o.PropertyCategories.length>0&&(n=u(o.PropertyCategories,n,t)),e.ypAttrTips=h(n,t)}))};o&&1==o.length?ke.getObjectProperty(i,c):g()},d=t=>{const n=K(t&&t.modelUnit);if("Body"==t.type&&o.state.showAreaTips){if(v())return;e.area=ee(t.area)+" "+n+"²",e.volume=ee(t.volume)+" "+n+"³",e.isShowDataBox=!0,e.isShowPRDataBox=!1,e.isShowArea=!0,e.isShowVolume=!0,e.isShowAllArea=!1,e.isShowAllVolume=!1}else"BodyArea"==t.type?(e.area=ee(t.area)+" "+n+"²",e.isShowDataBox=!0,e.isShowPRDataBox=!1,e.isShowArea=!0,e.isShowVolume=!1,e.isShowAllArea=!1,e.isShowAllVolume=!1):"BodyVolume"==t.type&&o.state.showAreaTips?(e.volume=ee(t.volume)+" "+n+"³",e.isShowDataBox=!0,e.isShowPRDataBox=!1,e.isShowArea=!1,e.isShowVolume=!0,e.isShowAllArea=!1,e.isShowAllVolume=!1):"BodyFace"==t.type?(e.area=ee(t.area)+" "+n+"²",e.isShowDataBox=!0,e.isShowPRDataBox=!1,e.isShowArea=!0,e.isShowVolume=!1,e.isShowAllArea=!1,e.isShowAllVolume=!1):"BodyAllVolume"==t.type&&o.state.showAreaTips?(e.allVolume=ee(t.volume)+" "+n+"³",e.isShowDataBox=!0,e.isShowPRDataBox=!1,e.isShowArea=!1,e.isShowVolume=!1,e.isShowAllArea=!1,e.isShowAllVolume=!0):"BodyAllArea"==t.type?(e.allArea=ee(t.area)+" "+n+"²",e.isShowDataBox=!0,e.isShowPRDataBox=!1,e.isShowArea=!1,e.isShowVolume=!1,e.isShowAllArea=!0,e.isShowAllVolume=!1):"BodyPerimeter"==t.type&&(e.prNums=t.perimeters,e.prUnit=n,e.isShowDataBox=!1,t.modelUnit?e.isShowPRDataBox=!0:e.isShowPRDataBox=!1);"volumeWeight"!=i.menuChoose3&&"volumeWeightAll"!=i.menuChoose3||(e.isShowDataBox=!1)},m=(e,t,o)=>{if(!e||!e.PropertyCategories)return t;const n=e.PropertyCategories||[],i=t||{},r=o||[];return n.map(e=>{for(let t in e)e[t].map((o,n)=>{r.includes(o)&&n%2==0&&(i[o]=e[t][++n])})}),i},u=(e,t,o)=>{const n=e||[],i=t||{},r=o||[];return n.map(e=>{e.keys.map((t,o)=>{r.includes(t)&&(i[t]=e.values[o])})}),i},h=(e,t)=>{let o=[];return t.map(t=>{o.push({key:t,value:e[t]})}),o},p=()=>{e.isShowDataBox=!1,e.isShowPRDataBox=!1,e.ypShowTips=!1,e.ypAttrTips=[]},g=()=>{e.isShowDataBox=!1,e.isShowPRDataBox=!1,e.ypShowTips=!1,e.ypAttrTips=[]},b=e=>{const t={},o=K(e.unit);if(e.area&&"Infinity"!=e.area&&(t.area=ee(e.area)+" "+o+"²"),e.volume&&"Infinity"!=e.volume&&(t.volume=ee(e.volume)+" "+o+"³"),e.boundingboxVolume&&"Infinity"!=e.boundingboxVolume&&(t.boundingboxVolume=ee(e.boundingboxVolume)+" "+o+"³"),e.boundingbox&&e.boundingbox.x&&e.boundingbox.y&&e.boundingbox.z&&"Infinity"!=e.boundingbox.x&&"Infinity"!=e.boundingbox.y&&"Infinity"!=e.boundingbox.z){var n=ee(e.boundingbox.x)+"×",i=ee(e.boundingbox.y)+"×",c=ee(e.boundingbox.z)+" "+o;t.boundingbox=n+i+c}return e.bodyNum&&"Infinity"!=e.bodyNum&&Number(e.bodyNum)>0&&(t.bodyNum=e.bodyNum+r.$t("gUnit")),e.meshNum&&"Infinity"!=e.meshNum&&Number(e.meshNum)>0&&(t.meshNum=e.meshNum+r.$t("gUnit")),e.pmiNum&&"Infinity"!=e.pmiNum&&Number(e.pmiNum)>0&&(t.pmiNum=e.pmiNum+r.$t("gUnit")),t},w=()=>{const e=document.querySelector(".pc-alert");e&&(e.style.display="none")},S=()=>{const e=document.querySelector(".pc-alert");e&&e.innerText&&(e.style.display="block")},C=e=>{const t={},o="zh"==r.$i18n.locale?"valueCN":"valueEN";for(let n in e)hm.map(i=>{i.key==n?t[i[o]]=e[n]:t[n]=e[n]});return t};return{...t,store:o,mourseBigMenu:w,mourseBigMenuLeave:S}}};o("4498");const gm=ht()(pm,[["render",dm],["__scopeId","data-v-74e326f7"]]);var vm=gm;const bm={class:"search-cont"},wm=["placeholder"],Sm={class:"struc-content"},Cm={class:"treenode-node-item"},ym=["title"],Om={key:0,class:"struc-content"},fm={key:0,style:{"padding-left":"16px"}},jm={class:"treenode-node-item"},xm=["onClick"],Tm=["onClick","title"],Mm={key:1,class:"nomsg-txt"};function Dm(e,t,o,i,r,c){const a=Object(n["resolveComponent"])("tree-node-easy"),s=Object(n["resolveComponent"])("card");return Object(n["openBlock"])(),Object(n["createBlock"])(s,{class:"ndp3-my-page structure-tree tree-card",canDrag:!0,onClose:i.close,hideClose:"true",onContextmenu:Object(n["withModifiers"])(i.rightEvent,["right","stop","prevent"])},{header:Object(n["withCtx"])(()=>[Object(n["createTextVNode"])(Object(n["toDisplayString"])(e.$t("structureTree")),1)]),default:Object(n["withCtx"])(()=>[Object(n["createElementVNode"])("div",bm,[Object(n["withDirectives"])(Object(n["createElementVNode"])("input",{class:Object(n["normalizeClass"])(["search-inp",{"en-inp":"en"==e.$i18n.locale}]),placeholder:e.$t("searchTree2"),maxlength:"20",onKeyup:t[0]||(t[0]=Object(n["withKeys"])((...e)=>i.goToSearch&&i.goToSearch(...e),["enter"])),"onUpdate:modelValue":t[1]||(t[1]=t=>e.keyWord=t),type:"text"},null,42,wm),[[n["vModelText"],e.keyWord]]),e.searchMode?(Object(n["openBlock"])(),Object(n["createElementBlock"])("img",{key:0,class:Object(n["normalizeClass"])(["clear-icon",{"en-icon-clear":"en"==e.$i18n.locale}]),onClick:t[2]||(t[2]=(...e)=>i.exitSearch&&i.exitSearch(...e)),src:os.a,alt:""},null,2)):Object(n["createCommentVNode"])("",!0),Object(n["createElementVNode"])("span",{class:"search-txt",onClick:t[3]||(t[3]=(...e)=>i.goToSearch&&i.goToSearch(...e))},Object(n["toDisplayString"])(e.$t("search")),1)]),Object(n["withDirectives"])(Object(n["createElementVNode"])("div",Sm,[Object(n["withDirectives"])(Object(n["createElementVNode"])("ul",null,[Object(n["createElementVNode"])("li",{class:Object(n["normalizeClass"])(["tree-node-item",{select:e.modelTreeData.isEasyChecked}])},[Object(n["createElementVNode"])("div",Cm,[e.modelTreeData.children&&e.modelTreeData.children.length>0?(Object(n["openBlock"])(),Object(n["createElementBlock"])("i",{key:0,class:Object(n["normalizeClass"])({"tree-node-open":e.modelTreeData.isOpenChild,"tree-node-close":!e.modelTreeData.isOpenChild}),onClick:t[4]||(t[4]=(...e)=>i.toggleOpenChild&&i.toggleOpenChild(...e))},null,2)):Object(n["createCommentVNode"])("",!0),Object(n["createElementVNode"])("i",{class:Object(n["normalizeClass"])(["tree-node-checkbox",{"ico-tree-checkedbox":e.modelTreeData.isEasyChecked}]),onClick:t[5]||(t[5]=t=>i.toggleVisible(e.modelTreeData))},null,2),Object(n["createElementVNode"])("span",{class:"tree-node-txt",onClick:t[6]||(t[6]=t=>i.toggleVisible(e.modelTreeData)),title:e.modelTreeData.name},Object(n["toDisplayString"])(e.modelTreeData.name),9,ym)]),e.modelTreeData.isOpenChild&&e.modelTreeData.children&&e.modelTreeData.children.length?(Object(n["openBlock"])(),Object(n["createBlock"])(a,{key:Math.random(),treeData:e.modelTreeData,defaulOpen:!0,level:"2"},null,8,["treeData"])):Object(n["createCommentVNode"])("",!0)],2)],512),[[n["vShow"],e.hasData]]),Object(n["withDirectives"])(Object(n["createElementVNode"])("p",null,Object(n["toDisplayString"])(e.$t("noTreeData2")),513),[[n["vShow"],!e.hasData]])],512),[[n["vShow"],!e.searchMode]]),e.searchMode?(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",Om,[e.searchData&&e.searchData.length>0?(Object(n["openBlock"])(),Object(n["createElementBlock"])("ul",fm,[(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(e.searchData,(e,t)=>(Object(n["openBlock"])(),Object(n["createElementBlock"])("li",{class:Object(n["normalizeClass"])(["tree-node-item",{select:e.isEasyChecked}]),key:t},[Object(n["createElementVNode"])("div",jm,[Object(n["createElementVNode"])("i",{onClick:t=>i.toggleSearchVisible(e),class:Object(n["normalizeClass"])(["tree-node-checkbox",{"ico-tree-checkedbox":e.isEasyChecked}])},null,10,xm),Object(n["createElementVNode"])("span",{class:"tree-node-txt",onClick:t=>i.toggleSearchVisible(e),title:e.fullpath},Object(n["toDisplayString"])(e.name),9,Tm)])],2))),128))])):(Object(n["openBlock"])(),Object(n["createElementBlock"])("p",Mm,Object(n["toDisplayString"])(e.$t("noTreeData2")),1))])):Object(n["createCommentVNode"])("",!0)]),_:1},8,["onClose","onContextmenu"])}const Em=["lev"],km={class:"treenode-node-item"},Bm=["onClick"],Nm={key:1,class:"tree-module"},Am=["onClick"],_m=["onClick","title"];function Im(e,t,o,i,r,c){const a=Object(n["resolveComponent"])("tree-node-easy",!0);return Object(n["openBlock"])(),Object(n["createElementBlock"])("ul",null,[(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(o.treeData.children,(e,t)=>(Object(n["openBlock"])(),Object(n["createElementBlock"])("li",{class:Object(n["normalizeClass"])(["tree-node-item",{select:e.isEasyChecked}]),key:t,lev:o.level},[Object(n["createElementVNode"])("div",km,[(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(i.getLevel(e),(e,t)=>(Object(n["openBlock"])(),Object(n["createElementBlock"])("b",{key:t}))),128)),e.children.length>0?(Object(n["openBlock"])(),Object(n["createElementBlock"])("i",{key:0,class:Object(n["normalizeClass"])({"tree-node-open":e.isOpenChild,"tree-node-close":!e.isOpenChild}),onClick:t=>i.toggleOpen(e)},null,10,Bm)):(Object(n["openBlock"])(),Object(n["createElementBlock"])("i",Nm)),Object(n["createElementVNode"])("i",{onClick:t=>i.toggleVisible(e),class:Object(n["normalizeClass"])(["tree-node-checkbox",{"ico-tree-checkedbox":e.isEasyChecked}])},null,10,Am),Object(n["createElementVNode"])("span",{onClick:t=>i.toggleVisible(e),class:"tree-node-txt",title:e.name},Object(n["toDisplayString"])(e.name),9,_m)]),e.children.length&&e.isOpenChild?(Object(n["openBlock"])(),Object(n["createBlock"])(a,{key:Math.random(),treeData:e,level:o.level+1},null,8,["treeData","level"])):Object(n["createCommentVNode"])("",!0)],10,Em))),128))])}var Vm={name:"",props:["treeData","defaulOpen","level"],setup(e,t){const o=Object(n["reactive"])({}),{proxy:i}=Object(n["getCurrentInstance"])(),r=Object(l["useStore"])();Object(n["onMounted"])(()=>{e.defaulOpen?e.treeData.children&&e.treeData.children.map(t=>{t.parent||(t.parent=e.treeData),t.isRendered=!0}):e.treeData.children&&e.treeData.children.map(t=>{t.parent||(t.parent=e.treeData),e.treeData.isHighlight&&(t.isHighlight=!0)})});const c=e=>{var t=0;while(null!==e.parent)t++,e=e.parent;return t},a=e=>{e.isRendered=!0,e.isOpenChild=!e.isOpenChild,nt.sendCenter(9)},s=(e,t)=>{!t&&d(e),e.isEasyChecked&&r.state.isInShift&&!t||(r.commit("menuStore/setAttrMenu",!1),e.isEasyChecked=!e.isEasyChecked,window.structflag=!0,e.isEasyChecked?(le(e),ke.selectObject(e)):(se(e),ke.deselectObject(e)),de(e,e.isEasyChecked),ke.showObject(e,!0),ke.render(),nt.sendCenter(9))},d=e=>{if(!r.state.isInShift)return void r.commit("setPreShiftNode",{});if(!r.state.preShiftNode.uuid)return void r.commit("setPreShiftNode",e);const t=r.state.preShiftNode;if(e.parent.uuid!=t.parent.uuid)return void r.commit("setPreShiftNode",e);const o=e.parent;let n=-1,i=o.children.length,c=[];o.children.forEach((o,r)=>{o.uuid!=e.uuid&&o.uuid!=t.uuid||(n<0?n=r:i=r),n>-1&&r>n&&r<i&&!o.isEasyChecked&&c.push(o)}),window.structShift=!0,c.map(e=>{s(e,"noShift")}),setTimeout(()=>{window.structShift=!1,r.commit("setPreShiftNode",{})},100)},m=e=>{let t=r.state.modelStore._highLightNode.indexOf(e.uuid);if(t>-1)return t>-1},u=Object(n["toRefs"])(o);return{...u,getLevel:c,toggleOpen:a,toggleVisible:s,checkIsHighLight:m}}};o("80ff");const Pm=ht()(Vm,[["render",Im],["__scopeId","data-v-6e0543af"]]);var Lm=Pm,$m={name:"",components:{card:Qn,treeNodeEasy:Lm},setup(){const e=Object(n["reactive"])({modelTreeData:{},searchMode:!1,keyWord:"",hasData:!0,searchData:[]}),t=Object(l["useStore"])(),{proxy:o,appContext:i}=Object(n["getCurrentInstance"])();Object(n["nextTick"])(()=>{i.config.globalProperties.$structureTreeEasy=o}),Object(n["watch"])(()=>e.searchMode,()=>{t.commit("setPreShiftNode",{})}),Object(n["onMounted"])(()=>{o.$eventBus.on("selectObjectEvent",r),o.$eventBus.on("deselectObjectEvent",c),o.$eventBus.on("clearSelectionSub",a),t.commit("setPreShiftNode",{}),p()}),Object(n["onUnmounted"])(()=>{o.$eventBus.off("selectObjectEvent",r),o.$eventBus.off("deselectObjectEvent",c),o.$eventBus.off("clearSelectionSub",a)});const r=()=>{t.state.menuStore.structEasyMenu&&s()},c=()=>{t.state.menuStore.structEasyMenu&&s()},a=()=>{e.searchMode||"meter"!=t.state.menuStore.menuChoose||(t.commit("setPreShiftNode",{}),e.searchMode=!1,e.keyWord="",s(),e.modelTreeData.children.map(e=>{e.isOpenChild=!1}))},s=()=>{let t=ke.getSelectedObjects();de(e.modelTreeData,!1),e.modelTreeData.isEasyChecked=!1,t.length<1||t.map(e=>{e.isEasyChecked=!0,le(e),de(e,!0)}),o.$forceUpdate()},d=()=>{e.keyWord="",m()},m=()=>{ke.clearSelection(),e.modelTreeData.isEasyChecked=!1,de(e.modelTreeData,!1),""==e.keyWord?e.searchMode=!1:(e.searchData=oe(e.keyWord,"name",e.modelTreeData),e.searchMode=!0),ke.clearSelection(),nt.sendCenter(9)},u=e=>{t.commit("menuStore/setAttrMenu",!1),window.structflag=!0,e.isEasyChecked=!e.isEasyChecked,e.isEasyChecked?(le(e),ke.selectObject(e)):(se(e),ke.deselectObject(e)),de(e,e.isEasyChecked),ke.showObject(e,!0),ke.render(),nt.sendCenter(9)},h=(e,o)=>{!o&&g(e),e.isEasyChecked&&t.state.isInShift&&!o||(t.commit("menuStore/setAttrMenu",!1),window.structflag=!0,e.isEasyChecked=!e.isEasyChecked,e.isEasyChecked?ke.selectObject(e):ke.deselectObject(e),ke.showObject(e,!0),ke.render(),nt.sendCenter(9))},p=()=>{nd_viewCtrl.shareInfo&&nd_viewCtrl.shareInfo.camerainfo?e.modelTreeData=ke.getModelTree(!0)||{}:e.modelTreeData=ke.getModelTree()||{},e.modelTreeData&&Object.keys(e.modelTreeData).length>0?e.modelTreeData.isOpenChild=!0:e.hasData=!1,e.modelTreeData.isRendered=!0,e.modelTreeData.level=1,e.modelTreeData.isEasyChecked=!1,me(e.modelTreeData,!1)},g=o=>{if(!t.state.isInShift)return void t.commit("setPreShiftNode",{});if(!t.state.preShiftNode.uuid)return void t.commit("setPreShiftNode",o);const n=t.state.preShiftNode;let i=-1,r=e.searchData.length,c=[];e.searchData.some((e,t)=>{if(e.uuid!=o.uuid&&e.uuid!=n.uuid||(i<0?i=t:r=t),i>-1&&t>i&&t<r&&!e.isEasyChecked&&c.push(e),t>r)return!0}),window.structShift=!0,c.map(e=>{h(e,"noShift")}),setTimeout(()=>{window.structShift=!1,t.commit("setPreShiftNode",{})},100)},v=(e,t)=>{},b=()=>{const e=t.state.menuStore;"struct"==e.menuChoose&&t.commit("menuStore/setMenuChoose",""),t.commit("menuStore/setStructMenu",!1)},w=()=>{e.modelTreeData.isOpenChild=!e.modelTreeData.isOpenChild,nt.sendCenter(9)},S=t=>{t&&"{}"!=JSON.stringify(t)&&Object(n["nextTick"])(()=>{Se(t,e.modelTreeData),o.$forceUpdate()})},C=t=>{t&&"[]"!=JSON.stringify(t)&&(Ce(t,e.searchData),o.$forceUpdate())},y=Object(n["toRefs"])(e);return{...y,close:b,exitSearch:d,goToSearch:m,toggleVisible:u,toggleSearchVisible:h,rightEvent:v,coverTreeDataEasy:S,coverSearchDataEasy:C,toggleOpenChild:w}}};o("5cdd");const Rm=ht()($m,[["render",Dm],["__scopeId","data-v-401d2611"]]);var zm=Rm;const Fm={class:"header"},Hm={class:"unit-content"},Um={src:Zc.a,alt:""},Wm={src:Qc.a,alt:""},Gm={src:Zc.a,alt:""},Xm={src:Qc.a,alt:""},Ym={src:Zc.a,alt:""},Jm={src:Qc.a,alt:""};function Zm(e,t,o,i,r,c){const a=Object(n["resolveComponent"])("card");return Object(n["openBlock"])(),Object(n["createBlock"])(a,{class:"ndp3-my-page unit-card",onClose:i.close},{header:Object(n["withCtx"])(()=>[Object(n["createElementVNode"])("div",Fm,Object(n["toDisplayString"])(e.$t("pcUnitIcon")),1)]),default:Object(n["withCtx"])(()=>[Object(n["createElementVNode"])("div",Hm,[Object(n["createElementVNode"])("div",{onClick:t[0]||(t[0]=e=>i.unitChange("")),class:"uni-flex flex-start-radio"},[Object(n["withDirectives"])(Object(n["createElementVNode"])("img",Um,null,512),[[n["vShow"],""==i.modelStore.unit]]),Object(n["withDirectives"])(Object(n["createElementVNode"])("img",Wm,null,512),[[n["vShow"],""!=i.modelStore.unit]]),Object(n["createTextVNode"])(" "+Object(n["toDisplayString"])(e.$t("pcUnitType1")),1)]),Object(n["createElementVNode"])("div",{onClick:t[1]||(t[1]=e=>i.unitChange("mm")),class:"uni-flex flex-start-radio"},[Object(n["withDirectives"])(Object(n["createElementVNode"])("img",Gm,null,512),[[n["vShow"],"mm"==i.modelStore.unit]]),Object(n["withDirectives"])(Object(n["createElementVNode"])("img",Xm,null,512),[[n["vShow"],"mm"!=i.modelStore.unit]]),Object(n["createTextVNode"])(" "+Object(n["toDisplayString"])(e.$t("pcUnitType2")),1)]),Object(n["createElementVNode"])("div",{onClick:t[2]||(t[2]=e=>i.unitChange("in")),class:"uni-flex flex-start-radio"},[Object(n["withDirectives"])(Object(n["createElementVNode"])("img",Ym,null,512),[[n["vShow"],"in"==i.modelStore.unit]]),Object(n["withDirectives"])(Object(n["createElementVNode"])("img",Jm,null,512),[[n["vShow"],"in"!=i.modelStore.unit]]),Object(n["createTextVNode"])(" "+Object(n["toDisplayString"])(e.$t("pcUnitType3")),1)])])]),_:1},8,["onClose"])}var Km={name:"",components:{card:Qn},setup(){const e=Object(n["reactive"])({}),t=Object(l["useStore"])(),{modelStore:o}=t.state,{proxy:i}=Object(n["getCurrentInstance"])();Object(n["onBeforeMount"])(()=>{}),Object(n["onMounted"])(()=>{});const r=()=>{t.commit("menuStore/setUnitMenu",!1),t.commit("menuStore/setMenuChoose","")},c=e=>{switch(t.commit("modelStore/setUnitType",e),ke._viewer.setDispalyModelUnit(e),e){case"":B("pcUnitType1");break;case"mm":B("pcUnitType2");break;case"in":B("pcUnitType3");break;default:break}},a=Object(n["toRefs"])(e);return{...a,modelStore:o,unitChange:c,close:r}}};o("2473");const Qm=ht()(Km,[["render",Zm],["__scopeId","data-v-3254d4d2"]]);var qm=Qm;const eu={class:"header"},tu={class:"pmi-content"};function ou(e,t,o,i,r,c){const a=Object(n["resolveComponent"])("xd-switch"),s=Object(n["resolveComponent"])("card");return Object(n["openBlock"])(),Object(n["createBlock"])(s,{class:Object(n["normalizeClass"])(["ndp3-my-page pmi-card",{"en-pmi-card":"en"==e.$i18n.locale}]),onClose:i.close},{header:Object(n["withCtx"])(()=>[Object(n["createElementVNode"])("div",eu,Object(n["toDisplayString"])(e.$t("pmiTxt1")),1)]),default:Object(n["withCtx"])(()=>[Object(n["createElementVNode"])("div",tu,[Object(n["createElementVNode"])("div",{onClick:t[1]||(t[1]=e=>i.openPmiSwitch()),class:"pmi-flex"},[Object(n["createElementVNode"])("div",null,Object(n["toDisplayString"])(e.$t("pmiTxt2")),1),Object(n["createVNode"])(a,{class:"switch-cp",modelValue:e.pmiSetObject.openPmi,"onUpdate:modelValue":t[0]||(t[0]=t=>e.pmiSetObject.openPmi=t)},null,8,["modelValue"])]),Object(n["createElementVNode"])("div",{onClick:t[3]||(t[3]=e=>i.openPmiZptSwitch()),class:"pmi-flex"},[Object(n["createElementVNode"])("div",null,Object(n["toDisplayString"])(e.$t("pmiTxt3")),1),Object(n["createVNode"])(a,{class:"switch-cp",modelValue:e.pmiSetObject.openZptPmi,"onUpdate:modelValue":t[2]||(t[2]=t=>e.pmiSetObject.openZptPmi=t)},null,8,["modelValue"])]),Object(n["createElementVNode"])("div",{onClick:t[5]||(t[5]=e=>i.openPmiPartSwitch()),class:"pmi-flex"},[Object(n["createElementVNode"])("div",null,Object(n["toDisplayString"])(e.$t("pmiTxt4")),1),Object(n["createVNode"])(a,{class:"switch-cp",modelValue:e.pmiSetObject.openPartPmi,"onUpdate:modelValue":t[4]||(t[4]=t=>e.pmiSetObject.openPartPmi=t)},null,8,["modelValue"])])])]),_:1},8,["class","onClose"])}var nu={name:"",components:{card:Qn,xdSwitch:Xi},setup(){const e=Object(n["reactive"])({pmiSetObject:{openPmi:!1,openZptPmi:!1,openPartPmi:!1},pmiDefaultSet:{assembly:!1,part:!1}}),t=Object(l["useStore"])(),{modelStore:o}=t.state,{proxy:i,appContext:r}=Object(n["getCurrentInstance"])();Object(n["nextTick"])(()=>{r.config.globalProperties.$pmiSetCom=e}),i.$eventBus.on("loadComplete",()=>{if(nd_viewCtrl.shareInfo&&nd_viewCtrl.shareInfo.camerainfo){if(nd_viewCtrl.hideItem&&nd_viewCtrl.hideItem.pmi)e.pmiSetObject.openZptPmi=!1,e.pmiSetObject.openPartPmi=!1;else{const t=nd_viewCtrl.shareInfo.pmiSetObj;e.pmiSetObject.openZptPmi=t&&t.openZptPmi,e.pmiSetObject.openPartPmi=t&&t.openPartPmi}void 0!=e.pmiSetObject.openPartPmi&&ke._viewer.setPartPMIVisible(!!e.pmiSetObject.openPartPmi),void 0!=e.pmiSetObject.openZptPmi&&ke._viewer.setAssemblyPMIVisible(!!e.pmiSetObject.openZptPmi)}else{const t=ke._viewer.isAssemblyPMIVisible(),o=ke._viewer.isPartPmiVisible();e.pmiSetObject.openZptPmi=!!t,e.pmiSetObject.openPartPmi=!!o}m()}),i.$eventBus.on("closePmiSetSub",()=>{d("close")}),Object(n["onBeforeMount"])(()=>{}),Object(n["onMounted"])(()=>{});const c=()=>{t.commit("menuStore/setPmiMenu",!1),t.commit("menuStore/setMenuChoose","")},a=()=>{ke.onSectionView(!1),ke._viewer.setPartPMIVisible(e.pmiSetObject.openPartPmi),B(e.pmiSetObject.openPartPmi?"pmiShow":"pmiHide"),m(),nt.sendCenter(4)},s=()=>{ke._viewer.setAssemblyPMIVisible(e.pmiSetObject.openZptPmi),B(e.pmiSetObject.openZptPmi?"pmiShow":"pmiHide"),ke.onSectionView(!1),m(),nt.sendCenter(4)},d=t=>{t&&(e.pmiSetObject.openPmi=!1);const o=e.pmiSetObject.openPmi;e.pmiSetObject.openZptPmi=o,e.pmiSetObject.openPartPmi=o,!t&&B(e.pmiSetObject.openPmi?"pmiShow":"pmiHide"),ke.onSectionView(!1),ke._viewer.setAssemblyPMIVisible(e.pmiSetObject.openZptPmi),ke._viewer.setPartPMIVisible(e.pmiSetObject.openPartPmi),nt.sendCenter(4)},m=()=>{e.pmiSetObject.openZptPmi||e.pmiSetObject.openPartPmi?e.pmiSetObject.openPmi=!0:e.pmiSetObject.openPmi=!1},u=Object(n["toRefs"])(e);return{...u,close:c,openPmiPartSwitch:a,openPmiZptSwitch:s,openPmiSwitch:d}}};o("ef79");const iu=ht()(nu,[["render",ou],["__scopeId","data-v-1fc5b7d0"]]);var ru=iu,cu=o("dbcb"),au=o.n(cu);const su=e=>(Object(n["pushScopeId"])("data-v-62d389ee"),e=e(),Object(n["popScopeId"])(),e),lu={class:"header"},du={class:"color-content"},mu=su(()=>Object(n["createElementVNode"])("img",{class:"color_cancel_img",src:au.a,alt:""},null,-1));function uu(e,t,o,i,r,c){const a=Object(n["resolveComponent"])("color-picker"),s=Object(n["resolveComponent"])("card");return Object(n["openBlock"])(),Object(n["createBlock"])(s,{class:"ndp3-my-page color-card",onClose:i.close},{header:Object(n["withCtx"])(()=>[Object(n["createElementVNode"])("div",lu,Object(n["toDisplayString"])(e.$t("colorTxt3")),1)]),default:Object(n["withCtx"])(()=>[Object(n["createElementVNode"])("div",du,[Object(n["createVNode"])(a,{onPureColorChange:i.colorChange,pickerType:"chrome",pureColor:e.selectColor,"onUpdate:pureColor":t[0]||(t[0]=t=>e.selectColor=t),isWidget:!0,disableHistory:!0,roundHistory:!0,disableAlpha:!0,format:"rgb"},null,8,["onPureColorChange","pureColor"]),Object(n["createElementVNode"])("div",{class:Object(n["normalizeClass"])(["color_cancel",{disable:!e.hasSelectNode}]),onClick:t[1]||(t[1]=(...e)=>i.cancelColor&&i.cancelColor(...e))},[mu,Object(n["createTextVNode"])(" "+Object(n["toDisplayString"])(e.$t("bgDelColor")),1)],2),Object(n["createElementVNode"])("div",{class:Object(n["normalizeClass"])(["confrim_btn",{disable:!e.selectColor||!e.hasSelectNode}]),onClick:t[2]||(t[2]=(...e)=>i.chooseColor&&i.chooseColor(...e))},Object(n["toDisplayString"])(e.$t("sure")),3)])]),_:1},8,["onClose"])}var hu=o("6b50"),pu=(o("75de"),{name:"",components:{card:Qn,ColorPicker:hu["a"]},setup(){const e=Object(n["reactive"])({selectColor:"rgb(0, 0, 0)",hasSelectNode:!1}),t=Object(l["useStore"])(),{proxy:o,appContext:i}=Object(n["getCurrentInstance"])(),{menuStore:r,modelStore:c}=t.state;Object(n["nextTick"])(()=>{i.config.globalProperties.$colorSet=e}),Object(n["watch"])(()=>r.colorMenu,e=>{e&&u()}),Object(n["watch"])(()=>r.menuChoose,e=>{"colorSet"!=e&&r.colorMenu&&t.commit("menuStore/setColorMenu",!1)}),o.$eventBus.on("openTagPointSub",e=>{a()}),o.$eventBus.on("clearSelectionSub",e=>{r.colorMenu&&u()}),o.$eventBus.on("deselectObjectEvent",e=>{r.colorMenu&&u()}),o.$eventBus.on("VolumnChange",e=>{r.colorMenu&&u()}),Object(n["onBeforeMount"])(()=>{}),Object(n["onMounted"])(()=>{Object(n["nextTick"])(()=>{$(".vc-saturation__cursor").removeAttr("style")})});const a=()=>{t.commit("menuStore/setColorMenu",!1)},s=()=>{if("#000000"==e.selectColor||!e.selectColor)return;if(!e.hasSelectNode)return;const o=ke._viewer.selectionManager.getSelectedObjects();if(!o||0==o.length)return;const n=A(e.selectColor),i=c.partAddColor||{},r=c.nowConfig,s=i[r]||{};o.map(e=>{ke._viewer.changeObjectColor(e.uuid,n),s[e.uuid]&&delete s[e.uuid],s[e.uuid]=n}),i[r]=s,t.commit("modelStore/sertPartAddColor",i),ke.clearSelection(),a(),nt.sendCenter(3)},d=o=>{o&&"#000000"!=o&&t.state.modelStore._brepload&&(e.selectColor=o,nt.sendCenter(4))},m=()=>{const e=ke._viewer.selectionManager.getSelectedObjects();if(!e||0==e.length)return;const o=c.partAddColor||{},n=c.nowConfig,i=o[n]||{};e.map(e=>{ke._viewer.changeObjectColor(e.uuid,null),i[e.uuid]=""}),o[n]=i,t.commit("modelStore/sertPartAddColor",o),ke.clearSelection(),a(),nt.sendCenter(3)},u=()=>{try{const t=ke._viewer.selectionManager.getSelectedObjects();t&&t.length>0?e.hasSelectNode=!0:e.hasSelectNode=!1}catch(t){e.hasSelectNode=!1}},h=Object(n["toRefs"])(e);return{close:a,chooseColor:s,colorChange:d,cancelColor:m,...h}}});o("582e");const gu=ht()(pu,[["render",uu],["__scopeId","data-v-62d389ee"]]);var vu=gu;const bu=e=>(Object(n["pushScopeId"])("data-v-6eb9b74e"),e=e(),Object(n["popScopeId"])(),e),wu={class:"header"},Su={class:"settings-content"},Cu={class:"settings-title"},yu={src:Zc.a,alt:""},Ou={src:Qc.a,alt:""},fu={src:Zc.a,alt:""},ju={src:Qc.a,alt:""},xu={src:Zc.a,alt:""},Tu={src:Qc.a,alt:""},Mu={class:"settings-title"},Du={class:"settings-flex bg-ul"},Eu={class:"settings-flex bg-ul"},ku=bu(()=>Object(n["createElementVNode"])("img",{src:xn.a,alt:""},null,-1));function Bu(e,t,o,i,r,c){const a=Object(n["resolveComponent"])("card"),s=Object(n["resolveDirective"])("set-bg");return Object(n["openBlock"])(),Object(n["createBlock"])(a,{class:Object(n["normalizeClass"])(["ndp3-my-page settings-card",{"settings-card-en":"en"==e.$i18n.locale}]),onClose:i.close},{header:Object(n["withCtx"])(()=>[Object(n["createElementVNode"])("div",wu,Object(n["toDisplayString"])(e.$t("settings")),1)]),default:Object(n["withCtx"])(()=>[Object(n["createElementVNode"])("div",Su,[Object(n["createElementVNode"])("div",Cu,Object(n["toDisplayString"])(e.$t("pcUnitIcon")),1),Object(n["createElementVNode"])("div",{onClick:t[0]||(t[0]=e=>i.unitChange("")),class:"settings-flex flex-start-radio"},[Object(n["withDirectives"])(Object(n["createElementVNode"])("img",yu,null,512),[[n["vShow"],""==i.modelStore.unit]]),Object(n["withDirectives"])(Object(n["createElementVNode"])("img",Ou,null,512),[[n["vShow"],""!=i.modelStore.unit]]),Object(n["createTextVNode"])(" "+Object(n["toDisplayString"])(e.$t("pcUnitType1")),1)]),Object(n["createElementVNode"])("div",{onClick:t[1]||(t[1]=e=>i.unitChange("mm")),class:"settings-flex flex-start-radio"},[Object(n["withDirectives"])(Object(n["createElementVNode"])("img",fu,null,512),[[n["vShow"],"mm"==i.modelStore.unit]]),Object(n["withDirectives"])(Object(n["createElementVNode"])("img",ju,null,512),[[n["vShow"],"mm"!=i.modelStore.unit]]),Object(n["createTextVNode"])(" "+Object(n["toDisplayString"])(e.$t("pcUnitType2")),1)]),Object(n["createElementVNode"])("div",{onClick:t[2]||(t[2]=e=>i.unitChange("in")),class:"settings-flex flex-start-radio"},[Object(n["withDirectives"])(Object(n["createElementVNode"])("img",xu,null,512),[[n["vShow"],"in"==i.modelStore.unit]]),Object(n["withDirectives"])(Object(n["createElementVNode"])("img",Tu,null,512),[[n["vShow"],"in"!=i.modelStore.unit]]),Object(n["createTextVNode"])(" "+Object(n["toDisplayString"])(e.$t("pcUnitType3")),1)]),Object(n["createElementVNode"])("div",Mu,Object(n["toDisplayString"])(e.$t("bgSetTxt")),1),Object(n["createElementVNode"])("ul",Du,[Object(n["createElementVNode"])("div",null,Object(n["toDisplayString"])(e.$t("bgColorTxt")),1),Object(n["createElementVNode"])("li",{class:Object(n["normalizeClass"])(["color-one",{active:1==e.bgTag||"num:15921906"==e.bgTag}]),onClick:t[3]||(t[3]=e=>i.setBg(1))},null,2),Object(n["createElementVNode"])("li",{class:Object(n["normalizeClass"])(["color-two",{active:2==e.bgTag}]),onClick:t[4]||(t[4]=e=>i.setBg(2))},null,2),Object(n["createElementVNode"])("li",{class:Object(n["normalizeClass"])(["color-three",{active:3==e.bgTag}]),onClick:t[5]||(t[5]=e=>i.setBg(3))},null,2),Object(n["withDirectives"])(Object(n["createElementVNode"])("li",{class:Object(n["normalizeClass"])(["color-four",{active:4==e.bgTag}]),onClick:t[6]||(t[6]=e=>i.setBg(4))},null,2),[[s,"img/scene/bg4.png"]]),Object(n["withDirectives"])(Object(n["createElementVNode"])("li",{class:Object(n["normalizeClass"])(["color-five",{active:5==e.bgTag}]),onClick:t[7]||(t[7]=e=>i.setBg(5))},null,2),[[s,"img/scene/bg5.png"]])]),Object(n["createElementVNode"])("ul",Eu,[Object(n["createElementVNode"])("div",null,Object(n["toDisplayString"])(e.$t("bgSceneTxt")),1),Object(n["withDirectives"])(Object(n["createElementVNode"])("li",{onClick:t[8]||(t[8]=e=>i.setBg("A")),class:Object(n["normalizeClass"])({active:"A"==e.bgTag})},null,2),[[s,"img/scene/1.jpg"]]),Object(n["withDirectives"])(Object(n["createElementVNode"])("li",{onClick:t[9]||(t[9]=e=>i.setBg("B")),class:Object(n["normalizeClass"])({active:"B"==e.bgTag})},null,2),[[s,"img/scene/2.jpg"]]),Object(n["withDirectives"])(Object(n["createElementVNode"])("li",{onClick:t[10]||(t[10]=e=>i.setBg("C")),class:Object(n["normalizeClass"])({active:"C"==e.bgTag})},null,2),[[s,"img/scene/3.jpg"]]),Object(n["withDirectives"])(Object(n["createElementVNode"])("li",{onClick:t[11]||(t[11]=e=>i.setBg("D")),class:Object(n["normalizeClass"])({active:"D"==e.bgTag})},null,2),[[s,"img/scene/4.jpg"]])]),Object(n["createElementVNode"])("div",{class:"reset-content",onClick:t[12]||(t[12]=(...e)=>i.resetClick&&i.resetClick(...e))},[ku,Object(n["createElementVNode"])("span",null,Object(n["toDisplayString"])(e.$t("pcReset2")),1)])])]),_:1},8,["class","onClose"])}var Nu={components:{card:Qn},name:"",setup(){const e=Object(n["reactive"])({bgTag:"1",sceneFinal:"",sceneLoading:!1}),t=Object(l["useStore"])(),{proxy:o,appContext:i}=Object(n["getCurrentInstance"])(),{modelStore:r}=t.state;Object(n["nextTick"])(()=>{i.config.globalProperties.$settingsCom=o}),o.$eventBus.on("shareBgSetSub",e=>{d(e)}),o.$eventBus.on("openTagPointSub",e=>{s()}),Object(n["onBeforeMount"])(()=>{}),Object(n["onMounted"])(()=>{});const c=e=>{switch(t.commit("modelStore/setUnitType",e),ke._viewer.setDispalyModelUnit(e),e){case"":B("pcUnitType1");break;case"mm":B("pcUnitType2");break;case"in":B("pcUnitType3");break;default:break}nt.sendCenter(4)},a=()=>{t.commit("modelStore/setUnitType",""),ke._viewer.setDispalyModelUnit(""),d(1,!0)},s=()=>{t.commit("menuStore/setSettingsMenu",!1),t.commit("menuStore/setMenuChoose","")},d=o=>{e.bgTag=o;const n=/^[1-3]*$/g,i=/^[4-5]*$/g,c=/^[A-D]*$/g;if(String(o).startsWith("num:")){var a=Number(o.split(":")[1]);ke.setBackGroundColor(a)}else if(String(o).startsWith("img:")){a=o.split(":")[1];ke._viewer.setBackGroundImage(a)}else if(n.test(o)){const e=A(mm[o]);ke.setBackGroundColor(e)}else if(i.test(o))ke._viewer.setBackGroundImage(mm[o]);else if(c.test(o)){const t=um[o];e.sceneFinal=t,m(t)}const s=r.bgSetList||[],l=r.nowConfig;s[l]=o,t.commit("modelStore/setBgSetList",s),B("backgroundSetTxt"),nt.sendCenter(4)},m=t=>{ke._viewer.setEnvMapTextures(t,o=>{1==o&&JSON.stringify(t)!=JSON.stringify(e.sceneFinal)&&m(e.sceneFinal)},e=>{})},u=Object(n["toRefs"])(e);return{unitChange:c,modelStore:r,resetClick:a,close:s,setBg:d,...u}}};o("dfa0");const Au=ht()(Nu,[["render",Bu],["__scopeId","data-v-6eb9b74e"]]);var _u=Au;let Iu,Vu=null,Pu=null,Lu=null;var $u={install(e){Iu=e},props:{viewCtrl:{type:Object,default:{language:"en",configNum:-1,bgColor:15921906,autoPlay:0,showShadow:!1,allowEditAttr:!1,tagRelateConfig:!1,configNum:-1,askAccuracy:!1,hideItem:{userdyAttr:!0,structTree:!0,pmi:!0,measure:!0},hidebtnCfg:[]}}},components:{Accuracy:gt,MsgTip:Tt,Tips:Bt,Loading:Pt,ClickPop:Zt,BottomBtn:Yc,explode:wa,configSwitch:Ba,coutSelect:Zi,volumeWeigth:es,structureTree:xs,attrBox:xl,tagCom:im,attrVolArea:vm,grith:Xr,structureTreeEasy:zm,unitChange:qm,pmiSet:ru,colorSet:vu,settings:_u},setup(){const e=Object(n["reactive"])({language:"en",askAlready:!1,showError:!1,unshowtag:!0,saveInit:!1,isLoaded:!1,broadTimer:null});Lu=e;const t=Object(l["useStore"])(),{menuStore:o,modelStore:i}=t.state,{proxy:r}=Object(n["getCurrentInstance"])();Vu=r,Pu=t,window.nd_viewCtrl||(window.nd_viewCtrl=r.viewCtrl),Object(n["onMounted"])(()=>{e.language=g(),0!=nd_viewCtrl.default&&nd_viewCtrl.src&&r.loadViewer(),window.nd_load3Dviewer=r.loadViewer;const o=o=>{try{o&&nd_viewCtrl.initLoad&&nd_viewCtrl.initLoad(),!o&&nd_viewCtrl.loadFaild&&nd_viewCtrl.loadFaild(),o&&(s(),h(),e.saveInit=!0,Object(n["nextTick"])(()=>{const e=document.querySelector(".viewbox");e.addEventListener("contextmenu",e=>{e.preventDefault(),e.stopPropagation()})}),k.init("3D"),v(),u(),C(),setTimeout(()=>{Ie.readyForDom(()=>{t.commit("showBottomBtn"),t.commit("showCtrlBtn"),t.commit("menuStore/setShowAllMenu",!0),r.$eventBus.emit("loadAndInitSub"),nt.sendCenter(2)})},50)),t.commit("setModelIsLoaded",!0),ke._viewer.setDispalyModelUnit(t.state.modelStore.unit),b(nd_viewCtrl.viewerBoxStyle||{})}catch(i){}};r.$eventBus.on("loadBack",o),r.$eventBus.on("clearbroadTimer",()=>{clearTimeout(e.broadTimer)})});const c=window.navigator.userAgent.toLocaleLowerCase(),a=/iphone|ipad|ipod|mac/.test(c);function s(){if(!e.saveInit){var o=ke._viewer.getUnvisibleList();o&&o.length>0&&t.commit("saveInitUnvisible",o);var n=ke._viewer.getTransparentList();n&&n.length>0&&t.commit("saveInitTransparent",n),t.state.modelStore.unit&&t.commit("saveInitUnit",t.state.modelStore.unit);var i=ke._viewer.getviewState(),r=ke.isPerspective()?"Perspective":"Orthographic";t.commit("saveInitViewparams",{viewState:i,proMode:r});var c=t.state.initParams.bgColor,a=t.state.initParams.bgImg,s=t.state.modelStore.configs.length;s=Math.max(s,1);var l=[];if(a){var d="img:"+nd_viewCtrl.bgImg;for(let e=0;e<s;e++)l[e]=d;t.commit("modelStore/setBgSetList",l),t.commit("saveInitBgSetList",l)}else if("0x"!=c&&""!=c&&void 0!=c){var m="num:"+String(c);for(let e=0;e<s;e++)l[e]=m;t.commit("modelStore/setBgSetList",l),t.commit("saveInitBgSetList",l)}else t.commit("setInitBgparams",{bgColor:"",bgImg:""})}}function d(e){p();var t={},o=e.shareInfo.camerainfo;o&&(t=e.shareInfo),ke._viewer.setSectionImageFlag(!0),ke.loadModelView(e.modejsPath,(function(){setTimeout(()=>{ke._viewer.onWindowResize()},2e3)}),e.configNum,o,t)}function m(e){t.commit("setAskaccruacyTc",!1),t.commit("modelStore/setAccuracyLevel",e);var o=t.state.modelStore.accuracyInfo.data,n=t.state.opt;if(window.accData=o,o&&o.length>0){var i=o.find(t=>t.Level==e||t.Folder==e);if(i){var c=n.mpath+i.Folder+"/";r.loadViewer(c)}}}function u(){"yzp"!=nd_viewCtrl.viewMode&&(nd_viewCtrl.hideRightkeyBtnClass||(nd_viewCtrl.hideRightkeyBtnClass=[]))}function h(){if(e.saveInit||t.commit("saveInitConfig",i.nowConfig),nd_viewCtrl.shareInfo&&nd_viewCtrl.shareInfo.cutInfo&&(r.$eventBus.emit("shareCoutSub",nd_viewCtrl.shareInfo.cutInfo),t.commit("saveInitCut",nd_viewCtrl.shareInfo.cutInfo)),nd_viewCtrl.shareInfo&&nd_viewCtrl.shareInfo.camerainfo&&nd_viewCtrl.shareInfo.camerainfo.isPerspective&&r.$eventBus.emit("isPerspectiveSub"),nd_viewCtrl.shareInfo&&nd_viewCtrl.shareInfo.camerainfo){let o=nd_viewCtrl.shareInfo.pmiVisible;const n=nd_viewCtrl&&(nd_viewCtrl.hideShowPMI||nd_viewCtrl._opt&&nd_viewCtrl._opt.hideShowPMI)||!1;n&&(o=!1);const i=ke._viewer.isAssemblyPmi()&&ke._viewer.isPartPmi();nd_viewCtrl.hideItem&&nd_viewCtrl.hideItem.pmi&&(o=!1),i||ke.setPmiVisible(o),t.commit("modelStore/setIsShowPmi",o),e.saveInit||t.commit("saveInitPMI",o)}if(nd_viewCtrl.shareInfo&&nd_viewCtrl.shareInfo.camerainfo){const n=nd_viewCtrl.shareInfo;var o={explodeMode:n.explodeMode,axis:n.explodeAxis,explodeObjects:n.explodeObjects,level:n.explodeLevel-1,expRatio:n.explodeFactor};r.$eventBus.emit("shareExplodeSub",Object.assign({},o)),e.saveInit||t.commit("saveInitExplode",o),ke._viewer.selectExplodeEvent(!1)}nd_viewCtrl.shareInfo&&nd_viewCtrl.shareInfo.camerainfo&&(nd_viewCtrl.unitType=nd_viewCtrl.shareInfo.unitType||"");let n=i.nowConfig,c=i.autoColorHex,a=i.partAddColor;if(nd_viewCtrl.shareInfo&&nd_viewCtrl.shareInfo.camerainfo&&(c&&!L(c)||(c=nd_viewCtrl.shareInfo.autoColorHex||{}),a&&!L(a)||(a=nd_viewCtrl.shareInfo.partAddColor||{})),c&&!L(c)&&(c[n]&&ke._viewer.autoChangeObjectColor(!0,c[n]),t.commit("modelStore/setAutoColorHex",c),e.saveInit||t.commit("saveInitAutoColorHex",c)),a&&!L(a)){t.commit("modelStore/sertPartAddColor",a),e.saveInit||t.commit("saveInitPartAddColor",a);let o=a[n];for(let e in o)o[e]?ke._viewer.changeObjectColor(e,o[e]):ke._viewer.changeObjectColor(e,null)}let s=i.bgSetList||[];if(!e.saveInit&&nd_viewCtrl.shareInfo&&nd_viewCtrl.shareInfo.bgSetList){const e=nd_viewCtrl.shareInfo.bgSetList;e&&e.length>0&&(s=e,t.commit("modelStore/setBgSetList",s),t.commit("saveInitBgSetList",s))}s[n]?r.$eventBus.emit("shareBgSetSub",s[n]):r.$eventBus.emit("shareBgSetSub","1")}function p(o){r.$eventBus||(r.$eventBus=Iu.$eventBus);const n=ke.getViewerIntance();n.addEventListener("loadBegin",(function(){t.commit("setShowLoading",!1)})),n.addEventListener("PMIInfoEvent",(function(){t.state.modelStore._geometryload&&(r.$eventBus.emit("loadBack",!0),r.$eventBus.emit("loadComplete")),t.commit("modelStore/setPmiload",!0),nd_viewCtrl.loadedEvent&&nd_viewCtrl.loadedEvent({geometry:t.state.modelStore._geometryload,pmi:!0,brep:t.state.modelStore._brepload})})),n.addEventListener("geometryAllLoadedEvent",(function(){t.commit("setShowLoading",!1),t.state.modelStore._pmiload&&(r.$eventBus.emit("loadBack",!0),r.$eventBus.emit("loadComplete")),qe(t.state.modelStore.nowTag,t.state.modelStore.allTag),t.commit("modelStore/setGeometryload",!0),r.$eventBus.emit("geometrySub",!0),nd_viewCtrl.loadedEvent&&nd_viewCtrl.loadedEvent({geometry:!0,pmi:t.state.modelStore._pmiload,brep:t.state.modelStore._brepload}),setTimeout(()=>{e.unshowtag=!1},1e3)})),n.addEventListener("loadError",(function(o){e.showError=!0,r.$eventBus.emit("MsgTipEvent",r.$t("modelLoadErr")),t.commit("setShowLoading",!1),r.$eventBus.emit("loadBack",!1),r.$eventBus.emit("loadFail")})),n.addEventListener("clearSelection",(function(e){r.$eventBus.emit("clearSelectionSub")})),n.addEventListener("measureTimes",(function(e){"sync"==nd_viewCtrl.viewMode&&e.times>9&&r.$eventBus.emit("MsgTipEvent",r.$t("measureTimesErr")),nd_viewCtrl.measureTimes&&nd_viewCtrl.measureTimes(e)})),n.addEventListener("BrepInfoEvent",(function(e){t.commit("modelStore/setBrepload",!0),nd_viewCtrl.loadedEvent&&nd_viewCtrl.loadedEvent({geometry:t.state.modelStore._geometryload,pmi:t.state.modelStore._pmiload,brep:!0})})),n.addEventListener("selectObjectEvent",(function(e){nd_viewCtrl&&nd_viewCtrl.selectChangeEvent&&nd_viewCtrl.selectChangeEvent("select"),r.$eventBus.emit("selectObjectEvent",ke.getSelectedObjects())})),n.addEventListener("deselectObjectEvent",(function(e){nd_viewCtrl&&nd_viewCtrl.selectChangeEvent&&nd_viewCtrl.selectChangeEvent("deselect"),r.$eventBus.emit("deselectObjectEvent")})),n.addEventListener("annotationSelectedEvent",(function(e){r.$eventBus.emit("resetAll")})),n.addEventListener("BodySelectionChangeEvent",(function(e){var o=null;e.volumeAreaInfo&&(o={area:e.volumeAreaInfo.area,volume:e.volumeAreaInfo.volume,modelUnit:e.modelUnit,type:"Body"}),r.$eventBus.emit("VolumnChange",o);const n=ke.getSelectedObjects();t.state.menuStore.structMenu&&t.state.menuStore.attrMenu&&1==n.length&&n[0].children.length<1&&r.$eventBus.emit("structNodeChoose",n)})),n.addEventListener("BodyMeasureChangeEvent",(function(e){var t=null;e.volumeAreaInfo&&("BodyArea"==e.measureType&&e.volumeAreaInfo.area>0?t={area:e.volumeAreaInfo.area,volume:null,modelUnit:e.modelUnit,type:"BodyArea"}:"BodyVolume"==e.measureType&&e.volumeAreaInfo.volume>0&&(t={area:null,volume:e.volumeAreaInfo.volume,modelUnit:e.modelUnit,type:"BodyVolume"})),r.$eventBus.emit("VolumnChange",t)})),n.addEventListener("FaceSelectionPerimeterEvent",(function(e){var t=null;"FaceSelectionPerimeterEvent"==e.type&&(t={perimeters:e.perimeters,modelUnit:e.modelUnit,type:"BodyPerimeter"}),r.$eventBus.emit("VolumnChange",t)})),n.addEventListener("FaceSelectionChangeEvent",(function(e){var t=null;e.faceArea&&(t={area:e.faceArea,modelUnit:e.modelUnit,type:"BodyFace"}),r.$eventBus.emit("VolumnChange",t)})),n.addEventListener("BodyTotalVolumeEvent",(function(e){var t=null;e.totalVolume&&(t={volume:e.totalVolume,modelUnit:e.modelUnit,type:"BodyAllVolume"}),r.$eventBus.emit("VolumnChange",t)})),n.addEventListener("BodyTotalAreaEvent",(function(e){var t=null;e.totalArea&&(t={area:e.totalArea,modelUnit:e.modelUnit,type:"BodyAllArea"}),r.$eventBus.emit("VolumnChange",t)})),n.addEventListener("ActiveSectionViewChangeEvent",(function(e){r.$eventBus.emit("coutBaseImg",e.base64Img)})),window.addEventListener("keydown",e=>{t.state.isInShift||16!=e.keyCode||t.commit("setIsInShift",!0)}),window.addEventListener("keyup",e=>{16==e.keyCode&&t.commit("setIsInShift",!1)}),n.addEventListener("broadcastEvent",(function(o){if("sync"==nd_viewCtrl.viewMode)try{if(e.broadTimer)return;e.broadTimer=setTimeout(()=>{clearInterval(e.broadTimer),e.broadTimer=null,t.state.modelStore._geometryload&&t.state.modelStore._pmiload&&(r.$tag.tcStep0||r.$tag.tcStep1||nd_viewCtrl.rtmSDK.joinStatus&&nt.sendCenter(1))},100)}catch(n){}}))}function v(){const e=document.querySelector(".viewbox");e&&e.addEventListener("mouseenter",()=>{const e=document.querySelector(".pc-alert");e&&(e.style.display="none")}),e&&e.addEventListener("mouseleave",()=>{const e=document.querySelector(".pc-alert");e&&e.innerText&&(e.style.display="block")})}function b(e){const t=document.querySelectorAll("#viewer .viewbox"),o=e.top||null,n=e.right||null;o&&(t[0].style.top=o),n&&(t[0].style.right=n)}function w(){r.$eventBus.emit("rigthClickEvent",{showPop:!1})}function S(e){r.$eventBus.emit("rigthClickEvent",{clientX:e.clientX,clientY:e.clientY,innerHeight:e.view.innerHeight,innerWidth:e.view.innerWidth,showPop:!0})}function C(){if("sync"!=nd_viewCtrl.viewMode)return!1;ke._viewer.startBroadcast(nd_viewCtrl.rtmSDK.isRtmOperate);let o=!1;e.isLoaded||(o=!nd_viewCtrl.rtmSDK.isRtmOperate&&!nd_viewCtrl.rtmSDK.isRtmFreeOper,t.commit("setRtmNeedCover",o),nd_viewCtrl.rtmSDK.isRtmOperate&&(nt.sendCenter(1),nt.sendCenter(2),nt.sendCenter(3),nt.sendCenter(4),nt.sendCenter(5),nt.sendCenter(6),nt.sendCenter(7),nt.sendCenter(9),nt.sendCenter(10)),nd_viewCtrl.rtmSDK.isRtmOperate||window.nd_rtmReceiveAllMsg()),e.isLoaded=!0}return a&&window.addEventListener("resize",(function(){t.state.isShowBottomBtn=!t.state.isShowBottomBtn,t.state.isShowCtrlBtn=!t.state.isShowCtrlBtn,setTimeout(()=>{t.state.isShowBottomBtn=!t.state.isShowBottomBtn,t.state.isShowCtrlBtn=!t.state.isShowCtrlBtn,r.$forceUpdate()},0)})),{...Object(n["toRefs"])(e),store:t,menuStore:o,modelStore:i,watchAllClick:w,watchRightClick:S,loadViewer2:d,setAccruacy:m}},methods:{loadViewer:function(e){void 0==e&&(e=nd_viewCtrl.src),Ne(e,(function(e){if(Pu.commit("setOpt",e),!Lu.askAlready&&e.hasManyAccuracy&&e.askAccuracy){let e=2;nd_viewCtrl.accuracyInfo&&nd_viewCtrl.accuracyInfo.curLevel&&(e=nd_viewCtrl.accuracyInfo.curLevel),Vu.setAccruacy(e)}else Vu.loadViewer2(e)}))}}};o("fa30"),o("e1bf"),o("cd10"),o("743d"),o("1b1a");const Ru=ht()($u,[["render",s],["__scopeId","data-v-5c5771c6"]]);var zu=Ru,Fu=o("02aa"),Hu=o("9cc1"),Uu={cancel:"Cancel",save:"Save",sure:"Confirm",sure2:"Confirm",search:"Search",back:"Back",exit:"Exit",del:"Delete",searchTree:"Search Designs",searchTree2:"Search",gUnit:"",areaBoxTxt:"Area：",volumnBoxTxt:"Volume：",areaAllBoxTxt:"Total Area：",volumnAllBoxTxt:"Total Volume：",premierTxt:"Perimeter",noTxt:"NO.",sizeTxt:"Size",accuracyInfo:"The model is too complex to load, you are advised to choose low precision mode to view. ",lowAccuracy:"Low precision mode",highAccuracy:"High precision mode",showSetting:"Display mode",multipleSetting:"Multiple Configuration",colorLine:"Shaded without edges",color:"Shaded",hidelineToSee:"Hidden edges visible",hidelineToHide:"Hidden edges removed",resetEye:"Home view",reset:"Reset",hideNote:"Hide comment",showNote:"Show comment",tagNote:"Comment",meter:"Measure",pmiHide:"Hide PMI",pmiShow:"Show PMI",coutObj:"Section view",structureTree:"Designs",attr:"Properties",bigBang:"Exploded views",drag:"Drag",showHide:"Show and hide",chooseMeterType:"Forms of Measurement",chooseMeterDistanceType:"Forms of Distance",chooseMeterLengthType:"Forms of Length",chooseMeterAngleType:"Forms of Angle",chooseMeterAreaType:"Forms of Area",chooseMeterVolumnWeightType:"Forms of Volume",chooseTagType:"Forms of Markup",distance:"Distance",pointToPoint:"Point to Point",pointToLine:"Point to Straight Line",pointToFace:"Point to Surface",lineToLine:"Line to Straight Line",lineToFace:"Straight Line to Surface",faceToFace:"Surface to Surface",circleDistance:"Center Distance",dotToPoint:"Axial-hole to Point",dotToLine:"Axial-hole to Straight Line",dotToFace:"Axial-hole to Surface",length:"Length",meterLine:"Line Meaurement ",circleLength:"Perimeter",angle:"Angle",lineToAngle:"Angle between straight lines",faceToAngle:"Angle between planes",lineToFaceAngle:"Angle between line and plane",radius:"Radius",area:"Area",selectedFace:"Select a plane",selectedObj:"Select a entity",totalArea:"Total area",volumeWeight:"Volume and Weight",selectToObj:"Select a entity",totalObj:"Total Entities",volumnWeightDetail:"Volume and Weight Details",material:"Material",chooseMaterial:"Choose A Material",enterSelfMaterial:"Insert the material/density",enterSelfMaterial2:"Insert the material density",selectedVolumn:"Volume",selectedWeight:"Weight",usualMaterial:"Common Material",selfMaterial:"Custom Material",meterBox:"Bounding Box",chooseMeterBoxType:"Forms of Bounding Box",totalBox:"Total bounding box",clear:"Clear",chooseStructureTree:"Designs",noTreeData:"No Result Found",noTreeData2:"No Result Found",chooseAttrType:"From of Properties",totalAttr:"Total Properties",selAttrDetail:"Select a entity",totalattrDetail:"Total Properties Details",normalAttr:"General",selfAttr:"User-defined",noAttr:"No user-defined found",faceFace:"Surface area",volumn:"Volume",weight:"Weight",boxVolume:"Box volume",objNum:"Entities",partNum:"Parts",pmiNum:"PMI",sureToDelAttr:"Sure to delete the Properties?",chooseCoutType:"Form of section view",chooseCoutType2:"Section view",coutFaceShow:"Display section plane",coutFaceShow2:"Open",coutFaceHide:"Hide",reverseCout:"Opposite",chooseToBang:"Slide to Choose the Explode stages",chooseToDrag:"Form of Drag",singleDrag:"Single drag",singleDragResert:"Single reset",allDragResert:"All reset",editAttr:"Edit Properties",attrType:"Classification",attrName:"Name",attrValue:"Values",addAttr:"Add Property",addAttr2:"Add Property",chooseDisplayType:"Form of Show and Hide",highLight:"Isolate",displayHide:"Hide",transparent:"Transparent",displayResert:"Show All",chooseToPart:"Click to select a part.",chooseShowType:"Display mode",serveErrorTips:"Exception",dataIsNeed:"Required",noChildCfg:"缺少当前子菜单配置",choosePoint:"Click to choose the position of the comment.",tagTitle:"Markup",tagholder:"Please enter your descriptions here. (optional)",tagPoint:"point",tagText:"text",tagDraw:"draw",tagArrow:"arrow",tagLine:"line",tagCircle:"circle",tagRect:"rect",tagSave:"Save",tagCancle:"Cancel",tagTip1:"Do not enter illegal characters",tagTip2:"The picture is too large",tagTip3:"Invalid picture format",tagTip4:"Please select a picture",tagTip5:"Select",loadError:"Loading error",tagDensity1:"Please fill out the density",tagDensity2:"Please fill out the correct density",expMode:"Explosion mode",expArea:"Explosion view of area",expFree:"Free explosion",expAdv:"Advanced explosion",expDirect:"Direction",expDirectX:"X-axis",expDirectY:"Y-axis",expDirectZ:"Z-axis",expLevel:"Level",expLevel1:"1",expLevel2:"2",expLevel3:"3",expLevel4:"4",expLevel5:"5",expSmall:"The part is smaller than the current selected level",expBar:"Drag the bar to see the explosion effect",pcNowConfig:"Current configuration",pcPartName:"Part Name",pcAllVolWt:"Total entity",pcEdit:"Edit",pcInpAttrName:"Please enter the property name",pcInpAttrName2:"Please enter the property name",pcInpAttrType:"Please enter the property type",pcInpAttrValue:"Please enter the property value",pcDelAttrTips:"Property data is no longer retained after deleted",pcBrepNotEnd:"Something wrong with measurement，please try again",pcFileTypeTips:"Invalid picture format",pcTrans:"Transparent",pcCancelTrans:"Cancel transparent",pcHidePart:"Hide",pcHideOther:"Hide others",pcAllShow:"Restore all",pcSingleShow:"Hide other parts",pcHighLight:"Isolate",pcStructLv:"Desigh hierarchy",pcStructCon:"Confined explosion",pcChooseCommonMt:"Choose common materials",pcChooseMtDe:"Please choose the material and density",pcChooseMtType:"Please choose the material type",pcMtType:"Material type",pcMtName:"Material name",pcSeePlan:"Information",pcSeePlan2:"Information",pcChoosePlan:"Select section",pcXcut:"X-axis",pcYcut:"Y-axis",pcZcut:"Z-axis",pcReset:"Reset",pcReset2:"Reset",pcClickSurePart:"Click to select a part",chooseMateria2:"Select the property type",pcInpAttrName3:"Duplicate name",pcMtxtLineShade:"Shaded without edges",pcMtxtShade:"Shaded",pcMtxtLineSee:"Hidden edges visible",pcMtxtLineMove:"Hidden edges removed",pcMtxtTagHide:"Hide comment",pcMtxtTagShow:"Show comment",pcMtxtPers:"Perspective",pcMtxtOrth:"Orthogonality",pcMtxtHomeView:"Home view",pcMtxtTagTxt:"Text",pcMtxtTagImg:"Picture",pcMtxtTagTxtImg:"Picture & Text",pcMtxtTagImg2:"Picture",pcMtxtSmartMeter:"Intelligent measurement",pcMtxtDistance:"Distance",pcMtxtLength:"Length",pcMtxtAngle:"Angle",pcMtxtRadius:"Radius",pcMtxtArea:"Area",pcMtxtVolWet:"Volume and weight",pcMtxtBox:"Bounding box",pcMtxtP2P:"Point to point",pcMtxtP2L:"Point to straight line",pcMtxtP2F:"Point to surface",pcMtxtL2L:"Straight line to straight line",pcMtxtL2F:"Line to surface",pcMtxtF2F:"Surface to surface",pcMtxtCpoint:"Center distance",pcMtxtX2P:"Axial-hole to point",pcMtxtX2L:"Axial-hole to line",pcMtxtX2F:"Axial-hole to surface",pcMtxtLmeter:"Line measurement",pcMtxtPmeter:"Perimeter",pcMtxtAngleL:"Angle between straight lines",pcMtxtAngleF:"Angle between planes",pcMtxtAngleLF:"Angle between line and plane",pcMtxtToF:"Select a plane",pcMtxtToSingle:"Select a entity",pcMtxtToAllPart:"Total entity",pcMtxtToAllBox:"Total bounding box",pcMtxtToAllAttr:"Total properties",pcMtxtTolArea:"Total area",pcMtxtIplus:"Zoom extents",pcCoutTip1:"Clockwise rotation",pcCoutTip2:"Contrarotate",pcCoutTip3:"Maximize",pcCoutTip4:"Mirror",pcCoutTip5:"Minimize",pcCursorTip:"Click to select the object",pcAllVol:"Total volume",pcAllWeight:"Total weight",pcNoPic:"No picture",pcUnitIcon:"Unit settings",pcUnitType1:"Default unit",pcUnitType2:"Metric unit(mm/kg)",pcUnitType3:"Imperial unit(in/lb)",tagAudioTips1:"Speaking time is too short",tagDelConfirm:"Are you sure to delete the current comment?",tagSaveConfirm:"Do you want to save the current comments?",tagAudioTimeTip:"",tagAudioCreate:"Undo to create a voice",tagAudioPress:"Push to talk",tagExitSee:"Exit",tagExit:"Exit",tagExit2:"Exit",tagTips:"Please enter text",tagDelImg:"Delete picture",tagNoRoot:"Please allow access to your microphone",tagSaveConfirm2:"Do you want to save the current comments?",tagSeeBigImg:"See a larger image",tagSeeSmallImg:"Minimize",pmiTxt1:"Select PMI",pmiTxt2:"Show PMI",pmiTxt3:"Show assembly PMI",pmiTxt4:"Show part PMI",colorTxt1:"Color all parts",colorTxt2:"Cancel all color",colorTxt3:"Select color",settings:"Settings",bgColorTxt:"Backgound color",bgSceneTxt:"Scene graph",bgSetTxt:"Background settings",openThisPart:"Preview Part",bgDelColor:"Cancel color",measureTimesErr:"Currently, there are too much measurement data, please delete them then try again",modelLoadErr:"model loaded error!",modelLimitErr:"Exceeded the maximum numer of users"};const Wu={zh:{...D},en:{...Uu}},Gu="zh",Xu=Object(Hu["createI18n"])({globalInjection:!0,legacy:!1,locale:Gu.split("-")[0]||"zh",messages:Wu});var Yu=Xu;o("93fc");let Ju;function Zu(e){Ju=e.config.globalProperties}function Ku(e){ke.onSectionView(!1);const t=p.state.modelStore.allTag,o=p.state.modelStore.configs,n=p.state.modelStore.nowConfigName;let i=t.filter((function(t){return e==t.state.uuid}));if(i=i[0],i.modelName&&i.modelName!=n&&nd_viewCtrl.tagRelateConfig){for(var r=0;r<o.length;r++)if(o[r].Name==i.modelName){p.commit("modelStore/setAnnotationTagId",e),p.commit("modelStore/changeMultipleCfg",r);break}}else ke.selectAnnotation(e)}window.nd_setViewBoxDir=function(e){ke._viewer.setViewBoxDir(e)},window.nd_getBrepMemory=function(){return ke._viewer.getBrepMemory()},window.nd_setCameraInfo=function(e){var t=JSON.parse(e);ke._viewer.setCameraInfo(t,!0)},window.nd_getCameraInfo=function(){var e=ke._viewer.getCameraInfo();return JSON.stringify(e)},window.nd_screenCapture=function(e,t){var o=0!=t;ke._viewer.getScreenCapture2((function(t){e&&e(t)}),!1,o)},window.nd_screenshot=function(e){e&&e(ke.getScreenCapture())},window.nd_screenTagCap=function(e){Ge(e)},window.nd_screenBounding=function(e){ke._viewer.getScreenCapturethumbnail((function(t){e&&e(t)}))},window.nd_delTags=function(e){p.commit("modelStore/delTagByuuid",e),"sync"==nd_viewCtrl.viewMode?(p.commit("tagStore/setTagshow",!0),ke._viewer.removeAllAnnotations(),setTimeout(()=>{qe(p.state.modelStore.nowTag,p.state.modelStore.allTag),nd_viewCtrl.rtmSDK.isRtmOperate||nd_viewCtrl.rtmSDK.isRtmFreeOper||nt.closeTagChange(p.state.modelStore.allTag||[]),nt.sendCenter(6),nt.sendCenter(2)},100)):(ke.removeAnnotation(e),qe(p.state.modelStore.nowTag,p.state.modelStore.allTag))},window.nd_delTag=window.nd_delTags,window.nd_version=function(){return{info:"DEV-2022-83 3D Viewer v5.5.x（中车接口）、2D Viewer v6.1.x（中车接口）",version:"v5.5.x"}},window.nd_test=function(e){Ju.$msgBox.showMsg(Ju.$t("tagSaveConfirm2"),(function(){}),(function(){}))},window.nd_updateTagtext=function(e,t){const o=p.state.modelStore.allTag;let n=o.filter((function(t){return e==t.state.uuid}));return!!(n&&n.length>0)&&(p.commit("modelStore/updateTagText",{uuid:e,text:t}),Ju.$tag.updateTagText(e,t),n[0])},window.nd_selectTag=function(e,t,o){var n=Ju.$tag;o?p.commit("modelStore/setNeedOpenImg",!0):p.commit("modelStore/setNeedOpenImg",!1),n.tcStep1&&n.saveEnable?(t&&t(!1),Ju.$msgBox.showMsg(Ju.$t("tagSaveConfirm2"),(function(){n.sureSave()}),(function(){Ku(e)}))):Ku(e)},window.nd_getShareInfo=function(){var e=ke._viewer.getUnvisibleList(),t=ke._viewer.getCameraInfo(),o=ke._viewer.getTransparentList(),n=ke._viewer.getviewState(),i=ke.isPerspective()?"Perspective":"Orthographic",r=G();r={...r,...p.state.modelStore.coutShareInfo};var c=ke._viewer.getClipPlaneInfo(),a=p.state.modelStore.unit,s=p.state.modelStore.bgSetList,l=p.state.modelStore.autoColorHex,d=p.state.modelStore.partAddColor,m=ke._viewer.getBoxClipInfo(),u=-1,h=p.state.modelStore.isModelCfg;h&&(u=ke._nowModel);var g=ke._viewer.isPmiVisible(),v={openZptPmi:ke._viewer.isAssemblyPMIVisible(),openPartPmi:ke._viewer.isPartPmiVisible()},b={explodeFactor:0,explodeMode:32,explodeLevel:0,explodeObjects:[],explodeAxis:0};return ke._viewer.isExploded()&&(b.explodeFactor=ke._viewer.getExplodeFactor(),b.explodeMode=ke._viewer.getExplodeMode(),32!=b.explodeMode&&(b.explodeLevel=ke._viewer.getExplodeLevel(),b.explodeObjects=ke._viewer.explodeObjects,b.explodeAxis=p.state.expStore.axis)),{useUnvisibleList:!0,useTransparentList:!0,unvisibleList:e,transparentList:o,camerainfo:t,viewState:n,projectionMode:i,configNum:u,explodeFactor:b.explodeFactor,explodeMode:b.explodeMode,explodeLevel:b.explodeLevel,explodeObjects:b.explodeObjects,explodeAxis:b.explodeAxis,cutInfo:r,clipPlaneInfo:c,clipBoxInfo:m,unitType:a,bgSetList:s,autoColorHex:l,partAddColor:d,pmiVisible:g,pmiSetObj:v||""}},window.nd_stopPlayAudio=function(){var e=Ju.$tag;e.tcCheckTI&&"checkaudio"==e.tcType&&e.exitChecktag()},window.nd_setBackGroundColor=function(e){var t=P(e);ke._viewer.setEnvMapTextures(),ke._viewer.setBackGroundColor(t);const o=p.state.modelStore.bgSetList||[];if(o.length>0){for(let e=0;e<o.length;e++)o[e]="num:"+String(t);p.commit("modelStore/setBgSetList",o),Ju.$settingsCom.bgTag="num:"+String(t)}},window.nd_setBackGroundImage=function(e){ke._viewer.setEnvMapTextures(),ke._viewer.setBackGroundImage(e);const t=p.state.modelStore.bgSetList||[];if(t.length>0){for(let o=0;o<t.length;o++)t[o]="img:"+String(e);p.commit("modelStore/setBgSetList",t),Ju.$settingsCom.bgTag="img:"+String(e)}},window.nd_restore=function(){var e=p.state.menuStore.menuChoose;Ju.$tag.forceExit(),ke.onResetCamera(),ke._viewer.setEnvMapTextures();var t=p.state.modelStore.nowConfig,o=p.state.initParams.nowConfig;let n=p.state.initParams.bgSetList||[];if(n[t])Ju.$eventBus.emit("shareBgSetSub",n[t]);else{Ju.$eventBus.emit("shareBgSetSub","1");let e=p.state.initParams.bgSetList||[];var i=p.state.initParams.bgColor,r=p.state.initParams.bgImg;r?(ke._viewer.setBackGroundImage(r),e[t]="img:"+r,p.commit("modelStore/setBgSetList",e)):"0x"!=i&&""!=i&&void 0!=i&&(ke._viewer.setBackGroundColor(i),e[t]="num:"+String(i),p.commit("modelStore/setBgSetList",e))}ke._viewer.autoChangeObjectColor();let c=p.state.initParams.autoColorHex,a=p.state.initParams.partAddColor,s=p.state.modelStore.partAddColor;if(c=c||p.state.modelStore.autoColorHex,c&&!L(c)?(c[t]&&ke._viewer.autoChangeObjectColor(!0,c[t]),p.commit("modelStore/setAutoColorHex",c)):(c=p.state.modelStore.autoColorHex,c&&!L(c)&&(c[t]=!1,p.commit("modelStore/setAutoColorHex",c))),a&&!L(a)){let e=a[t];for(let t in e)ke._viewer.changeObjectColor(t,e[t]);p.commit("modelStore/sertPartAddColor",a)}else s&&s[t]&&(s[t]={}),p.commit("modelStore/sertPartAddColor",s);const l=ke._viewer.isAssemblyPmi()&&ke._viewer.isPartPmi();l?(Ju.$eventBus.emit("closePmiSetSub"),Ju.$bottomBtn.pmiSetShowAsync=!0):(ke._viewer.setPmiVisible(p.state.initParams.isShowPmi),p.commit("modelStore/setIsShowPmi",p.state.initParams.isShowPmi));var d=p.state.initParams.viewState,m=p.state.initParams.proMode;d&&ke._viewer.setRenderMode(d);var u=ke.isPerspective();"Perspective"!=m||u?"Orthographic"==m&&u&&(ke._viewer.camera.toOrthographic(),ke._viewer.render()):(ke._viewer.camera.toPerspective(),ke._viewer.render()),Ju.$eventBus.emit("resetPerspectiveSub","Orthographic"==m);var h=p.state.initParams.cutInfo;o==t&&!L(h)&&h.isCutout?Ju.$eventBus.emit("shareCoutSub",h):Ju.$eventBus.emit("closeCoutState");var g=p.state.initParams.explode;if(o!=t||L(g)?Ju.$eventBus.emit("resetExplode"):Ju.$eventBus.emit("shareExplodeSub",g),ke._viewer.showAllModel(),o==t){if(p.state.initParams.transparentList.length>0){var v=p.state.initParams.transparentList;ke._viewer.setTransparentState(v,!0)}if(p.state.initParams.unvisibleList.length>0){v=p.state.initParams.unvisibleList;ke._viewer.showObjectbyId(v,!1)}}var b=p.state.modelStore.unit,w=p.state.initParams.unit;w!=b&&(p.commit("modelStore/setUnitType",w),ke._viewer.setDispalyModelUnit(w)),Ju.$eventBus.emit("closeDrag"),ke._viewer.restoreAllDraggedObjects(),Ju.$eventBus.emit("nodeShowChange"),p.state.menuStore.menuChoose||p.state.menuStore.menuChoose2||("meter"==e?p.commit("menuStore/setMenuChoose","meter"):p.state.menuStore.showOneMenu||p.commit("menuStore/setShowOneMenu",!0)),"attrAll"!=p.state.menuStore.menuChoose3&&"attrSingle"!=p.state.menuStore.menuChoose3||p.commit("menuStore/setMenuChoose3",""),Ju.$showHideBtn.displayMode=-1;var S=ke._viewer.getCurrentOperatorID();"OpMeasure"==S?setTimeout(()=>{p.commit("menuStore/setShowManyConfig",!1)},1e3):p.state.menuStore.showOneMenu&&"OpOrbit"!=S&&ke._viewer.setOperatorByID("OpOrbit")},window.nd_addTag=function(){"meter"!=p.state.menuStore.menuChoose&&"meterDistance"!=p.state.menuStore.menuChoose2||Ju.$eventBus.emit("closeMeasure"),Ju.$bottomBtn.chooseToTag(),p.commit("menuStore/setShowOneMenu",!1),Ju.$msgBox.isShow&&(Ju.$msgBox.isShow=!1),Ju.$showHideBtn.displayMode=-1,Ju.$property.saveAttrType="",p.commit("menuStore/setAttrMenu",!1),p.commit("menuStore/setMenuChoose3",""),Ju.$drawBtn.dragMode=-1,ke.setOperatorByID("OpOrbit"),ke._viewer.showprompt(!1)},window.nd_getObjectidList=function(){var e=ke._viewer.getModelTree(!0);return Oe(e)},window.nd_getProperty=function(e,t){return Ju.$attrCom.getProperty(e,t)},window.nd_getSelectList=function(){return ke._viewer.getSelectList()},window.nd_setSelectVisibleState=function(e){var t=ke._viewer.getSelectList();ke._viewer.showObjectbyId(t,e),Ju.$eventBus.emit("nodeShowChange"),ke._viewer.selectionManager.clearSelection(),ke._viewer.render()},window.nd_setVisibleState=function(e,t){ke._viewer.showObjectbyId(e,t),Ju.$eventBus.emit("nodeShowChange"),ke._viewer.selectionManager.clearSelection(),ke._viewer.render()},window.nd_setSelectState=function(e,t){ke._viewer.addSelectList(e,t),ke._viewer.render(),Ju.$eventBus.emit("VolumnChange");var o=t?"select":"deselect";nd_viewCtrl&&nd_viewCtrl.selectChangeEvent&&nd_viewCtrl.selectChangeEvent(o)},window.nd_setTransparentState=function(e,t){ke._viewer.setTransparentState(e,t),ke._viewer.selectionManager.clearSelection(),ke._viewer.render()},window.nd_setSelectColor=function(e){const t=ke._viewer.selectionManager.getSelectedObjects();if(t&&0!=t.length){var o=P(e),n=[];t.map(e=>{n.push(e.uuid),ke._viewer.changeObjectColor(e.uuid,o)}),ke._viewer.selectionManager.clearSelection(),ke._viewer.render(),p.commit("modelStore/setPartListColor",{uuidList:n,color:o})}},window.nd_enhancedDisplay=function(e){ke._viewer.selectionManager.clearSelection(),ke._viewer.zoomToObjectById(e),ke._viewer.addSelectList([e],!0),ke._viewer.render()},window.nd_resize=function(){ke._viewer.onWindowResize()},window.nd_render=function(){ke._viewer.render()},window.nd_initAlltag=function(e){try{const t=tt(e);p.commit("modelStore/setAllTag",e),p.commit("modelStore/setNowTag",t),ke._viewer.removeAllAnnotations(),qe(t,e,!0),nt.closeTagChange(e||[])}catch(t){}},window.nd_rtmReceiveAllMsg=function(e){nd_viewCtrl.rtmSDK.rtmGetChannelMsg((function(t){nt.receiveAllMsg(t,e,"fromWindow")}))},window.nd_rtmSendAllMsg=function(){nt.sendAllMsg()},window.nd_rtmReceiveMsg=function(e){nt.receiveCenter(e)},window.nd_rtmSetMettingMsg=function(e){e.hasOwnProperty("isRtmFreeOper")&&nt.freeOperChange(e.isRtmFreeOper,!!e.init),e.hasOwnProperty("isRtmOperate")&&nt.operateChange(e.isRtmOperate)};var Qu={install:Zu,nd_getShareInfo:nd_getShareInfo,nd_setViewBoxDir:nd_setViewBoxDir,nd_getBrepMemory:nd_getBrepMemory,nd_setCameraInfo:nd_setCameraInfo,nd_getCameraInfo:nd_getCameraInfo,nd_screenCapture:nd_screenCapture,nd_delTags:nd_delTags,nd_delTag:nd_delTag,nd_version:nd_version,nd_selectTag:nd_selectTag,nd_stopPlayAudio:nd_stopPlayAudio,nd_setBackGroundColor:nd_setBackGroundColor,nd_setBackGroundImage:nd_setBackGroundImage,nd_restore:nd_restore,nd_addTag:nd_addTag,nd_updateTagtext:nd_updateTagtext,nd_getObjectidList:nd_getObjectidList,nd_getProperty:nd_getProperty,nd_getSelectList:nd_getSelectList,nd_setSelectVisibleState:nd_setSelectVisibleState,nd_setVisibleState:nd_setVisibleState,nd_setSelectState:nd_setSelectState,nd_setTransparentState:nd_setTransparentState,nd_setSelectColor:nd_setSelectColor,nd_enhancedDisplay:nd_enhancedDisplay,nd_resize:nd_resize,nd_render:nd_render};let qu=function(e){return new Promise(t=>{var o=new Image;o.onload=function(){1==this.complete&&(t(!0),o=null)},o.onerror=function(){t(!1),o=null},o.src=e})};const eh={beforeMount(e,t,o,n){let i=t.value;i&&qu(i).then(t=>{t&&e.setAttribute("src",i)})}};let th;function oh(e){e.$eventBus=e.config.globalProperties.$eventBus,th=e}function nh(e){var t,o=e.el.dataset&&e.el.dataset.id;t=o||e.el.id;var n=e.el.attributes["track-name"];if(th.$eventBus.emit("rigthClickEvent",{showPop:!1}),n){let e=n.value;"showSetting"!=e&&th.$eventBus.emit("closeShowSetting")}nd_viewCtrl&&nd_viewCtrl.checkEvent?nd_viewCtrl.checkEvent(t,(function(o){0!=o&&(e.args&&e.args.apply(),nd_viewCtrl&&nd_viewCtrl.checkEventAfter&&nd_viewCtrl.checkEventAfter(t))})):e.args&&e.args.apply()}const ih=e=>{e.el.addEventListener("click",(function(t){t.stopPropagation(),nh(e)}))},rh={created(e,t){const o=t.value;ih({el:e,args:o})}};var ch={install:oh,clickDirective:rh};const ah=function(e,t){const o=t.instance.$i18n.locale||"zh",n=t.value[0],i=t.value[1],r=sh(i);let c;c=r||"img/ico-"+o+"/"+n+".png",e&&("true"==e.getAttribute("selected")?(c=lh(c),e.classList.add("select-m")):e.classList.remove("select-m"),e.setAttribute("src",c),e.onerror=function(){})},sh=function(e){const t=T();if("show"!=t.type)return!1;const o=t.showbtns||[];if(o.length<1)return!1;let n="";function i(e,t){for(let o=0;o<t.length;o++){let r=t[o];if(e==r.id){n=r.imgUrl||"";break}r.list&&i(e,r.list)}}return i(e,o),n};const lh=function(e){let t=e;return t=t.replace(/.png/,"-c.png"),t=t.replace(/.PNG/,"-c.PNG"),t=t.replace(/.jpg/,"-c.jpg"),t=t.replace(/.JPG/,"-c.JPG"),t=t.replace(/.jpeg/,"-c.jpeg"),t=t.replace(/.JPEG/,"-c.JPEG"),t},dh=function(e,t){const o=t.instance.$i18n.locale||"zh";"en"==o&&e.setAttribute("data-tip",t.value)};function mh(e,t,o,n){const i=e.querySelector(".dialog_header"),r=e;i.style.cssText+=";cursor:move;";const c=function(){return window.document.currentStyle?(e,t)=>e.currentStyle[t]:(e,t)=>getComputedStyle(e,!1)[t]}();i.onmousedown=null,i.onmousedown=e=>{const o=e.clientX,n=e.clientY,i=document.getElementById("vueMain").offsetWidth,a=document.getElementById("vueMain").offsetHeight,s=r.offsetWidth,l=r.offsetHeight,d=r.offsetLeft,m=i-r.offsetLeft-s,u=r.offsetTop,h=a-r.offsetTop-l;let p=c(r,"left"),g=c(r,"top");p.includes("%")?(p=+document.getElementById("vueMain").offsetWidth*(+p.replace(/\%/g,"")/100),g=+document.getElementById("vueMain").offsetHeight*(+g.replace(/\%/g,"")/100)):(p=+p.replace(/\px/g,""),g=+g.replace(/\px/g,"")),document.onmousemove=null,document.onmousemove=function(e){let c=e.clientX-o,s=e.clientY-n;"openLimit"!=t.value&&(-c>d?c=-d:c>m&&(c=m),-s>u?s=-u:s>h&&(s=h));let l=(c+p)/i*100,v=(s+g)/a*100;c+p<0&&(l=0),s+g<0&&(v=0),"openLimit"==t.value?r.style.cssText+=`;left:${c+p}px;top:${s+g}px;bottom: auto;right: auto;`:r.style.cssText+=`;left:${l}%;top:${v}%;bottom: auto;right: auto;`},document.onmouseup=function(e){document.onmousemove=null,document.onmouseup=null}}}const uh=function(e,t){e.style.backgroundImage=`url(${t.value})`,e.style.backgroundSize="100%",e.style.backgroundRepeat="no-repeat",e.onerror=function(){}},hh=Object(n["createApp"])(zu);hh.directive("real-img",eh),hh.directive("click-track",ch.clickDirective),hh.directive("img-switch",ah),hh.directive("tooltip",dh),hh.directive("drag",mh),hh.directive("set-bg",uh),hh.config.globalProperties.$eventBus=new Fu["a"],hh.use(zu),hh.use(Qu);const ph=hh.use(p).use(Yu).mount("#app");hh.use(ch);var gh=t["default"]=ph},"582e":function(e,t,o){"use strict";o("4e06")},5880:function(e,t){e.exports=Vuex},"58d7":function(e,t,o){"use strict";o("1d26")},"596c":function(e,t,o){},"5cdd":function(e,t,o){"use strict";o("2682")},6067:function(e,t,o){"use strict";o("86f8")},"60ca":function(e,t,o){var n={"./materialDensity":"3992","./materialDensity.js":"3992","./materialDensity_en":"538a","./materialDensity_en.js":"538a"};function i(e){var t=r(e);return o(t)}function r(e){if(!o.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}i.keys=function(){return Object.keys(n)},i.resolve=r,e.exports=i,i.id="60ca"},"616c":function(e,t,o){},6264:function(e,t,o){e.exports=o.p+"img/rotate-ccw.61705912.png"},6347:function(e,t,o){"use strict";o("4cc0")},"640d":function(e,t,o){"use strict";o("808a")},6703:function(e,t,o){"use strict";o("293e")},"67c4":function(e,t,o){"use strict";o("d088")},6844:function(e,t,o){"use strict";o("7b96")},"6ba1":function(e,t,o){},"6c54":function(e,t,o){},"6e2c":function(e,t,o){"use strict";o("a457")},"743d":function(e,t,o){"use strict";o("855d")},7547:function(e,t,o){},"77fb":function(e,t,o){},"7a78":function(e,t,o){"use strict";o("616c")},"7b96":function(e,t,o){},"7d74":function(e,t,o){"use strict";o("c13c")},"808a":function(e,t,o){},"80df":function(e,t,o){},"80ff":function(e,t,o){"use strict";o("0864")},"82fc":function(e,t,o){e.exports=o.p+"img/pen.16c2a6dd.png"},8360:function(e,t,o){},"855d":function(e,t,o){},"86f8":function(e,t,o){},"86fc":function(e,t,o){e.exports=o.p+"img/radio-nocheck.155cdeac.png"},"877f":function(e,t,o){},"8bbf":function(e,t){e.exports=Vue},9160:function(e,t,o){"use strict";o("6ba1")},9175:function(e,t,o){e.exports=o.p+"img/nomsg-en.310042a6.png"},"93fc":function(e,t){const o=32;function n(){const e=document.documentElement.clientWidth/2380;document.documentElement.style.fontSize=o*Math.min(e,2)+"px"}n(),window.addEventListener("resize",()=>{n()})},9718:function(e,t,o){e.exports=o.p+"img/color.ad185a94.png"},"9bbc":function(e,t,o){},a016:function(e,t,o){e.exports=o.p+"img/ico-clear-input.c78ee058.png"},a03f:function(e,t,o){"use strict";o("bb93")},a0f6:function(e,t,o){"use strict";o("bbef")},a457:function(e,t,o){},aca2:function(e,t,o){},b364:function(e,t,o){e.exports=o.p+"img/close-icon.0704ab42.png"},b4dc:function(e,t,o){e.exports=o.p+"img/close-menu.3b4f0d6d.png"},b981:function(e,t,o){e.exports=o.p+"img/reset-icon.bfaa2728.png"},bb93:function(e,t,o){},bbef:function(e,t,o){},c13c:function(e,t,o){},c155:function(e,t,o){"use strict";o("aca2")},c671:function(e,t,o){"use strict";o("2d3b")},c7ac:function(e,t,o){e.exports=o.p+"img/warn.da864e81.png"},c7da:function(e,t,o){},c9a1:function(e,t,o){},cb48:function(e,t,o){e.exports=o.p+"img/arrow_icon_c.8d20c3c0.png"},cd10:function(e,t,o){"use strict";o("0bca4")},cf7e:function(e,t,o){},d088:function(e,t,o){},d206:function(e,t,o){"use strict";o("448c")},d90e:function(e,t,o){"use strict";o("403f")},dbcb:function(e,t,o){e.exports=o.p+"img/icon_cancel.ac605f0d.png"},dd36:function(e,t,o){e.exports=o.p+"img/line.de196a65.png"},dd43:function(e,t,o){"use strict";o("ef1e")},dfa0:function(e,t,o){"use strict";o("1dd8")},e163:function(e,t,o){"use strict";o("c9a1")},e1bf:function(e,t,o){"use strict";o("77fb")},e41c:function(e,t,o){"use strict";o("596c")},e5e0:function(e,t,o){e.exports=o.p+"img/nomsg-zh.01650d46.png"},ec67:function(e,t,o){},ec6b:function(e,t,o){e.exports=o.p+"img/mirror-image.0d38c14a.png"},ec93:function(e,t,o){},ef1e:function(e,t,o){},ef79:function(e,t,o){"use strict";o("1f56")},f240:function(e,t,o){e.exports=o.p+"img/arrow_icon.30b57c61.png"},f737:function(e,t,o){},f8a0:function(e,t,o){"use strict";o("877f")},fa30:function(e,t,o){"use strict";o("9bbc")}});